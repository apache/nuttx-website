<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The case of ARM CM4 &amp; cxd32xx @NuttX12.4.0 &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
      <script src="../../_static/doctools.js"></script>
      <script src="../../_static/sphinx_highlight.js"></script>
      <script src="../../_static/clipboard.min.js"></script>
      <script src="../../_static/copybutton.js"></script>
      <script src="../../_static/design-tabs.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Updating a Release System with ELF Programs" href="../updating_release_system_elf.html" />
    <link rel="prev" title="Porting to the BCM2711 (Raspberry Pi 4B)" href="bcm2711-rpi4b.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../latest" selected="selected">latest</option>
    
    <option value="../../../10.0.0" >10.0.0</option>
    
    <option value="../../../10.0.1" >10.0.1</option>
    
    <option value="../../../10.1.0" >10.1.0</option>
    
    <option value="../../../10.2.0" >10.2.0</option>
    
    <option value="../../../10.3.0" >10.3.0</option>
    
    <option value="../../../11.0.0" >11.0.0</option>
    
    <option value="../../../12.0.0" >12.0.0</option>
    
    <option value="../../../12.1.0" >12.1.0</option>
    
    <option value="../../../12.2.0" >12.2.0</option>
    
    <option value="../../../12.2.1" >12.2.1</option>
    
    <option value="../../../12.3.0" >12.3.0</option>
    
    <option value="../../../12.4.0" >12.4.0</option>
    
    <option value="../../../12.5.0" >12.5.0</option>
    
    <option value="../../../12.5.1" >12.5.1</option>
    
    <option value="../../../12.6.0" >12.6.0</option>
    
    <option value="../../../12.7.0" >12.7.0</option>
    
    <option value="../../../12.8.0" >12.8.0</option>
    
    <option value="../../../12.9.0" >12.9.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Supported Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../nfs.html">NFS Client How-To</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usbtrace.html">USB Device Trace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simulator.html">Simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rndis.html">How to use RNDIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drivers.html">Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cpp_cmake.html">C++ Example using CMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pysimcoder.html">pysimCoder integration with NuttX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customboards.html">Custom Boards How-To</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customapps.html">Custom Apps How-to</a></li>
<li class="toctree-l2"><a class="reference internal" href="../citests.html">Running CI Test Locally</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zerolatencyinterrupts.html">High Performance: Zero Latency Interrupts, Maskable Nested Interrupts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fortify.html">Fortify</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nestedinterrupts.html">Nested Interrupts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ofloader.html">Open Flash Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testingtcpip.html">Testing TCP/IP Network Stacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../automounter.html">Auto-Mounter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stm32nullpointer.html">STM32 Null Pointer Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stm32ccm.html">STM32 CCM Allocator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../etcromfs.html">etc romfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thread_local_storage.html">Thread Local Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devicetree.html">Device Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changing_systemclockconfig.html">Changing the System Clock Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingkernelthreads.html">Using Kernel Threads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../armv7m_runtimestackcheck.html">ARMv7-M Run Time Stack Checking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../include_files_board_h.html">Including Files in board.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="../specialstuff_in_nuttxheaderfiles.html">Why can’t I put my special stuff in NuttX header files?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel_threads_with_custom_stacks.html">Kernel Threads with Custom Stacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../versioning_and_task_names.html">Versioning and Task Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging_rambuffer.html">Logging to a RAM Buffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ipv6.html">IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrate_newlib.html">Integrating with Newlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protected_build.html">NuttX Protected Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platform_directories.html">Platform Directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../port_drivers_to_stm32f7.html">Porting Drivers to the STM32 F7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semihosting.html">Semihosting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../renode.html">Run NuttX on Renode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../signal_events_interrupt_handlers.html">Signaling Events from Interrupt Handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../signaling_sem_priority_inheritance.html">Signaling Semaphores and Priority Inheritance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smaller_vector_tables.html">Smaller Vector Tables</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../port.html">How to port</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../port_bootsequence.html">The diagram of boot sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../port_relatedkernelconfigrations.html">The list of related kernel configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../port.html#porting-procedure">Porting procedure</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../port.html#porting-case-studies">Porting Case Studies</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="bcm2711-rpi4b.html">Porting to the BCM2711 (Raspberry Pi 4B)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">The case of ARM CM4 &amp; cxd32xx &#64;NuttX12.4.0</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#step1-add-the-soc">Step1 : Add the SoC</a></li>
<li class="toctree-l5"><a class="reference internal" href="#step2-add-the-board">Step2 : Add the Board</a></li>
<li class="toctree-l5"><a class="reference internal" href="#step3-configure">Step3 : Configure</a></li>
<li class="toctree-l5"><a class="reference internal" href="#step4-compile">Step4 : Compile</a></li>
<li class="toctree-l5"><a class="reference internal" href="#step5-link">Step5 : Link</a></li>
<li class="toctree-l5"><a class="reference internal" href="#step6-implement">Step6 : Implement</a></li>
<li class="toctree-l5"><a class="reference internal" href="#step7-verify">Step7 : Verify</a></li>
<li class="toctree-l5"><a class="reference internal" href="#appendix-out-of-tree-code">Appendix : out-of-tree code</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../updating_release_system_elf.html">Updating a Release System with ELF Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../partially_linked_elf.html">ELF Programs – With Symbol Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fully_linked_elf.html">ELF Programs – No Symbol Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building_nuttx_with_app_out_of_src_tree.html">Building NuttX with Applications Outside the Source Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building_uclibcpp.html">Building uClibc++</a></li>
<li class="toctree-l2"><a class="reference internal" href="../custom_app_directories.html">Custom Application Directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multiple_nsh_sessions.html">Multiple NSH Sessions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nsh_network_link_management.html">NSH Network Link Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ram_rom_disks.html">RAM Disks and ROM Disks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reading_can_msgs.html">Reading CAN Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../remove_device_drivers_nsh.html">Removing Device Drivers with NSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rust.html">Rust in NuttX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optee.html">Interfacing with OP-TEE</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Guides</a></li>
          <li class="breadcrumb-item"><a href="../port.html">How to port</a></li>
      <li class="breadcrumb-item active">The case of ARM CM4 &amp; cxd32xx &#64;NuttX12.4.0</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/guides/porting-case-studies/port_arm_cm4.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-case-of-arm-cm4-cxd32xx-nuttx12-4-0">
<h1>The case of ARM CM4 &amp; cxd32xx &#64;NuttX12.4.0<a class="headerlink" href="#the-case-of-arm-cm4-cxd32xx-nuttx12-4-0" title="Permalink to this heading"></a></h1>
<section id="step1-add-the-soc">
<h2>Step1 : Add the SoC<a class="headerlink" href="#step1-add-the-soc" title="Permalink to this heading"></a></h2>
<p>Create the SoC directory.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ touch arch/arm/include/cxd32xx
$ touch arch/arm/src/cxd32xx
</pre></div>
</div>
<p>Modify “arch/arm/Kconfig” to register the SoC directory.</p>
<p>Add “Kconfig” and “Make.defs” for the SoC directory.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ touch arch/arm/src/cxd32xx/Kconfig
$ touch arch/arm/src/cxd32xx/Make.defs
</pre></div>
</div>
<p>For details about these files, see <a class="reference external" href="https://github.com/apache/nuttx/pull/12441">apache/nuttx/pull/12441</a></p>
</section>
<section id="step2-add-the-board">
<h2>Step2 : Add the Board<a class="headerlink" href="#step2-add-the-board" title="Permalink to this heading"></a></h2>
<p>There are two ways about adding the Board directory.
The one is in-of-tree, another one is out-of-tree.
For details see <a class="reference internal" href="../customboards.html"><span class="doc">Custom Boards How-To</span></a>.
And if you wanted to add own apps, see <a class="reference internal" href="../customapps.html"><span class="doc">Custom Apps How-to</span></a>.</p>
<p>This time, the way of out-of-tree is selected.
The directory structure is following :</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>apps/
nuttx/
out-of-tree/cxd32xx_boards
</pre></div>
</div>
<p>Create the board : cb2sdb2 as the board of cxd32xx.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ touch out-of-tree/cxd32xx_boards/cb2sdb2/configs/nsh
$ touch out-of-tree/cxd32xx_boards/cb2sdb2/include
$ touch out-of-tree/cxd32xx_boards/cb2sdb2/scripts
$ touch out-of-tree/cxd32xx_boards/cb2sdb2/src
</pre></div>
</div>
<p>Add “Kconfig”, “defconfig”, “Make.defs” and “Makefile”.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ touch out-of-tree/cxd32xx_boards/cb2sdb2/Kconfig
$ touch out-of-tree/cxd32xx_boards/cb2sdb2/configs/nsh/defconfig
$ touch out-of-tree/cxd32xx_boards/cb2sdb2/scripts/Make.defs
$ touch out-of-tree/cxd32xx_boards/cb2sdb2/src/Makefile
</pre></div>
</div>
<p>For details about these files, see <a class="reference internal" href="#out-of-tree"><span class="std std-ref">Appendix : out-of-tree code</span></a>.</p>
</section>
<section id="step3-configure">
<h2>Step3 : Configure<a class="headerlink" href="#step3-configure" title="Permalink to this heading"></a></h2>
<p>Now you can do configure by following commands.
It is important to confirm these commands are working.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ cd nuttx
$ ./tools/configure.sh -l ../out-of-tree/cxd32xx_boards/cb2sdb2/configs/nsh
</pre></div>
</div>
<p>And you can do menuconfig by following command.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ make menuconfig
</pre></div>
</div>
<p>And you can do distclean by following command.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ make distclean
</pre></div>
</div>
</section>
<section id="step4-compile">
<h2>Step4 : Compile<a class="headerlink" href="#step4-compile" title="Permalink to this heading"></a></h2>
<p>Try to build with the implementation of Step1-2, you would face the error as following
if you implemented only directory / Kconfig / Make.defs / Makefile / defconfig about Step1-2.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ make
Create version.h
LN: platform/board to /home/lassdk/workdir/nuttx1/apps/platform/dummy
In file included from /home/lassdk/workdir/nuttx1/nuttx/include/nuttx/irq.h:37:0,
                 from /home/lassdk/workdir/nuttx1/nuttx/include/nuttx/sched.h:40,
                 from /home/lassdk/workdir/nuttx1/nuttx/include/nuttx/arch.h:87,
                 from ./clock/clock_initialize.c:37:
/home/lassdk/workdir/nuttx1/nuttx/include/arch/irq.h:43:27:
fatal error: arch/chip/irq.h: No such file or directory
compilation terminated.
ERROR: arm-none-eabi-gcc failed: 1
       command: arm-none-eabi-gcc -MT ./clock_initialize.o  -M &#39;-Wstrict-prototypes&#39;
        &#39;-Wno-attributes&#39; &#39;-Wno-unknown-pragmas&#39; &#39;-Wno-psabi&#39; &#39;-Os&#39;
         &#39;-fno-strict-aliasing&#39; &#39;-fomit-frame-pointer&#39; &#39;-fno-common&#39; &#39;-Wall&#39;
         &#39;-Wshadow&#39; &#39;-Wundef&#39;
         &#39;-ffunction-sections&#39; &#39;-fdata-sections&#39; &#39;-mlittle-endian&#39;
         &#39;-march=armv7e-m&#39; &#39;-mtune=cortex-m4&#39;
          &#39;-mfpu=fpv4-sp-d16&#39; &#39;-mfloat-abi=hard&#39; &#39;-mthumb&#39; &#39;-Wa,-mthumb&#39;
          &#39;-Wa,-mimplicit-it=always&#39; &#39;-isystem&#39;
          &#39;/home/lassdk/workdir/nuttx1/nuttx/include&#39;
           &#39;-D__NuttX__&#39; &#39;-DNDEBUG&#39; &#39;-D__KERNEL__&#39; &#39;-pipe&#39; &#39;-I&#39;
           &#39;/home/lassdk/workdir/nuttx1/nuttx/sched&#39; ./clock/clock_initialize.c
make[2]: *** [/home/lassdk/workdir/nuttx1/nuttx/tools/Config.mk:230:
clock_initialize.ddc] Error 1
make[1]: *** [Makefile:71: .depend] Error 2
make: *** [tools/Unix.mk:619: pass2dep] Error 2
</pre></div>
</div>
<p>Try to add “irq.h” with referring to cxd56xx and retry to build.
This time, the build system will teach that you have to implement “chip.h” as following.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ make
CC:  clock/clock_initialize.c In file included from
 /home/lassdk/workdir/nuttx2/nuttx/include/arch/armv7-m/irq.h:37:0,
                 from /home/lassdk/workdir/nuttx2/nuttx/include/arch/irq.h:56,
                 from /home/lassdk/workdir/nuttx2/nuttx/include/nuttx/irq.h:37,
                 from /home/lassdk/workdir/nuttx2/nuttx/include/nuttx/sched.h:40,
                 from /home/lassdk/workdir/nuttx2/nuttx/include/nuttx/arch.h:87,
                 from clock/clock_initialize.c:37:
/home/lassdk/workdir/nuttx2/nuttx/include/arch/armv7-m/nvicpri.h:28:28
 fatal error: arch/chip/chip.h: No such file or directory
compilation terminated.
make[1]: *** [Makefile:61: clock_initialize.o] Error 1
make: *** [tools/LibTargets.mk:65: sched/libsched.a] Error 2
</pre></div>
</div>
<p>Continue this try and error until pass the Compiling.</p>
</section>
<section id="step5-link">
<h2>Step5 : Link<a class="headerlink" href="#step5-link" title="Permalink to this heading"></a></h2>
<p>After the pass of Compiling, you will get following error.
To resolve this error, you have to implement the linker script.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ make
make[1]: *** No rule to make target
&#39;/home/lassdk/workdir/nuttx1/nuttx/../cxd32xx_boards/cb2sdb2/scripts/cb2sdb2.ld&#39;,
needed by &#39;/home/lassdk/workdir/nuttx1/nuttx/../cxd32xx_boards/cb2sdb2/scripts/cb2sdb2.ld.tmp&#39;.
  Stop.
make: *** [tools/Unix.mk:545: nuttx] Error 2
</pre></div>
</div>
<p>Try to add the linker script with referring to some board(cxd56xx, lpc43xx, etc) or <a class="reference internal" href="#out-of-tree"><span class="std std-ref">Appendix : out-of-tree code</span></a>
and retry to build, the build system will teach that you have to implement some symbols as following.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ make
CPP:  /home/lassdk/workdir/nuttx1/nuttx/../cxd32xx_boards/cb2sdb2/scripts/cb2sdb2.ld-&gt;
 /home/lassdk/workdir/nuttx1/nuttx/../boarLD: nuttx
arm-none-eabi-ld: warning: cannot find entry symbol __start; defaulting to 24011000
/home/lassdk/workdir/nuttx1/nuttx/staging/libarch.a(arm_vectors.o):(.vectors+0x4):
undefined reference to `__start&#39;
/home/lassdk/workdir/nuttx1/nuttx/staging/libarch.a(arm_doirq.o): In function `arm_doirq&#39;:
arm_doirq.c:(.text.arm_doirq+0x12): undefined reference to `arm_ack_irq&#39;
/home/lassdk/workdir/nuttx1/nuttx/staging/libdrivers.a(syslog_channel.o):
In function `syslog_default_putc&#39;:
syslog_channel.c:(.text.syslog_default_putc+0x2): undefined reference to `up_putc&#39;
/home/lassdk/workdir/nuttx1/nuttx/staging/libarch.a(arm_nputs.o): In function `up_nputs&#39;:
arm_nputs.c:(.text.up_nputs+0x10): undefined reference to `up_putc&#39;
make[1]: *** [Makefile:197: nuttx] Error 1
make: *** [tools/Unix.mk:545: nuttx] Error 2
</pre></div>
</div>
</section>
<section id="step6-implement">
<h2>Step6 : Implement<a class="headerlink" href="#step6-implement" title="Permalink to this heading"></a></h2>
<p>There are some implementation items, major items are below listed. To pass the Linking,
try to implement these symbols.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Category</p></td>
<td><p>Item</p></td>
<td colspan="2"><p>Comment</p></td>
</tr>
<tr class="row-even"><td rowspan="5"><p>SoC directory</p></td>
<td><p>entory point : __start</p></td>
<td colspan="2" rowspan="5"><p><a class="reference external" href="https://github.com/apache/nuttx/pull/12441">apache/nuttx/pull/12441</a></p></td>
</tr>
<tr class="row-odd"><td><p>Serial Driver</p></td>
</tr>
<tr class="row-even"><td><p>IDLE task stack</p></td>
</tr>
<tr class="row-odd"><td><p>INTC</p></td>
</tr>
<tr class="row-even"><td><p>Timer</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>Board directory</p></td>
<td><p>board_app_initialize</p></td>
<td><p><a class="reference internal" href="../../applications/nsh/customizing.html"><span class="doc">The NSH Library and NSH Initialization</span></a></p></td>
<td rowspan="2"><p><a class="reference internal" href="#out-of-tree"><span class="std std-ref">Appendix : out-of-tree code</span></a></p></td>
</tr>
<tr class="row-even"><td><p>&lt;arch&gt;_board_initialize</p></td>
<td><p><a class="reference external" href="https://github.com/apache/nuttx/blob/master/sched/Kconfig">sched/Kconfig</a> :BOARD_&lt;EARLY/LATE&gt;_INITIALIZE</p></td>
</tr>
</tbody>
</table>
<p>If got the pass of Linking, you would see following result.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ make
Create version.h
LN: platform/board to /home/lassdk/workdir/nuttx2/apps/platform/dummy
Register: nsh
Register: sh
CPP:  /home/lassdk/workdir/nuttx2/nuttx/../boards/cb2sdb2/scripts/cb2sdb2.ld-&gt;
 /home/lassdk/workdir/nuttx2/nuttx/../boarLD: nuttx
</pre></div>
</div>
</section>
<section id="step7-verify">
<h2>Step7 : Verify<a class="headerlink" href="#step7-verify" title="Permalink to this heading"></a></h2>
<p>To execute and debug on the evaluation board, add following configurations.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_RAW_BINARY=y
CONFIG_DEBUG_SYMBOLS=y
</pre></div>
</div>
<p>If your implementations were good, you would see following logs.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NuttShell (NSH) NuttX-12.4.0
nsh&gt;
nsh&gt;
nsh&gt;
</pre></div>
</div>
<p>After confirming to boot NuttShell(NSH), try to execute “apps/testing/ostest”.
The “apps/testing/ostest” needs following configurations.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_BUILTIN=y
CONFIG_NSH_BUILTIN_APPS=y
CONFIG_SCHED_WAITPID=y
CONFIG_TESTING_OSTEST=y
</pre></div>
</div>
<p>And one more test is recommended to check the timer implementation whether
the kernel could count the time accurately or not.
I checked it by following code. About the function : cxd32_timerget(),
see <a class="reference external" href="https://github.com/apache/nuttx/pull/12441">apache/nuttx/pull/12441</a></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>extern uint32_t cxd32_timerget(void);

  {
    uint32_t pre;
    uint32_t post;

    pre = cxd32_timerget();
    sleep(1);
    post = cxd32_timerget();
    printf(&quot;pre:%lu post:%lu expect:1sec\n&quot;, pre, post);

    pre = cxd32_timerget();
    sleep(10);
    post = cxd32_timerget();
    printf(&quot;pre:%lu post:%lu expect:10sec\n&quot;, pre, post);
  }
</pre></div>
</div>
</section>
<section id="appendix-out-of-tree-code">
<span id="out-of-tree"></span><h2>Appendix : out-of-tree code<a class="headerlink" href="#appendix-out-of-tree-code" title="Permalink to this heading"></a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>diff --git a/cxd32xx_apps/Make.defs b/cxd32xx_apps/Make.defs
new file mode 100644
index 0000000..2d6b86e
--- /dev/null
+++ b/cxd32xx_apps/Make.defs
@@ -0,0 +1 @@
+include $(wildcard $(APPDIR)/cxd32xx_apps/*/Make.defs)
diff --git a/cxd32xx_apps/Makefile b/cxd32xx_apps/Makefile
new file mode 100644
index 0000000..e451b29
--- /dev/null
+++ b/cxd32xx_apps/Makefile
@@ -0,0 +1,3 @@
+MENUDESC = &quot;cxd32xx_apps&quot;
+
+include $(APPDIR)/Directory.mk
diff --git a/cxd32xx_apps/hello/Kconfig b/cxd32xx_apps/hello/Kconfig
new file mode 100644
index 0000000..7f0b41e
--- /dev/null
+++ b/cxd32xx_apps/hello/Kconfig
@@ -0,0 +1,29 @@
+#
+# For a description of the syntax of this configuration file,
+# see the file kconfig-language.txt in the NuttX tools repository.
+#
+
+config CXD32XX_APPS_HELLO
+    tristate &quot;CXD32XX Hello App&quot;
+    default n
+    ---help---
+        Enable the CXD32XX Hello App
+
+if CXD32XX_APPS_HELLO
+
+config CXD32XX_APPS_HELLO_PROGNAME
+    string &quot;Program name&quot;
+    default &quot;hello&quot;
+    ---help---
+        This is the name of the program that will be used when the NSH ELF
+        program is installed.
+
+config CXD32XX_APPS_HELLO_PRIORITY
+    int &quot;CXD32XX Hello task priority&quot;
+    default 100
+
+config CXD32XX_APPS_HELLO_STACKSIZE
+    int &quot;CXD32XX Hello stack size&quot;
+    default DEFAULT_TASK_STACKSIZE
+
+endif
diff --git a/cxd32xx_apps/hello/Make.defs b/cxd32xx_apps/hello/Make.defs
new file mode 100644
index 0000000..730329a
--- /dev/null
+++ b/cxd32xx_apps/hello/Make.defs
@@ -0,0 +1,3 @@
+ifneq ($(CONFIG_CXD32XX_APPS_HELLO),)
+CONFIGURED_APPS += $(APPDIR)/cxd32xx_apps/hello
+endif
diff --git a/cxd32xx_apps/hello/Makefile b/cxd32xx_apps/hello/Makefile
new file mode 100644
index 0000000..b3438e1
--- /dev/null
+++ b/cxd32xx_apps/hello/Makefile
@@ -0,0 +1,14 @@
+include $(APPDIR)/Make.defs
+
+# Custom Hello built-in application info
+
+PROGNAME = $(CONFIG_CXD32XX_APPS_HELLO_PROGNAME)
+PRIORITY = $(CONFIG_CXD32XX_APPS_HELLO_PRIORITY)
+STACKSIZE = $(CONFIG_CXD32XX_APPS_HELLO_STACKSIZE)
+MODULE = $(CONFIG_CXD32XX_APPS_HELLO)
+
+# Custom Hello
+
+MAINSRC = hello.c
+
+include $(APPDIR)/Application.mk
diff --git a/cxd32xx_apps/hello/hello.c b/cxd32xx_apps/hello/hello.c
new file mode 100644
index 0000000..b14a762
--- /dev/null
+++ b/cxd32xx_apps/hello/hello.c
@@ -0,0 +1,24 @@
+/****************************************************************************
+ * cxd32xx_apps/hello/hello.c
+ ****************************************************************************/
+
+/****************************************************************************
+ * Included Files
+ ****************************************************************************/
+
+#include &lt;nuttx/config.h&gt;
+#include &lt;stdio.h&gt;
+
+/****************************************************************************
+ * Public Functions
+ ****************************************************************************/
+
+/****************************************************************************
+ * hello_main
+ ****************************************************************************/
+
+int main(int argc, FAR char *argv[])
+{
+  printf(&quot;Hello, World!!\n&quot;);
+  return 0;
+}
diff --git a/cxd32xx_apps/time/Kconfig b/cxd32xx_apps/time/Kconfig
new file mode 100644
index 0000000..64e7591
--- /dev/null
+++ b/cxd32xx_apps/time/Kconfig
@@ -0,0 +1,28 @@
+#
+# For a description of the syntax of this configuration file,
+# see the file kconfig-language.txt in the NuttX tools repository.
+#
+
+config CXD32XX_APPS_TIME
+    tristate &quot;CXD32XX Time App&quot;
+    default n
+    ---help---
+        Enable the CXD32XX Time App
+
+if CXD32XX_APPS_HELLO
+
+config CXD32XX_APPS_TIME_PROGNAME
+    string &quot;Program name&quot;
+    default &quot;time&quot;
+    ---help---
+        This apps measures the elapsed time of sleep system call to confirm the timer implementation.
+
+config CXD32XX_APPS_TIME_PRIORITY
+    int &quot;CXD32XX Time task priority&quot;
+    default 100
+
+config CXD32XX_APPS_TIME_STACKSIZE
+    int &quot;CXD32XX Time stack size&quot;
+    default DEFAULT_TASK_STACKSIZE
+
+endif
diff --git a/cxd32xx_apps/time/Make.defs b/cxd32xx_apps/time/Make.defs
new file mode 100644
index 0000000..cdfb4cc
--- /dev/null
+++ b/cxd32xx_apps/time/Make.defs
@@ -0,0 +1,3 @@
+ifneq ($(CONFIG_CXD32XX_APPS_TIME),)
+CONFIGURED_APPS += $(APPDIR)/cxd32xx_apps/time
+endif
diff --git a/cxd32xx_apps/time/Makefile b/cxd32xx_apps/time/Makefile
new file mode 100644
index 0000000..94c9007
--- /dev/null
+++ b/cxd32xx_apps/time/Makefile
@@ -0,0 +1,14 @@
+include $(APPDIR)/Make.defs
+
+# Custom Hello built-in application info
+
+PROGNAME = $(CONFIG_CXD32XX_APPS_TIME_PROGNAME)
+PRIORITY = $(CONFIG_CXD32XX_APPS_TIME_PRIORITY)
+STACKSIZE = $(CONFIG_CXD32XX_APPS_TIME_STACKSIZE)
+MODULE = $(CONFIG_CXD32XX_APPS_TIME)
+
+# Custom Hello
+
+MAINSRC = time.c
+
+include $(APPDIR)/Application.mk
diff --git a/cxd32xx_apps/time/time.c b/cxd32xx_apps/time/time.c
new file mode 100644
index 0000000..9775ef2
--- /dev/null
+++ b/cxd32xx_apps/time/time.c
@@ -0,0 +1,41 @@
+/****************************************************************************
+ * cxd32xx_apps/time/time.c
+ ****************************************************************************/
+
+/****************************************************************************
+ * Included Files
+ ****************************************************************************/
+
+#include &lt;nuttx/config.h&gt;
+#include &lt;stdio.h&gt;
+
+/****************************************************************************
+ * Public Functions
+ ****************************************************************************/
+
+extern uint32_t cxd32_timerget(void);
+
+/****************************************************************************
+ * hello_main
+ ****************************************************************************/
+
+int main(int argc, FAR char *argv[])
+{
+  uint32_t pre;
+  uint32_t post;
+
+  printf(&quot;measures the elapsed time of sleep system call to confirm \
+  the timer implementation.\n&quot;);
+
+  pre = cxd32_timerget();
+  sleep(1);
+  post = cxd32_timerget();
+  printf(&quot;pre:%lu post:%lu expect:1sec\n&quot;, pre, post);
+
+  pre = cxd32_timerget();
+  sleep(10);
+  post = cxd32_timerget();
+  printf(&quot;pre:%lu post:%lu expect:10sec\n&quot;, pre, post);
+
+  return 0;
+}
diff --git a/cxd32xx_boards/cb2sdb2/Kconfig b/cxd32xx_boards/cb2sdb2/Kconfig
new file mode 100644
index 0000000..f72f3c0
--- /dev/null
+++ b/cxd32xx_boards/cb2sdb2/Kconfig
@@ -0,0 +1,4 @@
+#
+# For a description of the syntax of this configuration file,
+# see the file kconfig-language.txt in the NuttX tools repository.
+#
diff --git a/cxd32xx_boards/cb2sdb2/configs/nsh/defconfig b/cxd32xx_boards/cb2sdb2/configs/nsh/defconfig
new file mode 100644
index 0000000..1d4c3e2
--- /dev/null
+++ b/cxd32xx_boards/cb2sdb2/configs/nsh/defconfig
@@ -0,0 +1,38 @@
+#
+# This file is autogenerated: PLEASE DO NOT EDIT IT.
+#
+# You can use &quot;make menuconfig&quot; to make any modifications to the installed .config file.
+# You can then do &quot;make savedefconfig&quot; to generate a new defconfig file that includes your
+# modifications.
+#
+CONFIG_ARCH=&quot;arm&quot;
+CONFIG_ARCH_CORTEXM4=y
+CONFIG_ARCH_FPU=y
+CONFIG_ARCH_CHIP=&quot;cxd32xx&quot;
+CONFIG_ARCH_CHIP_CXD32XX=y
+CONFIG_ARCH_BOARD_CUSTOM=y
+CONFIG_ARCH_BOARD_CUSTOM_DIR=&quot;../out-of-tree/cxd32xx_boards/cb2sdb2&quot;
+CONFIG_ARCH_BOARD_CUSTOM_DIR_RELPATH=y
+CONFIG_ARCH_BOARD_CUSTOM_NAME=&quot;cb2sdb2&quot;
+CONFIG_INIT_ENTRYPOINT=&quot;nsh_main&quot;
+CONFIG_UART0_SERIAL_CONSOLE=y
+CONFIG_SYSTEM_NSH=y
+CONFIG_RAM_START=0x00800000
+CONFIG_RAM_SIZE=244736
+CONFIG_ARCH_RAMVECTORS=y
+CONFIG_RAW_BINARY=y
+CONFIG_DEBUG_SYMBOLS=y
+CONFIG_UART_PL011=y
+CONFIG_UART0_PL011=y
+CONFIG_UART0_BASE=0x42104000
+CONFIG_UART0_IRQ=89
+CONFIG_UART0_CLK_FREQ=32000000
+CONFIG_UART_PL011_PLATFORMIF=y
+CONFIG_BUILTIN=y
+CONFIG_NSH_BUILTIN_APPS=y
+CONFIG_SCHED_WAITPID=y
+CONFIG_TESTING_OSTEST=y
+CONFIG_FS_PROCFS=y
+CONFIG_STACK_COLORATION=y
+CONFIG_CXD32XX_APPS_HELLO=y
+CONFIG_CXD32XX_APPS_TIME=y
diff --git a/cxd32xx_boards/cb2sdb2/include/board.h b/cxd32xx_boards/cb2sdb2/include/board.h
new file mode 100644
index 0000000..eae687e
--- /dev/null
+++ b/cxd32xx_boards/cb2sdb2/include/board.h
@@ -0,0 +1,54 @@
+/****************************************************************************
+ * cxd32xx_boards/cb2sdb2/include/board.h
+ *
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.  The
+ * ASF licenses this file to you under the Apache License, Version 2.0 (the
+ * &quot;License&quot;); you may not use this file except in compliance with the
+ * License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
+ * License for the specific language governing permissions and limitations
+ * under the License.
+ *
+ ****************************************************************************/
+
+#ifndef __CXD32XX_BOARDS_CB2SDB2_INCLUDE_BOARD_H
+#define __CXD32XX_BOARDS_CB2SDB2_INCLUDE_BOARD_H
+
+/****************************************************************************
+ * Included Files
+ ****************************************************************************/
+
+#include &lt;nuttx/config.h&gt;
+#include &lt;nuttx/irq.h&gt;
+#include &lt;sys/boardctl.h&gt;
+#include &lt;stdbool.h&gt;
+
+/****************************************************************************
+ * Pre-processor Definitions
+ ****************************************************************************/
+
+/****************************************************************************
+ * Public Types
+ ****************************************************************************/
+
+/****************************************************************************
+ * Public Function Prototypes
+ ****************************************************************************/
+
+/****************************************************************************
+ * Name: cxd32_boardinitialize
+ *
+ * Description:
+ *
+ ****************************************************************************/
+
+void cxd32_boardinitialize(void);
+
+#endif /* __CXD32XX_BOARDS_CB2SDB2_INCLUDE_BOARD_H */
diff --git a/cxd32xx_boards/cb2sdb2/scripts/Make.defs b/cxd32xx_boards/cb2sdb2/scripts/Make.defs
new file mode 100644
index 0000000..4986d69
--- /dev/null
+++ b/cxd32xx_boards/cb2sdb2/scripts/Make.defs
@@ -0,0 +1,40 @@
+############################################################################
+# cxd32xx_boards/cb2sdb2/scripts/Make.defs
+#
+# Licensed to the Apache Software Foundation (ASF) under one or more
+# contributor license agreements.  See the NOTICE file distributed with
+# this work for additional information regarding copyright ownership.  The
+# ASF licenses this file to you under the Apache License, Version 2.0 (the
+# &quot;License&quot;); you may not use this file except in compliance with the
+# License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
+# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
+# License for the specific language governing permissions and limitations
+# under the License.
+#
+############################################################################
+
+include $(TOPDIR)/.config
+include $(TOPDIR)/tools/Config.mk
+include $(TOPDIR)/arch/arm/src/armv7-m/Toolchain.defs
+
+LDSCRIPT = cb2sdb2.ld
+
+ARCHSCRIPT += $(BOARD_DIR)$(DELIM)scripts$(DELIM)$(LDSCRIPT)
+
+ARCHPICFLAGS = -fpic -msingle-pic-base -mpic-register=r10
+
+CFLAGS := $(ARCHCFLAGS) $(ARCHOPTIMIZATION) $(ARCHCPUFLAGS) $(ARCHINCLUDES) $(ARCHDEFINES) $(EXTRAFLAGS) -pipe
+CPICFLAGS = $(ARCHPICFLAGS) $(CFLAGS)
+CXXFLAGS := $(ARCHCXXFLAGS) $(ARCHOPTIMIZATION) $(ARCHCPUFLAGS) $(ARCHXXINCLUDES) $(ARCHDEFINES) $(EXTRAFLAGS) -pipe
+CXXPICFLAGS = $(ARCHPICFLAGS) $(CXXFLAGS)
+CPPFLAGS := $(ARCHINCLUDES) $(ARCHDEFINES) $(EXTRAFLAGS)
+AFLAGS := $(CFLAGS) -D__ASSEMBLY__
+
+NXFLATLDFLAGS1 = -r -d -warn-common
+NXFLATLDFLAGS2 = $(NXFLATLDFLAGS1) -T$(TOPDIR)/binfmt/libnxflat/gnu-nxflat-pcrel.ld -no-check-sections
+LDNXFLATFLAGS = -e main -s 2048
diff --git a/cxd32xx_boards/cb2sdb2/scripts/cb2sdb2.ld b/cxd32xx_boards/cb2sdb2/scripts/cb2sdb2.ld
new file mode 100644
index 0000000..34ac8ac
--- /dev/null
+++ b/cxd32xx_boards/cb2sdb2/scripts/cb2sdb2.ld
@@ -0,0 +1,99 @@
+/****************************************************************************
+ * cxd32xx_boards/cb2sdb2/scripts/cb2sdb2.ld
+ *
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.  The
+ * ASF licenses this file to you under the Apache License, Version 2.0 (the
+ * &quot;License&quot;); you may not use this file except in compliance with the
+ * License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
+ * License for the specific language governing permissions and limitations
+ * under the License.
+ *
+ ****************************************************************************/
+
+INCLUDE ../../../../out-of-tree/cxd32xx_boards/cb2sdb2/scripts/memmap.ld
+
+OUTPUT_ARCH(arm)
+ENTRY(__start)         /* Treat __start as the anchor for dead code stripping */
+EXTERN(_vectors)       /* Force the vectors to be included in the output */
+SECTIONS
+{
+    .text : {
+        _stext = ABSOLUTE(.);
+        *(.entry)
+        *(.vectors)
+        *(.text .text.*)
+        *(.fixup)
+        *(.gnu.warning)
+        *(.rodata .rodata.*)
+        *(.gnu.linkonce.t.*)
+        *(.glue_7)
+        *(.glue_7t)
+        *(.got)
+        *(.gcc_except_table)
+        *(.gnu.linkonce.r.*)
+        _etext = ABSOLUTE(.);
+    } &gt; flash_Cached
+
+    .init_section : {
+        _sinit = ABSOLUTE(.);
+        KEEP(*(SORT_BY_INIT_PRIORITY(.init_array.*) SORT_BY_INIT_PRIORITY(.ctors.*)))
+        KEEP(*(.init_array .ctors))
+        _einit = ABSOLUTE(.);
+    } &gt; flash_Cached
+
+    .ARM.extab : {
+        *(.ARM.extab*)
+    } &gt; flash_Cached
+
+    __exidx_start = ABSOLUTE(.);
+    .ARM.exidx : {
+        *(.ARM.exidx*)
+    } &gt; flash_Cached
+    __exidx_end = ABSOLUTE(.);
+
+    _eronly = ABSOLUTE(.);
+
+    .data : {
+        _sdata = ABSOLUTE(.);
+        *(.data .data.*)
+        *(.gnu.linkonce.d.*)
+        CONSTRUCTORS
+        . = ALIGN(4);
+        _edata = ABSOLUTE(.);
+    } &gt; sram AT &gt; flash_Cached
+
+    .ram_vectors : {
+        *(.ram_vectors)
+    } &gt; sram
+
+    .bss : {            /* BSS              */
+        _sbss = ABSOLUTE(.);
+        *(.bss .bss.*)
+        *(.gnu.linkonce.b.*)
+        *(COMMON)
+        . = ALIGN(4);
+        _ebss = ABSOLUTE(.);
+    } &gt; sram
+
+    /* Stabs debugging sections.    */
+    .stab 0 : { *(.stab) }
+    .stabstr 0 : { *(.stabstr) }
+    .stab.excl 0 : { *(.stab.excl) }
+    .stab.exclstr 0 : { *(.stab.exclstr) }
+    .stab.index 0 : { *(.stab.index) }
+    .stab.indexstr 0 : { *(.stab.indexstr) }
+    .comment 0 : { *(.comment) }
+    .debug_abbrev 0 : { *(.debug_abbrev) }
+    .debug_info 0 : { *(.debug_info) }
+    .debug_line 0 : { *(.debug_line) }
+    .debug_pubnames 0 : { *(.debug_pubnames) }
+    .debug_aranges 0 : { *(.debug_aranges) }
+}
diff --git a/cxd32xx_boards/cb2sdb2/scripts/memmap.ld b/cxd32xx_boards/cb2sdb2/scripts/memmap.ld
new file mode 100644
index 0000000..848f336
--- /dev/null
+++ b/cxd32xx_boards/cb2sdb2/scripts/memmap.ld
@@ -0,0 +1,13 @@
+/****************************************************************************
+ * Automatically generated file; DO NOT EDIT.
+ ****************************************************************************/
+
+MEMORY
+{
+  sram              (rwx) : ORIGIN = 0x00800000, LENGTH = 0x0003BC00
+  sram_erw          (rw)  : ORIGIN = 0x0083BC00, LENGTH = 0x00001000
+  sram_frw          (rw)  : ORIGIN = 0x0083CC00, LENGTH = 0x00002000
+  sram_prt          (rw)  : ORIGIN = 0x0083EC00, LENGTH = 0x00001000
+  sram_lib          (rwx) : ORIGIN = 0x0083FC00, LENGTH = 0x00000400
+  flash_Cached      (rx)  : ORIGIN = 0x24010000, LENGTH = 0x0013F000
+}
diff --git a/cxd32xx_boards/cb2sdb2/src/Makefile b/cxd32xx_boards/cb2sdb2/src/Makefile
new file mode 100644
index 0000000..f8b1cd8
--- /dev/null
+++ b/cxd32xx_boards/cb2sdb2/src/Makefile
@@ -0,0 +1,25 @@
+############################################################################
+# cxd32xx_boards/cb2sdb2/src/Makefile
+#
+# Licensed to the Apache Software Foundation (ASF) under one or more
+# contributor license agreements.  See the NOTICE file distributed with
+# this work for additional information regarding copyright ownership.  The
+# ASF licenses this file to you under the Apache License, Version 2.0 (the
+# &quot;License&quot;); you may not use this file except in compliance with the
+# License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
+# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
+# License for the specific language governing permissions and limitations
+# under the License.
+#
+############################################################################
+
+include $(TOPDIR)/Make.defs
+
+CSRCS += cxd32_appinit.c cxd32_boot.c
+
+include $(TOPDIR)/boards/Board.mk
diff --git a/cxd32xx_boards/cb2sdb2/src/cxd32_appinit.c b/cxd32xx_boards/cb2sdb2/src/cxd32_appinit.c
new file mode 100644
index 0000000..c1bef5f
--- /dev/null
+++ b/cxd32xx_boards/cb2sdb2/src/cxd32_appinit.c
@@ -0,0 +1,90 @@
+/****************************************************************************
+ * cxd32xx_boards/cb2sdb2/src/cxd32_appinit.c
+ *
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.  The
+ * ASF licenses this file to you under the Apache License, Version 2.0 (the
+ * &quot;License&quot;); you may not use this file except in compliance with the
+ * License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
+ * License for the specific language governing permissions and limitations
+ * under the License.
+ *
+ ****************************************************************************/
+
+/****************************************************************************
+ * Included Files
+ ****************************************************************************/
+
+#include &lt;nuttx/config.h&gt;
+#include &lt;nuttx/compiler.h&gt;
+
+#include &lt;sys/types.h&gt;
+#include &lt;nuttx/board.h&gt;
+
+/****************************************************************************
+ * Pre-processor Definitions
+ ****************************************************************************/
+
+/****************************************************************************
+ * Public Functions
+ ****************************************************************************/
+
+/****************************************************************************
+ * Name: board_app_initialize
+ *
+ * Description:
+ *   Perform application specific initialization.  This function is never
+ *   called directly from application code, but only indirectly via the
+ *   (non-standard) boardctl() interface using the command BOARDIOC_INIT.
+ *
+ * Input Parameters:
+ *   arg - The boardctl() argument is passed to the board_app_initialize()
+ *         implementation without modification.  The argument has no
+ *         meaning to NuttX; the meaning of the argument is a contract
+ *         between the board-specific initialization logic and the
+ *         matching application logic.  The value could be such things as a
+ *         mode enumeration value, a set of DIP switch switch settings, a
+ *         pointer to configuration data read from a file or serial FLASH,
+ *         or whatever you would like to do with it.  Every implementation
+ *         should accept zero/NULL as a default configuration.
+ *
+ * Returned Value:
+ *   Zero (OK) is returned on success; a negated errno value is returned on
+ *   any failure to indicate the nature of the failure.
+ *
+ ****************************************************************************/
+
+int board_app_initialize(uintptr_t arg)
+{
+  /* XXX : it will be implemented later */
+
+  return OK;
+}
+
+/****************************************************************************
+ * Name: board_late_initialize
+ *
+ * Description:
+ *   If CONFIG_BOARD_LATE_INITIALIZE is selected, then an additional
+ *   initialization call will be performed in the boot-up sequence to a
+ *   function called board_late_initialize().  board_late_initialize()
+ *   will be called immediately after up_initialize() is called and just
+ *   before the initial application is started.  This additional
+ *   initialization phase may be used, for example, to initialize board-
+ *   specific device drivers.
+ *
+ ****************************************************************************/
+
+#ifdef CONFIG_BOARD_LATE_INITIALIZE
+void weak_function board_late_initialize(void)
+{
+  /* XXX : it will be implemented later */
+}
+#endif
diff --git a/cxd32xx_boards/cb2sdb2/src/cxd32_boot.c b/cxd32xx_boards/cb2sdb2/src/cxd32_boot.c
new file mode 100644
index 0000000..edf4328
--- /dev/null
+++ b/cxd32xx_boards/cb2sdb2/src/cxd32_boot.c
@@ -0,0 +1,56 @@
+/****************************************************************************
+ * cxd32xx_boards/cb2sdb2/src/cxd32_boot.c
+ *
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.  The
+ * ASF licenses this file to you under the Apache License, Version 2.0 (the
+ * &quot;License&quot;); you may not use this file except in compliance with the
+ * License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
+ * License for the specific language governing permissions and limitations
+ * under the License.
+ *
+ ****************************************************************************/
+
+/****************************************************************************
+ * Included Files
+ ****************************************************************************/
+
+#include &lt;nuttx/config.h&gt;
+
+#include &lt;debug.h&gt;
+
+#include &lt;nuttx/board.h&gt;
+#include &lt;arch/board/board.h&gt;
+
+#include &quot;arm_internal.h&quot;
+
+/****************************************************************************
+ * Pre-processor Definitions
+ ****************************************************************************/
+
+/****************************************************************************
+ * Private Functions
+ ****************************************************************************/
+
+/****************************************************************************
+ * Public Functions
+ ****************************************************************************/
+
+/****************************************************************************
+ * Name: cxd32_boardinitialize
+ *
+ * Description:
+ *
+ ****************************************************************************/
+
+void cxd32_boardinitialize(void)
+{
+  /* XXX : it will be implemented later */
+}
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bcm2711-rpi4b.html" class="btn btn-neutral float-left" title="Porting to the BCM2711 (Raspberry Pi 4B)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../updating_release_system_elf.html" class="btn btn-neutral float-right" title="Updating a Release System with ELF Programs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>