<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RPMsg Dump &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx_collapse.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
      <script src="../../../../_static/jquery.js"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
      <script src="../../../../_static/doctools.js"></script>
      <script src="../../../../_static/sphinx_highlight.js"></script>
      <script src="../../../../_static/clipboard.min.js"></script>
      <script src="../../../../_static/copybutton.js"></script>
      <script src="../../../../_static/design-tabs.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="RPTUN (Remoteproc Tunnel)" href="../rptun/index.html" />
    <link rel="prev" title="RPMsg Ping" href="rpmsg_ping.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../../12.5.1" >12.5.1</option>
    
    <option value="../../../../../12.6.0" >12.6.0</option>
    
    <option value="../../../../../12.7.0" >12.7.0</option>
    
    <option value="../../../../../12.8.0" >12.8.0</option>
    
    <option value="../../../../../12.9.0" >12.9.0</option>
    
    <option value="../../../../../12.10.0" >12.10.0</option>
    
    <option value="../../../../../12.11.0" >12.11.0</option>
    
    <option value="../../../../../12.12.0" >12.12.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/index.html">Supported Platforms</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">OS Components</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../binfmt.html">Binary Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../concurrency/index.html">Concurrency</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Device Drivers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../character/index.html">Character Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../block/index.html">Block Device Drivers</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Specialized Device Drivers</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../audio.html">Audio Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clk.html">Clock management (CLK)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../devicetree.html">Device Tree support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../devmem.html">DEVMEM Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dma.html">DMA Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../framebuffer.html">Frame Buffer Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../i2c.html">I2C Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../i2c.html#i2c-bit-bang-driver">I2C Bit-Bang Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../i2c.html#i2c-slave-device-drivers">I2C Slave Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../i3c.html">I3C Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ioexpander.html">IO Expander Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../lcd.html">LCD Character Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mtd/index.html">Memory Technology Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../regmap.html">drivers/regmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reset.html">Reset Driver</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">RPMsg</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="concepts.html">RPMsg Core Concepts</a></li>
<li class="toctree-l5"><a class="reference internal" href="rpmsg_port.html">RPMsg Port Transport Layer</a></li>
<li class="toctree-l5"><a class="reference internal" href="rpmsg_port_uart.html">RPMsg Port UART</a></li>
<li class="toctree-l5"><a class="reference internal" href="rpmsg_ping.html">RPMsg Ping</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">RPMsg Dump</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../rptun/index.html">RPTUN (Remoteproc Tunnel)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rwbuffer.html"><code class="docutils literal notranslate"><span class="pre">rwbuffer.c</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../sensors.html">Sensor Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../segger.html">Segger RTT drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spi.html">SPI Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../syslog.html">SYSLOG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sdio.html">SDIO Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usbdev.html">USB Device-Side Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usbhost.html">USB Host-Side Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usbmisc.html">USB Miscellaneous Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usbmonitor.html">USB Monitor support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usrsock.html">Usrsock Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mmcsd.html">MMCSD Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../net/index.html">Network interface drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pci/index.html">PCI(e) Bus Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pinctrl.html">Pinctrl Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipes.html">FIFO and named pipe drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../power/index.html">Power-related Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ptp.html">PTP Clock Driver Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="../virtio/index.html">VirtIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="../video.html">Video Device Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../wireless.html">Wireless Drivers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../thermal/index.html">Thermal Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#lower-half-and-upper-half">Lower-half and upper-half</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#subdirectories-of-nuttx-drivers">Subdirectories of <code class="docutils literal notranslate"><span class="pre">nuttx/drivers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#skeleton-files">Skeleton Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#drivers-early-initialization">Drivers Early Initialization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../nxflat.html">NXFLAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../nxgraphics/index.html">NX Graphics Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../paging.html">On-Demand Paging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../audio/index.html">Audio Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../filesystem/index.html">NuttX File System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../libs/index.html">NuttX libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../net/index.html">Network Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mm/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../syscall.html">Syscall Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tools/index.html">Host Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../arch/index.html">Architecture-Specific Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../boards.html">Boards Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../cmake.html">CMake Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../openamp.html">OpenAMP Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../video.html">Video Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../crypto.html">Crypto API Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../wireless.html">Wireless Subsystem</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../standards/index.html">Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">OS Components</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Device Drivers</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Specialized Device Drivers</a></li>
          <li class="breadcrumb-item"><a href="index.html">RPMsg</a></li>
      <li class="breadcrumb-item active">RPMsg Dump</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/apache/nuttx/blob/master/Documentation/components/drivers/special/rpmsg/rpmsg_dump.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rpmsg-dump">
<h1>RPMsg Dump<a class="headerlink" href="#rpmsg-dump" title="Permalink to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>RPMsg Dump is a diagnostic command for dumping RPMsg debugging information.
When troubleshooting inter-processor communication issues, this tool provides
detailed information about RPMsg instances, endpoints, virtqueues, and buffer
states to assist in debugging.</p>
<p>This document primarily describes the dump content for <strong>RPMsg VirtIO</strong> transport,
which is the most commonly used transport layer.</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>Enable the following configuration:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nv">CONFIG_RPMSG</span><span class="o">=</span>y
</pre></div>
</div>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<section id="command-syntax">
<h3>Command Syntax<a class="headerlink" href="#command-syntax" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rpmsg<span class="w"> </span>dump<span class="w"> </span>&lt;path&gt;
</pre></div>
</div>
</section>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h3>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code></dt><dd><p>The rpmsg device path. For example, <code class="docutils literal notranslate"><span class="pre">/dev/rpmsg/remote</span></code>.</p>
</dd>
</dl>
</section>
</section>
<section id="example-output">
<h2>Example Output<a class="headerlink" href="#example-output" title="Permalink to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w"> </span>Local:<span class="w"> </span>ap<span class="w"> </span>Remote:<span class="w"> </span>cp<span class="w"> </span>Headrx<span class="w"> </span><span class="m">550</span><span class="w"> </span>Headtx<span class="w"> </span><span class="m">504</span>
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w"> </span>Dump<span class="w"> </span>rpmsg<span class="w"> </span>info<span class="w"> </span>between<span class="w"> </span>cpu<span class="w"> </span><span class="o">(</span>master:<span class="w"> </span>yes<span class="o">)</span>ap<span class="w"> </span>&lt;<span class="o">=</span>&gt;<span class="w"> </span>cp:
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">   </span>rpmsg<span class="w"> </span>ept<span class="w"> </span>list:
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">     </span>ept<span class="w"> </span>NS<span class="w"> </span>0x3c4784d0:<span class="w"> </span><span class="nv">addr</span><span class="o">=</span><span class="m">53</span><span class="w"> </span><span class="nv">dest</span><span class="o">=</span><span class="m">53</span><span class="w"> </span><span class="nv">refcnt</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">priority</span><span class="o">=</span><span class="m">127</span><span class="w"> </span><span class="nv">priv</span><span class="o">=</span>0x3c4784c8
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">     </span>ept<span class="w"> </span>rpmsg-rtc<span class="w"> </span>0x3c3e3428:<span class="w"> </span><span class="nv">addr</span><span class="o">=</span><span class="m">1024</span><span class="w"> </span><span class="nv">dest</span><span class="o">=</span><span class="m">1033</span><span class="w"> </span><span class="nv">refcnt</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">priority</span><span class="o">=</span><span class="m">127</span><span class="w"> </span><span class="nv">priv</span><span class="o">=</span>0x3c37af90
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">     </span>ept<span class="w"> </span>rpmsg-ttyCP<span class="w"> </span>0x3c379e40:<span class="w"> </span><span class="nv">addr</span><span class="o">=</span><span class="m">1025</span><span class="w"> </span><span class="nv">dest</span><span class="o">=</span><span class="m">1026</span><span class="w"> </span><span class="nv">refcnt</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">priority</span><span class="o">=</span><span class="m">127</span><span class="w"> </span><span class="nv">priv</span><span class="o">=</span>0x3c374a00
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">     </span>ept<span class="w"> </span>rpmsg-sensor<span class="w"> </span>0x3c3f4ac8:<span class="w"> </span><span class="nv">addr</span><span class="o">=</span><span class="m">1028</span><span class="w"> </span><span class="nv">dest</span><span class="o">=</span><span class="m">1028</span><span class="w"> </span><span class="nv">refcnt</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">priority</span><span class="o">=</span><span class="m">127</span><span class="w"> </span><span class="nv">priv</span><span class="o">=</span>0x3c3f4ac0
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">     </span>ept<span class="w"> </span>rpmsg-ping<span class="w"> </span>0x3c478418:<span class="w"> </span><span class="nv">addr</span><span class="o">=</span><span class="m">1029</span><span class="w"> </span><span class="nv">dest</span><span class="o">=</span><span class="m">1031</span><span class="w"> </span><span class="nv">refcnt</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">priority</span><span class="o">=</span><span class="m">127</span><span class="w"> </span><span class="nv">priv</span><span class="o">=</span><span class="m">0</span>
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">     </span>ept<span class="w"> </span>rpmsg-syslog<span class="w"> </span>0x3c3e5818:<span class="w"> </span><span class="nv">addr</span><span class="o">=</span><span class="m">1034</span><span class="w"> </span><span class="nv">dest</span><span class="o">=</span><span class="m">1025</span><span class="w"> </span><span class="nv">refcnt</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">priority</span><span class="o">=</span><span class="m">127</span><span class="w"> </span><span class="nv">priv</span><span class="o">=</span>0x3c3e5810
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w"> </span>rpmsg<span class="w"> </span>vq<span class="w"> </span>RX:
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w"> </span>VQ:<span class="w"> </span>rx_vq<span class="w"> </span>-<span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">16</span><span class="p">;</span><span class="w"> </span><span class="nv">free</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="nv">queued</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="nv">desc_head_idx</span><span class="o">=</span><span class="m">32768</span><span class="p">;</span><span class="w"> </span><span class="nv">available_idx</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span>avail.idx<span class="o">=</span><span class="m">566</span><span class="p">;</span><span class="w"> </span><span class="nv">used_cons_idx</span><span class="o">=</span><span class="m">550</span><span class="p">;</span><span class="w"> </span>used.idx<span class="o">=</span><span class="m">550</span><span class="p">;</span><span class="w"> </span>avail.flags<span class="o">=</span>0x0<span class="p">;</span><span class="w"> </span>used.flags<span class="o">=</span>0x0
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w"> </span>rpmsg<span class="w"> </span>vq<span class="w"> </span>TX:
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w"> </span>VQ:<span class="w"> </span>tx_vq<span class="w"> </span>-<span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">16</span><span class="p">;</span><span class="w"> </span><span class="nv">free</span><span class="o">=</span><span class="m">6</span><span class="p">;</span><span class="w"> </span><span class="nv">queued</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="nv">desc_head_idx</span><span class="o">=</span><span class="m">10</span><span class="p">;</span><span class="w"> </span><span class="nv">available_idx</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span>avail.idx<span class="o">=</span><span class="m">504</span><span class="p">;</span><span class="w"> </span><span class="nv">used_cons_idx</span><span class="o">=</span><span class="m">494</span><span class="p">;</span><span class="w"> </span>used.idx<span class="o">=</span><span class="m">504</span><span class="p">;</span><span class="w"> </span>avail.flags<span class="o">=</span>0x0<span class="p">;</span><span class="w"> </span>used.flags<span class="o">=</span>0x0
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">   </span>rpmsg<span class="w"> </span>buffer<span class="w"> </span>list:
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">     </span>RX<span class="w"> </span>buffer<span class="w"> </span>total<span class="w"> </span><span class="m">16</span>
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">       </span>unretrieved<span class="w"> </span><span class="m">0</span>
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">       </span>retrieved<span class="w"> </span><span class="m">0</span>
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">       </span>pending<span class="w"> </span><span class="m">0</span>:
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">     </span>TX<span class="w"> </span>buffer<span class="w"> </span>total<span class="w"> </span><span class="m">16</span>
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">       </span>unretrieved<span class="w"> </span><span class="m">10</span>
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">       </span>retrieved<span class="w"> </span><span class="m">6</span>
<span class="o">[</span><span class="m">12</span>/31<span class="w"> </span><span class="m">00</span>:01:25<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>ap<span class="o">]</span><span class="w">       </span>sent<span class="w"> </span><span class="m">0</span>:
</pre></div>
</div>
</section>
<section id="output-description">
<h2>Output Description<a class="headerlink" href="#output-description" title="Permalink to this heading"></a></h2>
<section id="cpu-information">
<h3>CPU Information<a class="headerlink" href="#cpu-information" title="Permalink to this heading"></a></h3>
<p>The first section shows basic CPU information:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Local:<span class="w"> </span>ap<span class="w"> </span>Remote:<span class="w"> </span>cp<span class="w"> </span>Headrx<span class="w"> </span><span class="m">550</span><span class="w"> </span>Headtx<span class="w"> </span><span class="m">504</span>
Dump<span class="w"> </span>rpmsg<span class="w"> </span>info<span class="w"> </span>between<span class="w"> </span>cpu<span class="w"> </span><span class="o">(</span>master:<span class="w"> </span>yes<span class="o">)</span>ap<span class="w"> </span>&lt;<span class="o">=</span>&gt;<span class="w"> </span>cp:
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Local/Remote</strong>: Names of the local and remote CPUs</p></li>
<li><p><strong>master</strong>: Indicates whether the current CPU is the master in this RPMsg connection</p></li>
<li><p><strong>Headrx/Headtx</strong>: Counters used for debugging interrupt loss issues
(compared with Virtqueue indices in the Virtqueue dump section)</p></li>
</ul>
</section>
<section id="endpoint-information">
<h3>Endpoint Information<a class="headerlink" href="#endpoint-information" title="Permalink to this heading"></a></h3>
<p>This section lists all endpoints maintained by the current RPMsg instance:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rpmsg<span class="w"> </span>ept<span class="w"> </span>list:
<span class="w">  </span>ept<span class="w"> </span>NS<span class="w"> </span>0x3c4784d0:<span class="w"> </span><span class="nv">addr</span><span class="o">=</span><span class="m">53</span><span class="w"> </span><span class="nv">dest</span><span class="o">=</span><span class="m">53</span><span class="w"> </span><span class="nv">refcnt</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">priority</span><span class="o">=</span><span class="m">127</span><span class="w"> </span><span class="nv">priv</span><span class="o">=</span>0x3c4784c8
<span class="w">  </span>ept<span class="w"> </span>rpmsg-ttyCP<span class="w"> </span>0x3c379e40:<span class="w"> </span><span class="nv">addr</span><span class="o">=</span><span class="m">1025</span><span class="w"> </span><span class="nv">dest</span><span class="o">=</span><span class="m">1026</span><span class="w"> </span><span class="nv">refcnt</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">priority</span><span class="o">=</span><span class="m">127</span><span class="w"> </span><span class="nv">priv</span><span class="o">=</span>0x3c374a00
<span class="w">  </span>ept<span class="w"> </span>rpmsg-sensor<span class="w"> </span>0x3c3f4ac8:<span class="w"> </span><span class="nv">addr</span><span class="o">=</span><span class="m">1028</span><span class="w"> </span><span class="nv">dest</span><span class="o">=</span><span class="m">1028</span><span class="w"> </span><span class="nv">refcnt</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">priority</span><span class="o">=</span><span class="m">127</span><span class="w"> </span><span class="nv">priv</span><span class="o">=</span>0x3c3f4ac0
</pre></div>
</div>
<p>Each endpoint entry contains:</p>
<ul class="simple">
<li><p><strong>Endpoint Name</strong>: The service name (e.g., <code class="docutils literal notranslate"><span class="pre">rpmsg-ttyCP</span></code>, <code class="docutils literal notranslate"><span class="pre">rpmsg-sensor</span></code>)</p></li>
<li><p><strong>Pointer</strong>: Memory address of the endpoint structure</p></li>
<li><p><strong>addr</strong>: Local endpoint address</p></li>
<li><p><strong>dest</strong>: Remote endpoint address (<code class="docutils literal notranslate"><span class="pre">4294967295</span></code> or <code class="docutils literal notranslate"><span class="pre">0xFFFFFFFF</span></code> means not connected)</p></li>
<li><p><strong>refcnt</strong>: Reference count</p></li>
<li><p><strong>priority</strong>: Endpoint priority (0-255, higher value = higher priority)</p></li>
<li><p><strong>priv</strong>: Private data pointer</p></li>
</ul>
</section>
<section id="virtqueue-dump">
<h3>Virtqueue Dump<a class="headerlink" href="#virtqueue-dump" title="Permalink to this heading"></a></h3>
<p>This section dumps the core data structures of the Virtqueue:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rpmsg<span class="w"> </span>vq<span class="w"> </span>RX:
VQ:<span class="w"> </span>rx_vq<span class="w"> </span>-<span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">16</span><span class="p">;</span><span class="w"> </span><span class="nv">free</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="nv">queued</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="nv">desc_head_idx</span><span class="o">=</span><span class="m">32768</span><span class="p">;</span><span class="w"> </span><span class="nv">available_idx</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span>avail.idx<span class="o">=</span><span class="m">566</span><span class="p">;</span><span class="w"> </span><span class="nv">used_cons_idx</span><span class="o">=</span><span class="m">550</span><span class="p">;</span><span class="w"> </span>used.idx<span class="o">=</span><span class="m">550</span><span class="p">;</span><span class="w"> </span>avail.flags<span class="o">=</span>0x0<span class="p">;</span><span class="w"> </span>used.flags<span class="o">=</span>0x0
rpmsg<span class="w"> </span>vq<span class="w"> </span>TX:
VQ:<span class="w"> </span>tx_vq<span class="w"> </span>-<span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">16</span><span class="p">;</span><span class="w"> </span><span class="nv">free</span><span class="o">=</span><span class="m">6</span><span class="p">;</span><span class="w"> </span><span class="nv">queued</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="nv">desc_head_idx</span><span class="o">=</span><span class="m">10</span><span class="p">;</span><span class="w"> </span><span class="nv">available_idx</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span>avail.idx<span class="o">=</span><span class="m">504</span><span class="p">;</span><span class="w"> </span><span class="nv">used_cons_idx</span><span class="o">=</span><span class="m">494</span><span class="p">;</span><span class="w"> </span>used.idx<span class="o">=</span><span class="m">504</span><span class="p">;</span><span class="w"> </span>avail.flags<span class="o">=</span>0x0<span class="p">;</span><span class="w"> </span>used.flags<span class="o">=</span>0x0
</pre></div>
</div>
<p>Key fields:</p>
<ul class="simple">
<li><p><strong>size</strong>: Total number of descriptors in the virtqueue</p></li>
<li><p><strong>free</strong>: Number of free descriptors</p></li>
<li><p><strong>queued</strong>: Number of queued descriptors</p></li>
<li><p><strong>avail.idx</strong>: Available ring index (producer side)</p></li>
<li><p><strong>used.idx</strong>: Used ring index (consumer side)</p></li>
<li><p><strong>used_cons_idx</strong>: Consumer’s view of used ring index</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Generally, you don’t need to analyze this section directly.
The important information is summarized in the RPMsg Buffer List section below.</p>
</div>
</section>
<section id="rpmsg-buffer-list">
<h3>RPMsg Buffer List<a class="headerlink" href="#rpmsg-buffer-list" title="Permalink to this heading"></a></h3>
<p>This section provides a summary of RX/TX buffer states:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rpmsg<span class="w"> </span>buffer<span class="w"> </span>list:
<span class="w">  </span>RX<span class="w"> </span>buffer<span class="w"> </span>total<span class="w"> </span><span class="m">16</span>
<span class="w">    </span>unretrieved<span class="w"> </span><span class="m">0</span>
<span class="w">    </span>retrieved<span class="w"> </span><span class="m">0</span>
<span class="w">    </span>pending<span class="w"> </span><span class="m">0</span>:
<span class="w">  </span>TX<span class="w"> </span>buffer<span class="w"> </span>total<span class="w"> </span><span class="m">16</span>
<span class="w">    </span>unretrieved<span class="w"> </span><span class="m">10</span>
<span class="w">    </span>retrieved<span class="w"> </span><span class="m">6</span>
<span class="w">    </span>sent<span class="w"> </span><span class="m">0</span>:
</pre></div>
</div>
<p><strong>RX Buffer States:</strong></p>
<ul class="simple">
<li><p><strong>total</strong>: Total number of RX buffers</p></li>
<li><p><strong>unretrieved</strong>: Buffers received and in RX queue, not yet retrieved</p></li>
<li><p><strong>retrieved</strong>: Buffers retrieved from RX queue but not yet returned</p></li>
<li><p><strong>pending</strong>: Buffers pending processing</p></li>
</ul>
<p><strong>TX Buffer States:</strong></p>
<ul class="simple">
<li><p><strong>total</strong>: Total number of TX buffers</p></li>
<li><p><strong>unretrieved</strong>: Number of free TX buffers available</p></li>
<li><p><strong>retrieved</strong>: Buffers retrieved from free pool but not yet sent</p></li>
<li><p><strong>sent</strong>: Buffers sent but not yet returned by remote side</p></li>
</ul>
</section>
</section>
<section id="debugging-use-cases">
<h2>Debugging Use Cases<a class="headerlink" href="#debugging-use-cases" title="Permalink to this heading"></a></h2>
<section id="tx-buffer-timeout-issues">
<h3>TX Buffer Timeout Issues<a class="headerlink" href="#tx-buffer-timeout-issues" title="Permalink to this heading"></a></h3>
<p>When a thread fails to acquire a TX buffer (timeout), check:</p>
<ol class="arabic simple">
<li><p><strong>Remote RX thread state</strong>: Is it blocked on a semaphore/mutex (possible deadlock)?</p></li>
<li><p><strong>Remote RX thread ready but not running</strong>: Check CPU load - higher priority tasks
may be starving the RX thread</p></li>
<li><p><strong>Remote RX thread waiting but RX queue has data</strong>: Compare <code class="docutils literal notranslate"><span class="pre">Headrx</span></code> with
virtqueue indices to check for interrupt loss</p></li>
</ol>
</section>
<section id="communication-not-working">
<h3>Communication Not Working<a class="headerlink" href="#communication-not-working" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Check if RPMsg thread exists</strong>: Use <code class="docutils literal notranslate"><span class="pre">ps</span></code> command to verify thread presence</p></li>
<li><p><strong>Check if RPMsg instance exists</strong>: List <code class="docutils literal notranslate"><span class="pre">/dev/rpmsg/</span></code> directory</p></li>
<li><p><strong>Use RPMsg Ping</strong>: Test basic connectivity with <code class="docutils literal notranslate"><span class="pre">rpmsg</span> <span class="pre">ping</span></code> command</p></li>
<li><p><strong>Check endpoint dest address</strong>: If <code class="docutils literal notranslate"><span class="pre">dest=4294967295</span></code>, the endpoint is not
connected to the remote side</p></li>
</ol>
</section>
<section id="buffer-leak-detection">
<h3>Buffer Leak Detection<a class="headerlink" href="#buffer-leak-detection" title="Permalink to this heading"></a></h3>
<p>If <code class="docutils literal notranslate"><span class="pre">retrieved</span></code> count keeps increasing over time without corresponding
<code class="docutils literal notranslate"><span class="pre">unretrieved</span></code> increase, there may be a buffer leak where buffers are
being acquired but not properly released.</p>
</section>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="concepts.html"><span class="doc">RPMsg Core Concepts</span></a> - RPMsg core concepts</p></li>
<li><p><a class="reference internal" href="rpmsg_ping.html"><span class="doc">RPMsg Ping</span></a> - RPMsg connectivity testing tool</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rpmsg_ping.html" class="btn btn-neutral float-left" title="RPMsg Ping" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../rptun/index.html" class="btn btn-neutral float-right" title="RPTUN (Remoteproc Tunnel)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>