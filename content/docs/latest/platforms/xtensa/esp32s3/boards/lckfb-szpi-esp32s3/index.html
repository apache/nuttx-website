<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LCKFB SZPI ESP32-S3 &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx_collapse.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
      <script src="../../../../../_static/jquery.js"></script>
      <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
      <script src="../../../../../_static/doctools.js"></script>
      <script src="../../../../../_static/sphinx_highlight.js"></script>
      <script src="../../../../../_static/clipboard.min.js"></script>
      <script src="../../../../../_static/copybutton.js"></script>
      <script src="../../../../../_static/design-tabs.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="Z16" href="../../../../z16/index.html" />
    <link rel="prev" title="Seeed Studio XIAO ESP32S3" href="../esp32s3-xiao/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../../../12.5.1" >12.5.1</option>
    
    <option value="../../../../../../12.6.0" >12.6.0</option>
    
    <option value="../../../../../../12.7.0" >12.7.0</option>
    
    <option value="../../../../../../12.8.0" >12.8.0</option>
    
    <option value="../../../../../../12.9.0" >12.9.0</option>
    
    <option value="../../../../../../12.10.0" >12.10.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../arm/index.html">ARM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../arm64/index.html">ARM64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../avr/index.html">Microchip AVR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_linux.html">Network Support on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_vpnkit.html">Network support with VPNKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../tricore/index.html">TriCore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">Xtensa</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../esp32/index.html">Espressif ESP32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../esp32s2/index.html">Espressif ESP32-S2</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">Espressif ESP32-S3</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../index.html#esp32-s3-toolchain">ESP32-S3 Toolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#building-and-flashing-nuttx">Building and flashing NuttX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#debugging">Debugging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#using-qemu">Using QEMU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#peripheral-support">Peripheral Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#id1">Managing esptool on virtual environment</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="../esp32s3-8048S043/index.html">ESP32S3-8048S043</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32s3-devkit/index.html">ESP32S3-DevKit</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32s3-eye/index.html">ESP32-S3-EYE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32s3-korvo-2/index.html">ESP32-S3-Korvo-2 V3.0</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32s3-lcd-ev/index.html">ESP32-S3-LCD-EV</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32s3-lhcbit/index.html">esp32s3-lhcbit</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32s3-xiao/index.html">Seeed Studio XIAO ESP32S3</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">LCKFB SZPI ESP32-S3</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../standards/index.html">Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Xtensa</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Espressif ESP32-S3</a></li>
      <li class="breadcrumb-item active">LCKFB SZPI ESP32-S3</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/apache/nuttx/blob/master/Documentation/platforms/xtensa/esp32s3/boards/lckfb-szpi-esp32s3/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lckfb-szpi-esp32-s3">
<h1>LCKFB SZPI ESP32-S3<a class="headerlink" href="#lckfb-szpi-esp32-s3" title="Permalink to this heading"></a></h1>
<p class="tags"><span>Tags: </span><a class="sd-sphinx-override sd-badge sd-bg-secondary sd-bg-text-secondary reference internal" href="../../../../../_tags/chip-esp32.html"><span class="doc">chip:esp32</span></a><span> </span><a class="sd-sphinx-override sd-badge sd-bg-secondary sd-bg-text-secondary reference internal" href="../../../../../_tags/chip-esp32s3.html"><span class="doc">chip:esp32s3</span></a></p>
<p>The <a class="reference external" href="https://wiki.lckfb.com/zh-hans/szpi-esp32s3/">LCKFB SZPI ESP32-S3</a> is a development board for the ESP32-S3 SoC from Jialichuang, based on a ESP32-S3-WROOM-1 module.</p>
<table class="docutils align-center">
<tbody>
<tr class="row-odd"><td><figure class="align-center">
<img alt="../../../../../_images/lckfb-szpi-esp32s3-white.png" src="../../../../../_images/lckfb-szpi-esp32s3-white.png" />
</figure>
</td>
</tr>
</tbody>
</table>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this heading"></a></h2>
<p>The development board almost includes all the achievable functions of the ESP32-S3, maximizing the performance of the ESP32-S3. It features a color screen display (2 inches), complete audio input (2 microphones) and output (speaker) functions. Combined with its integrated motion sensors, as well as Wi-Fi and Bluetooth capabilities, it can be used to create more practical and interesting IoT applications. There are two expansion interfaces available for connecting additional external sensor modules and actuators. The development board is compact in size (69x41x14mm), and the shell is designed without screws, allowing for easy opening and installation by hand without the need for tools such as a screwdriver.</p>
</section>
<section id="serial-console">
<h2>Serial Console<a class="headerlink" href="#serial-console" title="Permalink to this heading"></a></h2>
<p>UART0 is, by default, the serial console.  It connects to the on-board
CP2102 converter and is available on the USB connector USB CON8 (J1).</p>
<p>It will show up as /dev/ttyUSB[n] where [n] will probably be 0.</p>
</section>
<section id="buttons">
<h2>Buttons<a class="headerlink" href="#buttons" title="Permalink to this heading"></a></h2>
<section id="board-buttons">
<h3>Board Buttons<a class="headerlink" href="#board-buttons" title="Permalink to this heading"></a></h3>
<p>There are two buttons labeled Boot and EN.  The EN button is not available
to software.  It pulls the chip enable line that doubles as a reset line.</p>
<p>The BOOT button is connected to IO0.  On reset it is used as a strapping
pin to determine whether the chip boots normally or into the serial
bootloader.  After reset, however, the BOOT button can be used for software
input.</p>
</section>
</section>
<section id="i2s">
<h2>I2S<a class="headerlink" href="#i2s" title="Permalink to this heading"></a></h2>
<p>ESP32-S3 has two I2S peripherals accessible using either the generic I2S audio
driver or a specific audio codec driver
(<a class="reference external" href="https://www.cirrus.com/products/cs4344-45-48/">CS4344</a> bindings are
available at the moment). The generic I2S audio driver enables the use of both
the receiver module (RX) and the transmitter module (TX) without using any
specific codec. Also, it’s possible to use the I2S character device driver
to bypass the audio subsystem and write directly to the I2S peripheral.</p>
<dl class="simple">
<dt>The following configurations use the I2S peripheral::</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="../esp32s3-devkit/index.html#audio"><span class="std std-ref">audio</span></a></p></li>
<li><p><a class="reference internal" href="../esp32s3-devkit/index.html#nxlooper"><span class="std std-ref">nxlooper</span></a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this heading"></a></h2>
<p>All of the configurations presented below can be tested by running the following commands:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh lckfb-szpi-esp32s3:&lt;config_name&gt;
$ make flash ESPTOOL_PORT=/dev/ttyUSB0 -j
</pre></div>
</div>
<p>Where &lt;config_name&gt; is the name of board configuration you want to use, i.e.: nsh, buttons, wifi…
Then use a serial console terminal like <code class="docutils literal notranslate"><span class="pre">picocom</span></code> configured to 115200 8N1.</p>
<section id="nsh">
<h3>nsh<a class="headerlink" href="#nsh" title="Permalink to this heading"></a></h3>
<p>Basic NuttShell configuration (console enabled in UART0, exposed via
USB connection by means of CP2102 converter, at 115200 bps).</p>
</section>
<section id="usb-device">
<h3>usb_device<a class="headerlink" href="#usb-device" title="Permalink to this heading"></a></h3>
<p>Basic NuttShell configuration console and USB CDCACM enabled.</p>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh lckfb-szpi-esp32s3:usb_device
$ make -j16
$ make flash ESPTOOL_PORT=/dev/ttyUSBx
</pre></div>
</div>
<p>And then run the usbserial command at device side:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; usbserial &amp;
</pre></div>
</div>
<p>Finally check dmesg and content at host side:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ sudo dmesg -c
[1768234.376415] usb 1-9.3.3: new full-speed USB device number 87 using xhci_hcd
[1768234.468015] usb 1-9.3.3: New USB device found, idVendor=0525, idProduct=a4a7, bcdDevice= 1.01
[1768234.468020] usb 1-9.3.3: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[1768234.468021] usb 1-9.3.3: Product: CDC/ACM Serial
[1768234.468022] usb 1-9.3.3: Manufacturer: NuttX
[1768234.468023] usb 1-9.3.3: SerialNumber: 0
[1768234.478806] cdc_acm 1-9.3.3:1.0: ttyACM5: USB ACM device

$ sudo minicom -D /dev/ttyACM5 -b 115200
</pre></div>
</div>
</section>
<section id="adb">
<h3>adb<a class="headerlink" href="#adb" title="Permalink to this heading"></a></h3>
<p>Basic NuttShell configuration console enabled over USB Device (USB ADB).</p>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh lckfb-szpi-esp32s3:adb
$ make -j16
$ make flash ESPTOOL_PORT=/dev/ttyUSBx
</pre></div>
</div>
<p>Then run the adb command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ adb -s 1234 shell
nsh&gt; uname -a
NuttX 0.0.0  Mar 21 2025 14:25:36 xtensa lckfb-szpi-esp32s3
</pre></div>
</div>
</section>
<section id="txtable">
<h3>txtable<a class="headerlink" href="#txtable" title="Permalink to this heading"></a></h3>
<p>Basic TXTABLE(Text based Partition Table) configuration console enabled over USB ADB.</p>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh -l lckfb-szpi-esp32s3:txtable
$ make -j16
$ make flash ESPTOOL_PORT=/dev/ttyUSBx
</pre></div>
</div>
<p>Then check the partition:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; ls -l /dev/
/dev:
 dr--r--r--           0 adb0/
 crw-rw-rw-           0 console
 frw-rw-rw-     1044480 data
 frw-rw-rw-     1048576 esp32s3flash
 c-w--w--w-           0 log
 crw-rw-rw-           0 null
 crw-rw-rw-           0 ptmx
 dr--r--r--           0 pts/
 brw-rw-rw-        1024 ram0
 crw-rw-rw-           0 ttyS0
 frw-rw-rw-        4096 txtable
 crw-rw-rw-           0 zero
</pre></div>
</div>
</section>
<section id="fastboot">
<h3>fastboot<a class="headerlink" href="#fastboot" title="Permalink to this heading"></a></h3>
<div class="line-block">
<div class="line">The Fastboot configuration is based on lckfb-szpi-esp32s3:usb_device and lckfb-szpi-esp32s3:wifi, and support both <strong>USB</strong> and <strong>TCP</strong> network transport.</div>
<div class="line">More details about usage of fastboot, please refer to <a class="reference external" href="https://nuttx.apache.org/docs/latest/applications/system/fastboot/index.html">fastbootd — NuttX latest documentation</a>.</div>
</div>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh -l lckfb-szpi-esp32s3:fastboot
$ make flash ESPTOOL_PORT=/dev/ttyUSBx -j
</pre></div>
</div>
<p>To test it, just run the following (<strong>Default is host side</strong>):</p>
<ol class="arabic">
<li><p>Install fastboot tool:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo apt install fastboot
</pre></div>
</div>
</li>
<li><p>Specify a device / List devices:</p></li>
</ol>
<blockquote>
<div><p>List devices only supported for USB transport:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>fastboot devices

# Examples

$ fastboot devices
1234    fastboot
</pre></div>
</div>
<p>To specific a device, use “-s” option:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Usage
#
#   -s tcp:HOST[:PORT]         Specify a TCP network device.
#   -s SERIAL                  Specify a USB device.

fastboot -s SERIAL COMMAND
fastboot -s tcp:HOST[:PORT] COMMAND

# Examples

$ fastboot -s 1234 oem shell ifconfig
wlan0   Link encap:Ethernet HWaddr a0:85:e3:f4:43:30 at RUNNING mtu 1500
        inet addr:192.168.211.111 DRaddr:192.168.211.107 Mask:255.255.255.0

PS C:\workspace&gt; fastboot.exe -s tcp:192.168.211.111 oem shell ifconfig
wlan0   Link encap:Ethernet HWaddr a0:85:e3:f4:43:30 at RUNNING mtu 1500
        inet addr:192.168.211.111 DRaddr:192.168.211.107 Mask:255.255.255.0
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="3">
<li><p>Display given variable:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>fastboot getvar &lt;NAME&gt;
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Display the &quot;kernel&quot; variable::
$ fastboot -s 1234 getvar kernel
Kernel: NuttX
Finished. Total time: 0.000s
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="4">
<li><p>Flash given partition:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>fastboot flash PARTITION FILENAME
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>Example (Flash test.img to partition ram10):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># 1. Generate a test image
$ dd if=/dev/random of=test.img bs=1 count=128

# 2. Create a RAM disk (Device side)
nsh&gt; mkrd -m 10 -s 512 640
nsh&gt; ls -l /dev/ram10
 brw-rw-rw-      327680 /dev/ram10

# 3. Flash test.img to partition ram10
$ fastboot flash ram10 ./test.img
Sending &#39;ram10&#39; (0 KB)                             OKAY [  0.001s]
Writing &#39;ram10&#39;                                    OKAY [  0.001s]
Finished. Total time: 0.003s

# 4. Hexdump the test.img and partition ram10, and compare

## Host side
$ hexdump test.img
0000000 b1e8 b297 4ac5 9dfa d170 244e 4f83 0f93
0000010 1bf7 0b19 7bde 5543 0520 9719 746d 54fc
0000020 369d 72b3 f2e6 f463 c8e9 24c8 c876 e820
0000030 384d 07ab 52ca 2b24 dee7 0404 2663 91e4
0000040 6752 3611 aece b543 5194 2224 d1d5 8144
0000050 ff44 3bc9 5155 b393 1efb 9e88 2de9 3669
0000060 d010 2770 9192 2532 ccf5 591f 39ea 2431
0000070 2e3f feb0 87ef 9bdf 7dd4 2e79 64de edf6
0000080

## Device side
nsh&gt; hexdump /dev/ram10 count=128
/dev/ram10 at 00000000:
0000: e8 b1 97 b2 c5 4a fa 9d 70 d1 4e 24 83 4f 93 0f .....J..p.N$.O..
0010: f7 1b 19 0b de 7b 43 55 20 05 19 97 6d 74 fc 54 .....{CU ...mt.T
0020: 9d 36 b3 72 e6 f2 63 f4 e9 c8 c8 24 76 c8 20 e8 .6.r..c....$v. .
0030: 4d 38 ab 07 ca 52 24 2b e7 de 04 04 63 26 e4 91 M8...R$+....c&amp;..
0040: 52 67 11 36 ce ae 43 b5 94 51 24 22 d5 d1 44 81 Rg.6..C..Q$&quot;..D.
0050: 44 ff c9 3b 55 51 93 b3 fb 1e 88 9e e9 2d 69 36 D..;UQ.......-i6
0060: 10 d0 70 27 92 91 32 25 f5 cc 1f 59 ea 39 31 24 ..p&#39;..2%...Y.91$
0070: 3f 2e b0 fe ef 87 df 9b d4 7d 79 2e de 64 f6 ed ?........}y..d..
</pre></div>
</div>
</div></blockquote>
</section>
<section id="fastboot-usb">
<h3>fastboot_usb<a class="headerlink" href="#fastboot-usb" title="Permalink to this heading"></a></h3>
<div class="line-block">
<div class="line">The basic Fastboot configuration is based on lckfb-szpi-esp32s3:usb_device and support <strong>USB</strong> transport only.</div>
<div class="line">More details about usage of fastboot, please refer to <a class="reference external" href="https://nuttx.apache.org/docs/latest/applications/system/fastboot/index.html">fastbootd — NuttX latest documentation</a>.</div>
</div>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh -l lckfb-szpi-esp32s3:fastboot_usb
$ make flash ESPTOOL_PORT=/dev/ttyUSBx -j
</pre></div>
</div>
</section>
<section id="fastboot-tcp">
<h3>fastboot_tcp<a class="headerlink" href="#fastboot-tcp" title="Permalink to this heading"></a></h3>
<div class="line-block">
<div class="line">The Fastboot TCP network device configuration is based on lckfb-szpi-esp32s3:wifi and support <strong>TCP</strong> network transport only.</div>
<div class="line">More details about usage of fastboot, please refer to <a class="reference external" href="https://nuttx.apache.org/docs/latest/applications/system/fastboot/index.html">fastbootd — NuttX latest documentation</a>.</div>
</div>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh -l lckfb-szpi-esp32s3:fastboot_tcp
$ make flash ESPTOOL_PORT=/dev/ttyUSBx -j
</pre></div>
</div>
<p>To test it, just run the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Device side

nsh&gt; wapi psk wlan0 mypasswd 3
nsh&gt; wapi essid wlan0 myssid 1
nsh&gt; renew wlan0

# Host side

PS C:\workspace&gt; fastboot.exe -s tcp:HOST[:PORT] oem shell ls
/:
 data/
 dev/
 etc/
 proc/
 var/
OKAY [  0.063s]
Finished. Total time: 0.064s
</pre></div>
</div>
</section>
<section id="pca9557">
<h3>pca9557<a class="headerlink" href="#pca9557" title="Permalink to this heading"></a></h3>
<p>Basic NuttShell configuration console and I/O expander driver PCA9557 enabled.</p>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh lckfb-szpi-esp32s3:pca9557
$ make flash -j$(nproc) ESPTOOL_PORT=/dev/ttyUSB0
</pre></div>
</div>
<p>Then test gpio2(pin9(P2) of PCA9557):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># With hardware check, the pin levels meet the expected requirements.

# Output low
nsh&gt; echo 0 &gt; /dev/gpio2
nsh&gt; cat /dev/gpio2
0

# Output high
nsh&gt; echo 1 &gt; /dev/gpio2
nsh&gt; cat /dev/gpio2
1
</pre></div>
</div>
</section>
<section id="pwm">
<h3>pwm<a class="headerlink" href="#pwm" title="Permalink to this heading"></a></h3>
<p>Basic NuttShell configuration console and LEDC(PWM) enabled.</p>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh lckfb-szpi-esp32s3:pwm
$ make flash -j$(nproc) ESPTOOL_PORT=/dev/ttyUSB0
</pre></div>
</div>
<p>Then test LEDC(PWM) with pin42(backlight of LCD):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Backlight 0%
nsh&gt; pwm -d 100
pwm_main: starting output with frequency: 100 duty: 0000ffff
pwm_main: stopping output

# Backlight 10%
nsh&gt; pwm -d 90
pwm_main: starting output with frequency: 100 duty: 0000e666
pwm_main: stopping output

# Backlight 100%
nsh&gt; pwm -d 0
pwm_main: starting output with frequency: 100 duty: 00000000
pwm_main: stopping output
</pre></div>
</div>
</section>
<section id="psram">
<h3>psram<a class="headerlink" href="#psram" title="Permalink to this heading"></a></h3>
<p>Basic NuttShell configuration console and PSRAM(Pseudo Static Random Access Memory) enabled.</p>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh lckfb-szpi-esp32s3:psram
$ make flash -j$(nproc) ESPTOOL_PORT=/dev/ttyUSB0
</pre></div>
</div>
<p>Then comparing memory size with the basic “nsh” config:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># lckfb-szpi-esp32s3:nsh
nsh&gt; free
   total       used       free    maxused    maxfree  nused  nfree name
     332948     161500     171448     178280     171448     39      1 Umem

# lckfb-szpi-esp32s3:psram
nsh&gt; free
      total       used       free    maxused    maxfree  nused  nfree name
    8785268     161516    8623752     161888    8388592     41      2 Umem
</pre></div>
</div>
</section>
<section id="gpio">
<h3>gpio<a class="headerlink" href="#gpio" title="Permalink to this heading"></a></h3>
<p>Basic NuttShell configuration console and GPIO enabled.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Num</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Func / Location</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>IO39</p></td>
<td><p>Output</p></td>
<td><p>LCD SPI D/C</p></td>
</tr>
<tr class="row-odd"><td><p>IO10</p></td>
<td><p>Input</p></td>
<td><p>GP1.25-5P expansion interface 1 (left side, near the speaker)</p></td>
</tr>
<tr class="row-even"><td><p>IO11</p></td>
<td><p>Interrupt</p></td>
<td><p>GP1.25-5P expansion interface 1 (left side, near the speaker)</p></td>
</tr>
</tbody>
</table>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh lckfb-szpi-esp32s3:gpio
$ make flash -j$(nproc) ESPTOOL_PORT=/dev/ttyUSB0
</pre></div>
</div>
<p>Then test gpio39(IO39):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># With hardware check, the pin levels meet the expected requirements.

# Output high
nsh&gt; echo 1 &gt; /dev/gpio39
nsh&gt; cat /dev/gpio39
1

# Output low
nsh&gt; echo 0 &gt; /dev/gpio39
nsh&gt; cat /dev/gpio39
0
</pre></div>
</div>
</section>
<section id="lcd">
<h3>lcd<a class="headerlink" href="#lcd" title="Permalink to this heading"></a></h3>
<p>Basic NuttShell configuration console and LCD enabled.</p>
<figure class="align-center">
<img alt="../../../../../_images/lckfb-szpi-esp32s3-lcd.jpg" src="../../../../../_images/lckfb-szpi-esp32s3-lcd.jpg" />
</figure>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh lckfb-szpi-esp32s3:lcd
$ make flash -j$(nproc) ESPTOOL_PORT=/dev/ttyUSB0
</pre></div>
</div>
<p>Then run the fb command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; fb
VideoInfo:
      fmt: 11
     xres: 240
     yres: 320
  nplanes: 1
PlaneInfo (plane 0):
    fbmem: 0x3fc8e9f8
    fblen: 153600
   stride: 480
  display: 0
      bpp: 16
Mapped FB: 0x3fc8e9f8
 0: (  0,  0) (240,320)
 1: ( 21, 29) (198,262)
 2: ( 42, 58) (156,204)
 3: ( 63, 87) (114,146)
 4: ( 84,116) ( 72, 88)
 5: (105,145) ( 30, 30)
Test finished
nsh&gt;
</pre></div>
</div>
</section>
<section id="lvgl">
<h3>lvgl<a class="headerlink" href="#lvgl" title="Permalink to this heading"></a></h3>
<p>Basic NuttShell configuration console and LVGL(Light and Versatile Graphics Library) enabled.</p>
<figure class="align-center">
<img alt="../../../../../_images/lckfb-szpi-esp32s3-lvgl.jpg" src="../../../../../_images/lckfb-szpi-esp32s3-lvgl.jpg" />
</figure>
<p>You can run the configuration and compilation procedure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh -l lckfb-szpi-esp32s3:lvgl
$ make flash -j$(nproc) ESPTOOL_PORT=/dev/ttyUSB0
</pre></div>
</div>
<p>Then run the lvgldemo command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; lvgldemo
[LVGL] [User]   (6.560, +6560)   check_stack_size: tid: 2, Stack size : 16328 lv_nuttx_entry.c:297
[LVGL] [User]   (6.560, +0)      lv_nuttx_lcd_create: lcd /dev/lcd0 opening lv_nuttx_lcd.c:77
[LVGL] [User]   (6.560, +0)      lv_nuttx_lcd_create: lcd /dev/lcd0 open success lv_nuttx_lcd.c:84
[LVGL] [Warn]   (6.570, +10)     lv_demo_widgets: LV_FONT_MONTSERRAT_18 is not enabled for the widgets demo. Using LV_FONT_DEFAULT instead. lv_demo_widgets.c:156
[LVGL] [Warn]   (6.580, +10)     lv_demo_widgets: LV_FONT_MONTSERRAT_12 is not enabled for the widgets demo. Using LV_FONT_DEFAULT instead. lv_demo_widgets.c:161
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../esp32s3-xiao/index.html" class="btn btn-neutral float-left" title="Seeed Studio XIAO ESP32S3" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../../z16/index.html" class="btn btn-neutral float-right" title="Z16" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>