<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ESP32-Ethernet-Kit V1.2 &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/sphinx_highlight.js"></script>
        <script src="../../../../../_static/clipboard.min.js"></script>
        <script src="../../../../../_static/copybutton.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="ESP32-LyraT V4.3" href="../esp32-lyrat/index.html" />
    <link rel="prev" title="ESP32 DevKitC" href="../esp32-devkitc/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../12.3.0" >12.3.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../arm/index.html">ARM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../arm64/index.html">ARM64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../avr/index.html">Microchip AVR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">Xtensa</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">Espressif ESP32</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../index.html#toolchain">Toolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#flashing">Flashing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#peripheral-support">Peripheral Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#memory-map">Memory Map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#bit-timers">64-bit Timers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#watchdog-timers">Watchdog Timers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#smp">SMP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#wi-fi">Wi-Fi</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#wi-fi-softap">Wi-Fi SoftAP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#bluetooth">Bluetooth</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#i2s">I2S</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#using-qemu">Using QEMU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#secure-boot-and-flash-encryption">Secure Boot and Flash Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#things-to-do">Things to Do</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="../esp32-2432S028/index.html">ESP32-2432S028</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32-audio-kit/index.html">ESP32-AUDIO-KIT</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32-devkitc/index.html">ESP32 DevKitC</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">ESP32-Ethernet-Kit V1.2</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32-lyrat/index.html">ESP32-LyraT V4.3</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32-pico-kit/index.html">ESP32-PICO-KIT V4</a></li>
<li class="toctree-l5"><a class="reference internal" href="../esp32-wrover-kit/index.html">ESP-WROVER-KIT</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../esp32s2/index.html">Espressif ESP32-S2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../esp32s3/index.html">Espressif ESP32-S3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Xtensa</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Espressif ESP32</a></li>
      <li class="breadcrumb-item active">ESP32-Ethernet-Kit V1.2</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../_sources/platforms/xtensa/esp32/boards/esp32-ethernet-kit/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="esp32-ethernet-kit-v1-2">
<h1>ESP32-Ethernet-Kit V1.2<a class="headerlink" href="#esp32-ethernet-kit-v1-2" title="Permalink to this heading"></a></h1>
<p>The ESP32-Ethernet-Kit is an Ethernet-to-Wi-Fi development board that enables Ethernet
devices to be interconnected over Wi-Fi. At the same time, to provide more flexible power
supply options, the ESP32-Ethernet-Kit also supports power over Ethernet (PoE).
You can find the board schematic <a class="reference external" href="https://dl.espressif.com/dl/schematics/SCH_ESP32-Ethernet-Kit_A_V1.2_20200528.pdf">here</a>.</p>
<figure class="align-center align-default" id="id2">
<img alt="ESP32-Ethernet-Kit V1.2 Board Layout" src="../../../../../_images/esp32-ethernet-kit-v1.2-overview.png" />
<figcaption>
<p><span class="caption-text">ESP32-Ethernet-Kit V1.2 Board Layout</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>It consists of two development boards, the Ethernet board A and the PoE board B.
The Ethernet board (A) contains Bluetooth/Wi-Fi dual-mode ESP32-WROVER-E module and IP101GRI,
a Single Port 10/100 Fast Ethernet Transceiver (PHY). The PoE board (B) provides power over
Ethernet functionality. The A board can work independently, without the board B installed.</p>
<figure class="align-center align-default" id="id3">
<img alt="ESP32-Ethernet-Kit V1.2" src="../../../../../_images/esp32-ethernet-kit-v1.2.jpg" />
<figcaption>
<p><span class="caption-text">ESP32-Ethernet-Kit V1.2</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>For the application loading and monitoring, the Ethernet board (A) also features FTDI FT2232H
chip - an advanced multi-interface USB bridge. This chip enables to use JTAG for direct debugging
of ESP32 through the USB interface without a separate JTAG debugger.</p>
<p>The block diagram below presents main components of the ESP32-Ethernet-Kit.</p>
<figure class="align-center align-default" id="id4">
<img alt="ESP32-Ethernet-Kit V1.2 Electrical Block Diagram" src="../../../../../_images/esp32-ethernet-kit-v1.1-block-diagram.png" />
<figcaption>
<p><span class="caption-text">ESP32-Ethernet-Kit V1.2 Electrical Block Diagram</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this heading"></a></h2>
<blockquote>
<div><ul class="simple">
<li><p>ESP32-WROVER-E Module</p></li>
<li><p>JTAG through USB</p></li>
<li><p>Ethernet</p></li>
<li><p>Power over Ethernet (PoE)</p></li>
<li><p>USB-to-UART bridge via micro USB port</p></li>
</ul>
</div></blockquote>
</section>
<section id="functional-description">
<h2>Functional Description<a class="headerlink" href="#functional-description" title="Permalink to this heading"></a></h2>
<p>The following figures describe the key components, interfaces, and controls of the ESP32-Ethernet-Kit.</p>
<section id="ethernet-board-a">
<h3>Ethernet Board (A)<a class="headerlink" href="#ethernet-board-a" title="Permalink to this heading"></a></h3>
<figure class="align-center align-default" id="id5">
<img alt="ESP32-Ethernet-Kit - Ethernet board (A) layout" src="../../../../../_images/esp32-ethernet-kit-a-v1.2-layout.jpg" />
<figcaption>
<p><span class="caption-text">ESP32-Ethernet-Kit - Ethernet board (A) layout</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="poe-board-b">
<h3>PoE Board (B)<a class="headerlink" href="#poe-board-b" title="Permalink to this heading"></a></h3>
<p>This board converts power delivered over the Ethernet cable (PoE) to provide a power supply
for the Ethernet board (A). The main components of the PoE board (B) are shown on the image below.</p>
<figure class="align-center align-default" id="id6">
<img alt="ESP32-Ethernet-Kit - PoE board (B) layout" src="../../../../../_images/esp32-ethernet-kit-b-v1.0-layout.png" />
<figcaption>
<p><span class="caption-text">ESP32-Ethernet-Kit - PoE board (B) layout</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The PoE board (B) has the following features:</p>
<blockquote>
<div><ul class="simple">
<li><p>Support for IEEE 802.3at</p></li>
<li><p>Power output: 5 V, 1.4 A</p></li>
</ul>
</div></blockquote>
<p>To take advantage of the PoE functionality the RJ45 Port of the Ethernet board (A) should be connected
with an Ethernet cable to a switch that supports PoE. When the Ethernet board (A) detects 5 V power output
from the PoE board (B), the USB power will be automatically cut off.</p>
</section>
</section>
<section id="function-switch">
<h2>Function Switch<a class="headerlink" href="#function-switch" title="Permalink to this heading"></a></h2>
<p>When in On position, this DIP switch is routing listed GPIOs to FT2232H to provide JTAG functionality.
When in Off position, the GPIOs may be used for other purposes.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>DIP SW</p></th>
<th class="head"><p>GPIO Pin</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>GPIO13</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>GPIO12</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>GPIO15</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>GPIO14</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rmii-clock-selection">
<h2>RMII Clock Selection<a class="headerlink" href="#rmii-clock-selection" title="Permalink to this heading"></a></h2>
<p>The ethernet MAC and PHY under RMII working mode need a common 50 MHz reference clock (i.e. RMII clock)
that can be provided either externally, or generated from internal ESP32 APLL (not recommended).</p>
<section id="rmii-clock-sourced-externally-by-phy">
<h3>RMII Clock Sourced Externally by PHY<a class="headerlink" href="#rmii-clock-sourced-externally-by-phy" title="Permalink to this heading"></a></h3>
<p>By default, the ESP32-Ethernet-Kit is configured to provide RMII clock for the IP101GRI PHY’s 50M_CLKO output.
The clock signal is generated by the frequency multiplication of 25 MHz crystal connected to the PHY.
For details, please see the figure below.</p>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../../../../../_images/esp32-ethernet-kit-rmii-clk-from-phy.png"><img alt="RMII Clock from IP101GRI PHY" src="../../../../../_images/esp32-ethernet-kit-rmii-clk-from-phy.png" style="width: 459.20000000000005px; height: 410.40000000000003px;" /></a>
<figcaption>
<p><span class="caption-text">RMII Clock from IP101GRI PHY</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Please note that the PHY is reset on power up by pulling the RESET_N signal down with a resistor.
ESP32 should assert RESET_N high with GPIO5 to enable PHY. Only this can ensure the power-up of system.
Otherwise ESP32 may enter download mode (when the clock signal of REF_CLK_50M is at a high logic level during
the GPIO0 power-up sampling phase).</p>
</section>
<section id="rmii-clock-sourced-internally-from-esp32-s-apll">
<h3>RMII Clock Sourced Internally from ESP32’s APLL<a class="headerlink" href="#rmii-clock-sourced-internally-from-esp32-s-apll" title="Permalink to this heading"></a></h3>
<p>Another option is to source the RMII Clock from internal ESP32 APLL, see figure below.
The clock signal coming from GPIO0 is first inverted, to account for transmission line delay,
and then supplied to the PHY.</p>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../../../../../_images/esp32-ethernet-kit-rmii-clk-to-phy.png"><img alt="RMII Clock from ESP Internal APLL" src="../../../../../_images/esp32-ethernet-kit-rmii-clk-to-phy.png" style="width: 459.20000000000005px; height: 410.40000000000003px;" /></a>
<figcaption>
<p><span class="caption-text">RMII Clock from ESP Internal APLL</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To implement this option, users need to remove or add some RC components on the board.
For details please refer to the <a class="reference external" href="https://dl.espressif.com/dl/schematics/SCH_ESP32-Ethernet-Kit_A_V1.2_20200528.pdf">ESP32-Ethernet-Kit V1.2 Ethernet board (A) schematic</a>,
sheet 2, location D2. Please note that if the APLL is already used for other purposes
(e.g. I2S peripheral), then you have no choice but use an external RMII clock.</p>
</section>
</section>
<section id="serial-console">
<h2>Serial Console<a class="headerlink" href="#serial-console" title="Permalink to this heading"></a></h2>
<p>UART0 is, by default, the serial console. It connects to the on-board
CP2102N bridge and is available on the USB connector.</p>
<p>It will show up as /dev/ttyUSB[n] where [n] will probably be 0.</p>
</section>
<section id="buttons-and-leds">
<h2>Buttons and LEDs<a class="headerlink" href="#buttons-and-leds" title="Permalink to this heading"></a></h2>
<section id="board-buttons">
<h3>Board Buttons<a class="headerlink" href="#board-buttons" title="Permalink to this heading"></a></h3>
<p>There are two buttons labeled Boot and EN. The EN button is not available
to software. It pulls the chip enable line that doubles as a reset line.</p>
<p>The BOOT button is connected to IO0. On reset it is used as a strapping
pin to determine whether the chip boots normally or into the serial
bootloader. After reset, however, the BOOT button can be used for software
input.</p>
</section>
<section id="board-leds">
<h3>Board LEDs<a class="headerlink" href="#board-leds" title="Permalink to this heading"></a></h3>
<p>There are several on-board LEDs for that indicate the presence of power
and USB activity. None of these are available for use by software.</p>
</section>
</section>
<section id="pin-mapping">
<h2>Pin Mapping<a class="headerlink" href="#pin-mapping" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ESP32-WROVER-E</p></th>
<th class="head"><p>IP101GRI</p></th>
<th class="head"><p>UART</p></th>
<th class="head"><p>JTAG</p></th>
<th class="head"><p>GPIO</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>S_VP</p></td>
<td></td>
<td></td>
<td></td>
<td><p>IO36</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>S_VN</p></td>
<td></td>
<td></td>
<td></td>
<td><p>IO39</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IO34</p></td>
<td></td>
<td></td>
<td></td>
<td><p>IO34</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>IO35</p></td>
<td></td>
<td></td>
<td></td>
<td><p>IO35</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IO32</p></td>
<td></td>
<td></td>
<td></td>
<td><p>IO32</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>IO33</p></td>
<td></td>
<td></td>
<td></td>
<td><p>IO33</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IO25</p></td>
<td><p>RXD[0]</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>IO26</p></td>
<td><p>RXD[1]</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IO27</p></td>
<td><p>CRS_DV</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>IO14</p></td>
<td></td>
<td></td>
<td><p>TMS</p></td>
<td><p>IO14</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IO12</p></td>
<td></td>
<td></td>
<td><p>TDI</p></td>
<td><p>IO12</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>IO13</p></td>
<td></td>
<td></td>
<td><p>TCK</p></td>
<td><p>IO13</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IO15</p></td>
<td></td>
<td></td>
<td><p>TDO</p></td>
<td><p>IO15</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>IO2</p></td>
<td></td>
<td></td>
<td></td>
<td><p>IO2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IO0</p></td>
<td><p>REF_CLK</p></td>
<td></td>
<td></td>
<td></td>
<td><p>See note 1</p></td>
</tr>
<tr class="row-odd"><td><p>IO4</p></td>
<td></td>
<td></td>
<td></td>
<td><p>IO4</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IO16</p></td>
<td></td>
<td></td>
<td></td>
<td><p>IO16 (NC)</p></td>
<td><p>See note 2</p></td>
</tr>
<tr class="row-odd"><td><p>IO17</p></td>
<td></td>
<td></td>
<td></td>
<td><p>IO17 (NC)</p></td>
<td><p>See note 2</p></td>
</tr>
<tr class="row-even"><td><p>IO5</p></td>
<td><p>Reset_N</p></td>
<td></td>
<td></td>
<td></td>
<td><p>See note 1</p></td>
</tr>
<tr class="row-odd"><td><p>IO18</p></td>
<td><p>MDIO</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IO19</p></td>
<td><p>TXD[0]</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>IO21</p></td>
<td><p>TX_EN</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>RXD0</p></td>
<td></td>
<td><p>RXD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>TXD0</p></td>
<td></td>
<td><p>TXD</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IO22</p></td>
<td><p>TXD[1]</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>IO23</p></td>
<td><p>MDC</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>1. To prevent the power-on state of the GPIO0 from being affected by the clock output on the PHY side,
the RESET_N signal to PHY defaults to low, turning the clock output off. After power-on you can control
RESET_N with GPIO5 to turn the clock output on. See also <a class="reference internal" href="#rmii-clock-sourced-externally-by-phy">RMII Clock Sourced Externally by PHY</a>. For
PHYs that cannot turn off the clock output through RESET_N, it is recommended to use a crystal module
that can be disabled/enabled externally. Similarly like when using RESET_N, the oscillator module should
be disabled by default and turned on by ESP32 after power-up.
For a reference design please see <a class="reference external" href="https://dl.espressif.com/dl/schematics/SCH_ESP32-Ethernet-Kit_A_V1.2_20200528.pdf">ESP32-Ethernet-Kit V1.2 Ethernet board (A) schematic</a>.</p>
<ol class="arabic simple" start="2">
<li><p>The ESP32 pins GPIO16 and GPIO17 are not broken out to the ESP32-WROVER-E module and therefore not available for use.</p></li>
</ol>
</div>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this heading"></a></h2>
<p>All of the configurations presented below can be tested by running the following commands:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./tools/configure.sh esp32-ethernet-kit:&lt;config_name&gt;
$ make flash ESPTOOL_PORT=/dev/ttyUSB0 -j
</pre></div>
</div>
<p>Where &lt;config_name&gt; is the name of board configuration you want to use, i.e.: nsh, buttons, wifi…
Then use a serial console terminal like <code class="docutils literal notranslate"><span class="pre">picocom</span></code> configured to 115200 8N1.</p>
<section id="autopm">
<h3>autopm<a class="headerlink" href="#autopm" title="Permalink to this heading"></a></h3>
<p>This configuration makes the device automatically enter the low power consumption mode
when in the idle state, powering off the cpu and other peripherals.</p>
<p>In minimum power save mode, the station wakes up every DTIM to receive a beacon. The broadcast
data will not be lost because it is transmitted after DTIM. However, it can not save much more
power if DTIM is short as the DTIM is determined by the access point.</p>
</section>
<section id="buttons">
<h3>buttons<a class="headerlink" href="#buttons" title="Permalink to this heading"></a></h3>
<p>This configuration shows the use of the buttons subsystem. It can be used by executing
the <code class="docutils literal notranslate"><span class="pre">buttons</span></code> application and pressing on any of the available board buttons:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; buttons
buttons_main: Starting the button_daemon
buttons_main: button_daemon started
button_daemon: Running
button_daemon: Opening /dev/buttons
button_daemon: Supported BUTTONs 0x01
nsh&gt; Sample = 1
Sample = 0
</pre></div>
</div>
</section>
<section id="ethernet">
<h3>ethernet<a class="headerlink" href="#ethernet" title="Permalink to this heading"></a></h3>
<p>This configuration is similar to <code class="docutils literal notranslate"><span class="pre">wifi</span></code> but uses the Ethernet interface instead
of the WiFi one. It also automatically configures the IP and DNS addresses of the
device. It currently uses the following static configuration:</p>
<blockquote>
<div><ul class="simple">
<li><p>IP: 192.168.15.100 (0xc0a80f64)</p></li>
<li><p>Gateway: 192.168.15.1 (0xc0a80f01)</p></li>
<li><p>Netmask: 255.255.255.0 (0xffffff00)</p></li>
<li><p>DNS: 8.8.8.8 (0x08080808)</p></li>
</ul>
</div></blockquote>
</section>
<section id="nsh">
<h3>nsh<a class="headerlink" href="#nsh" title="Permalink to this heading"></a></h3>
<p>Basic NuttShell configuration (console enabled in UART0, exposed via
USB connection by means of CP2102 converter, at 115200 bps).</p>
</section>
<section id="oneshot">
<h3>oneshot<a class="headerlink" href="#oneshot" title="Permalink to this heading"></a></h3>
<p>This config demonstrate the use of oneshot timers present on the ESP32.
To test it, just run the <code class="docutils literal notranslate"><span class="pre">oneshot</span></code> example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; oneshot
Opening /dev/oneshot
Maximum delay is 4294967295999999
Starting oneshot timer with delay 2000000 microseconds
Waiting...
Finished
</pre></div>
</div>
</section>
<section id="rtc">
<h3>rtc<a class="headerlink" href="#rtc" title="Permalink to this heading"></a></h3>
<p>This configuration demonstrates the use of the RTC driver through alarms.
You can set an alarm, check its progress and receive a notification after it expires:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; alarm 10
alarm_daemon started
alarm_daemon: Running
Opening /dev/rtc0
Alarm 0 set in 10 seconds
nsh&gt; alarm -r
Opening /dev/rtc0
Alarm 0 is active with 10 seconds to expiration
nsh&gt; alarm_daemon: alarm 0 received
</pre></div>
</div>
</section>
<section id="wifi">
<h3>wifi<a class="headerlink" href="#wifi" title="Permalink to this heading"></a></h3>
<p>Enables Wi-Fi support. You can define your credentials this way:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ make menuconfig
-&gt; Application Configuration
    -&gt; Network Utilities
        -&gt; Network initialization (NETUTILS_NETINIT [=y])
            -&gt; WAPI Configuration
</pre></div>
</div>
<p>Or if you don’t want to keep it saved in the firmware you can do it
at runtime:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; wapi psk wlan0 mypasswd 3
nsh&gt; wapi essid wlan0 myssid 1
nsh&gt; renew wlan0
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Please refer to <a class="reference internal" href="../../index.html#esp32-wi-fi-sta"><span class="std std-ref">ESP32 Wi-Fi Station Mode</span></a>
for more information.</p>
</div>
</section>
</section>
<section id="readme-txt">
<h2>README.txt<a class="headerlink" href="#readme-txt" title="Permalink to this heading"></a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>README for the Espressif ESP32 Ethernet Kit
==============================================

  The ESP32 is a dual-core system from Espressif with two Harvard
  architecture Xtensa LX6 CPUs. All embedded memory, external memory and
  peripherals are located on the data bus and/or the instruction bus of
  these CPUs. With some minor exceptions, the address mapping of two CPUs
  is symmetric, meaning they use the same addresses to access the same
  memory. Multiple peripherals in the system can access embedded memory via
  DMA.

  The ESP32-Ethernet-Kit is an Ethernet-to-Wi-Fi development board that enables
  Ethernet devices to be interconnected over Wi-Fi. At the same time, to provide
  more flexible power supply options, the ESP32-Ethernet-Kit also supports power
  over Ethernet (PoE).

Buttons and LEDs
================

  Buttons
  -------
  There are two buttons labeled Boot and EN.  The EN button is not available
  to software.  It pulls the chip enable line that doubles as a reset line.

  The BOOT button is connected to IO0.  On reset it is used as a strapping
  pin to determine whether the chip boots normally or into the serial
  bootloader.  After reset, however, the BOOT button can be used for software
  input.

  LEDs
  ----
  There are several on-board LEDs for that indicate the presence of power
  and USB activity.  None of these are available for use by software.

Ethernet
========

  ESP32 has a 802.11 hardware MAC, so just connects to external PHY chip.
  Due to the limited number of GPIOs in ESP32, it&#39;s recommended to use RMII to
  connect to an external PHY chip. Current driver also only supports RMII option.

  The RMII GPIO pins are fixed, but the SMI and functional GPIO pins are optional.

  RMII GPIO pins are as following:

      ESP32 GPIO          PHY Chip GPIO
        IO25       &lt;--&gt;       RXD[0]
        IO26       &lt;--&gt;       RXD[1]
        IO27       &lt;--&gt;       CRS_DV
        IO0        &lt;--&gt;       REF_CLK
        IO19       &lt;--&gt;       TXD[0]
        IO21       &lt;--&gt;       TX_EN
        IO22       &lt;--&gt;       TXD[1]

  SMI GPIO pins (default option) are as following:

      ESP32 GPIO          PHY Chip GPIO
        IO18       &lt;--&gt;       MDIO
        IO23       &lt;--&gt;       MDC

  Functional GPIO pins(default option) are as following:

      ESP32 GPIO          PHY Chip GPIO
        IO5        &lt;--&gt;      Reset_N

Using QEMU:
==========

First follow the instructions at https://github.com/espressif/qemu/wiki to build QEMU.
Enable the ESP32_QEMU_IMAGE config found in &quot;Board Selection -&gt; ESP32 binary image for QEMU&quot;.
Download the bootloader and the partition table from https://github.com/espressif/esp-nuttx-bootloader/releases
and place them in a directory, say ../esp-bins.
Build and generate the QEMU image: `make ESPTOOL_BINDIR=../esp-bins`
A new image &quot;esp32_qemu_image.bin&quot; will be created.  It can be run as:

 ~/PATH_TO_QEMU/qemu/build/xtensa-softmmu/qemu-system-xtensa -nographic \
    -machine esp32 \
    -drive file=esp32_qemu_image.bin,if=mtd,format=raw
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../esp32-devkitc/index.html" class="btn btn-neutral float-left" title="ESP32 DevKitC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../esp32-lyrat/index.html" class="btn btn-neutral float-right" title="ESP32-LyraT V4.3" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>