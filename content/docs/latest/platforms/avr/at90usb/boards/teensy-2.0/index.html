<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Teensy 2.0 &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx_collapse.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
      <script src="../../../../../_static/jquery.js"></script>
      <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
      <script src="../../../../../_static/doctools.js"></script>
      <script src="../../../../../_static/sphinx_highlight.js"></script>
      <script src="../../../../../_static/clipboard.min.js"></script>
      <script src="../../../../../_static/copybutton.js"></script>
      <script src="../../../../../_static/design-tabs.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="Microchip Atmega" href="../../../atmega/index.html" />
    <link rel="prev" title="Micropendous 3" href="../micropendous3/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../../../12.5.1" >12.5.1</option>
    
    <option value="../../../../../../12.6.0" >12.6.0</option>
    
    <option value="../../../../../../12.7.0" >12.7.0</option>
    
    <option value="../../../../../../12.8.0" >12.8.0</option>
    
    <option value="../../../../../../12.9.0" >12.9.0</option>
    
    <option value="../../../../../../12.10.0" >12.10.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../arm/index.html">ARM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../arm64/index.html">ARM64</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">Microchip AVR</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../at32uc3/index.html">Microchip AT32UC3</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">Microchip AT90USB</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../index.html#avr-at90usb64x-and-at90usb6128x">AVR AT90USB64x and AT90USB6128x</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#buildroot">Buildroot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#winavr">WinAVR</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#linux">Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#macos">macOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#header-files">Header Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#header-file-installation">Header File Installation</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#build-notes">Build Notes</a><ul class="current">
<li class="toctree-l5 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../atmega/index.html">Microchip Atmega</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../avrdx/index.html">Microchip DA/DB family</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../common/constants-in-progmem.html">Keeping constants in program memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../common/context-switch-notes.html">Notes on AVR context switch</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_linux.html">Network Support on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_vpnkit.html">Network support with VPNKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../tricore/index.html">TriCore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../xtensa/index.html">Xtensa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../standards/index.html">Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Microchip AVR</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Microchip AT90USB</a></li>
      <li class="breadcrumb-item active">Teensy 2.0</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/apache/nuttx/blob/master/Documentation/platforms/avr/at90usb/boards/teensy-2.0/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="teensy-2-0">
<h1>Teensy 2.0<a class="headerlink" href="#teensy-2-0" title="Permalink to this heading"></a></h1>
<p class="tags"><span>Tags: </span><a class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary reference internal" href="../../../../../_tags/arch-avr.html"><span class="doc">arch:avr</span></a><span> </span><a class="sd-sphinx-override sd-badge sd-bg-secondary sd-bg-text-secondary reference internal" href="../../../../../_tags/chip-at90usb.html"><span class="doc">chip:at90usb</span></a></p>
<p>This is the documentation for the port of NuttX to the PJRC Teensy++ 2.0 board.
This board is developed by <a class="reference external" href="http://pjrc.com/teensy/">http://pjrc.com/teensy/</a>. The Teensy++ 2.0 is based on
an Atmel AT90USB1286 MCU.</p>
<section id="teensy-2-0-features">
<h2>Teensy++ 2.0 Features<a class="headerlink" href="#teensy-2-0-features" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Based on the 64-pin USB AVR Microcontroller AT90USB1286.</p></li>
<li><p>USB Full Speed (12Mbit/s)</p></li>
<li><p>USB Device Mode</p></li>
<li><p>120kbof available FLASH memory for programs.</p></li>
<li><p>8 kbytes SRAM and 4 kbytes of EEPROM</p></li>
<li><p>USB powered</p></li>
<li><p>16MHz crystal</p></li>
<li><p>48 General Purpose IO Pins</p></li>
</ul>
</section>
<section id="pin-usage">
<h2>Pin Usage<a class="headerlink" href="#pin-usage" title="Permalink to this heading"></a></h2>
<p>AT90USB1286 TQFP64</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIN</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>BOARD CONNECTION</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>(INT.6/AIN.0) PE6</p></td>
<td><p>Pad E6</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>(INT.7/AIN.1/UVcon) PE7</p></td>
<td><p>Pad E7</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>UVcc</p></td>
<td><p>(Voltage circutry)</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>D-</p></td>
<td><p>USB DP</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>D+</p></td>
<td><p>USB DM</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>UGnd</p></td>
<td><p>GND</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>UCap</p></td>
<td><p>GND (via cap)</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>VBus</p></td>
<td><p>USB VBUS</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>(IUID) PE3</p></td>
<td><p>N/C</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>(SS/PCINT0) PB0</p></td>
<td><p>Pad B0</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>(PCINT1/SCLK) PB1</p></td>
<td><p>Pad B1</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>(PDI/PCINT2/MOSI) PB2</p></td>
<td><p>Pad B2</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>(PDO/PCINT3/MISO) PB3</p></td>
<td><p>Pad B3</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>(PCINT4/OC.2A) PB4</p></td>
<td><p>Pad B4</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>(PCINT5/OC.1A) PB5</p></td>
<td><p>Pad B5</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>(PCINT6/OC.1B) PB6</p></td>
<td><p>Pad B6</p></td>
</tr>
<tr class="row-even"><td><p>17</p></td>
<td><p>(PCINT7/OC.0A/OC.1C) PB7</p></td>
<td><p>Pad B7</p></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p>(INT4/TOSC1) PE4</p></td>
<td><p>Pad E4</p></td>
</tr>
<tr class="row-even"><td><p>19</p></td>
<td><p>(INT.5/TOSC2) PE5</p></td>
<td><p>Pad E5</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p>RESET</p></td>
<td><p>Switch pulls to ground</p></td>
</tr>
<tr class="row-even"><td><p>21</p></td>
<td><p>VCC</p></td>
<td><p>VCC</p></td>
</tr>
<tr class="row-odd"><td><p>22</p></td>
<td><p>GND</p></td>
<td><p>GND</p></td>
</tr>
<tr class="row-even"><td><p>23</p></td>
<td><p>XTAL2</p></td>
<td><p>XTAL (16MHz)</p></td>
</tr>
<tr class="row-odd"><td><p>24</p></td>
<td><p>XTAL1</p></td>
<td><p>XTAL (16MHz)</p></td>
</tr>
<tr class="row-even"><td><p>25</p></td>
<td><p>(OC0B/SCL/INT0) PD0</p></td>
<td><p>Pad D0</p></td>
</tr>
<tr class="row-odd"><td><p>26</p></td>
<td><p>(OC2B/SDA/INT1) PD1</p></td>
<td><p>Pad D1</p></td>
</tr>
<tr class="row-even"><td><p>27</p></td>
<td><p>(RXD1/INT2) PD2</p></td>
<td><p>Pad D2</p></td>
</tr>
<tr class="row-odd"><td><p>28</p></td>
<td><p>(TXD1/INT3) PD3</p></td>
<td><p>Pad D3</p></td>
</tr>
<tr class="row-even"><td><p>29</p></td>
<td><p>(ICP1) PD4</p></td>
<td><p>Pad D4</p></td>
</tr>
<tr class="row-odd"><td><p>30</p></td>
<td><p>(XCK1) PD5</p></td>
<td><p>Pad D5</p></td>
</tr>
<tr class="row-even"><td><p>31</p></td>
<td><p>(T1) PD6</p></td>
<td><p>Pad D6, LED</p></td>
</tr>
<tr class="row-odd"><td><p>32</p></td>
<td><p>(T0) PD7</p></td>
<td><p>Pad D7</p></td>
</tr>
<tr class="row-even"><td><p>48</p></td>
<td><p>PA3 (AD3)</p></td>
<td><p>Pad A3</p></td>
</tr>
<tr class="row-odd"><td><p>47</p></td>
<td><p>PA4 (AD4)</p></td>
<td><p>Pad A4</p></td>
</tr>
<tr class="row-even"><td><p>46</p></td>
<td><p>PA5 (AD5)</p></td>
<td><p>Pad A5</p></td>
</tr>
<tr class="row-odd"><td><p>45</p></td>
<td><p>PA6 (AD6)</p></td>
<td><p>Pad A6</p></td>
</tr>
<tr class="row-even"><td><p>44</p></td>
<td><p>PA7 (AD7)</p></td>
<td><p>Pad A7</p></td>
</tr>
<tr class="row-odd"><td><p>43</p></td>
<td><p>PE2 (ALE/HWB)</p></td>
<td><p>Pad ALE (Pulled down)</p></td>
</tr>
<tr class="row-even"><td><p>42</p></td>
<td><p>PC7 (A15/IC.3/CLKO)</p></td>
<td><p>Pad C7</p></td>
</tr>
<tr class="row-odd"><td><p>41</p></td>
<td><p>PC6 (A14/OC.3A)</p></td>
<td><p>Pad C6</p></td>
</tr>
<tr class="row-even"><td><p>40</p></td>
<td><p>PC5 (A13/OC.3B)</p></td>
<td><p>Pad C5</p></td>
</tr>
<tr class="row-odd"><td><p>39</p></td>
<td><p>PC4 (A12/OC.3C)</p></td>
<td><p>Pad C4</p></td>
</tr>
<tr class="row-even"><td><p>38</p></td>
<td><p>PC3 (A11/T.3)</p></td>
<td><p>Pad C3</p></td>
</tr>
<tr class="row-odd"><td><p>37</p></td>
<td><p>PC2 (A10)</p></td>
<td><p>Pad C2</p></td>
</tr>
<tr class="row-even"><td><p>36</p></td>
<td><p>PC1 (A9)</p></td>
<td><p>Pad C1</p></td>
</tr>
<tr class="row-odd"><td><p>35</p></td>
<td><p>PC0 (A8)</p></td>
<td><p>Pad C0</p></td>
</tr>
<tr class="row-even"><td><p>34</p></td>
<td><p>PE1 (RD)</p></td>
<td><p>Pad E1</p></td>
</tr>
<tr class="row-odd"><td><p>33</p></td>
<td><p>PE0 (WR)</p></td>
<td><p>Pad E0</p></td>
</tr>
<tr class="row-even"><td><p>64</p></td>
<td><p>AVCC</p></td>
<td><p>VCC</p></td>
</tr>
<tr class="row-odd"><td><p>63</p></td>
<td><p>GND</p></td>
<td><p>GND</p></td>
</tr>
<tr class="row-even"><td><p>62</p></td>
<td><p>AREF</p></td>
<td><p>Pad Ref (Capacitor to ground)</p></td>
</tr>
<tr class="row-odd"><td><p>61</p></td>
<td><p>PF0 (ADC0)</p></td>
<td><p>Pad F0</p></td>
</tr>
<tr class="row-even"><td><p>60</p></td>
<td><p>PF1 (ADC1)</p></td>
<td><p>Pad F1</p></td>
</tr>
<tr class="row-odd"><td><p>59</p></td>
<td><p>PF2 (ADC2)</p></td>
<td><p>Pad F2</p></td>
</tr>
<tr class="row-even"><td><p>58</p></td>
<td><p>PF3 (ADC3)</p></td>
<td><p>Pad F3</p></td>
</tr>
<tr class="row-odd"><td><p>57</p></td>
<td><p>PF4 (ADC4/TCK)</p></td>
<td><p>Pad F4</p></td>
</tr>
<tr class="row-even"><td><p>56</p></td>
<td><p>PF5 (ADC5/TMS)</p></td>
<td><p>Pad F5</p></td>
</tr>
<tr class="row-odd"><td><p>55</p></td>
<td><p>PF6 (ADC6/TDO)</p></td>
<td><p>Pad F6</p></td>
</tr>
<tr class="row-even"><td><p>54</p></td>
<td><p>PF7 (ADC7/TDI)</p></td>
<td><p>Pad F7</p></td>
</tr>
<tr class="row-odd"><td><p>53</p></td>
<td><p>GND</p></td>
<td><p>GND</p></td>
</tr>
<tr class="row-even"><td><p>52</p></td>
<td><p>VCC</p></td>
<td><p>VCC</p></td>
</tr>
<tr class="row-odd"><td><p>51</p></td>
<td><p>PA0 (AD0)</p></td>
<td><p>Pad A0</p></td>
</tr>
<tr class="row-even"><td><p>50</p></td>
<td><p>PA1 (AD1)</p></td>
<td><p>Pad A1</p></td>
</tr>
<tr class="row-odd"><td><p>49</p></td>
<td><p>PA2 (AD2)</p></td>
<td><p>Pad A2</p></td>
</tr>
</tbody>
</table>
</section>
<section id="halfkey-bootloader">
<h2>Halfkey Bootloader<a class="headerlink" href="#halfkey-bootloader" title="Permalink to this heading"></a></h2>
<p>Download the Teensy application from <a class="reference external" href="http://pjrc.com/teensy/loader.html">http://pjrc.com/teensy/loader.html</a>.
Instructions are available for your OS at that place as well.</p>
<p>Summary:</p>
<ol class="arabic simple">
<li><p>Start Teensy</p></li>
<li><p>Press button on the Teensy board</p></li>
<li><p>Select a HEX file (File menu)</p></li>
<li><p>Select “program” (Operations menu)</p></li>
<li><p>Reboot (Operations menu).</p></li>
</ol>
</section>
<section id="serial-console">
<h2>Serial Console<a class="headerlink" href="#serial-console" title="Permalink to this heading"></a></h2>
<p>A serial console is supported on an external MAX232/MAX3232 Connected
on PD2 and PD3:</p>
<p><strong>Port D, Bit 2: RXD1, Receive Data (Data input pin for the USART1).</strong></p>
<p>When the USART1 receiver is enabled this pin is configured as an input
regardless of the value of DDD2. When the USART forces this pin to be an input,
the pull-up can still be controlled by the PORTD2 bit.</p>
<p><strong>Port D, Bit 3: TXD1, Transmit Data (Data output pin for the USART1).</strong></p>
<p>When the USART1 Transmitter is enabled, this pin is configured as an output
regardless of the value of DDD3.</p>
<p>AT90USB90128/64 TQFP64</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIN</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>BOARD CONNECTION</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>27</p></td>
<td><p>(RXD1/INT2) PD2</p></td>
<td><p>Pad D2</p></td>
</tr>
<tr class="row-odd"><td><p>28</p></td>
<td><p>(TXD1/INT3) PD3</p></td>
<td><p>Pad D3</p></td>
</tr>
</tbody>
</table>
<p>Plus power and ground. There are numerous ground points and both USB 5V and Vcc
are available.</p>
</section>
<section id="sd-connection">
<h2>SD Connection<a class="headerlink" href="#sd-connection" title="Permalink to this heading"></a></h2>
<p>I have the SD-ADP SD/MMC Card Adaptor from www.gravitech.com
(<a class="reference external" href="http://www.gravitech.us/sdcaad.html">http://www.gravitech.us/sdcaad.html</a>). Features:</p>
<ul class="simple">
<li><p>On-board 3.3V regulator</p></li>
<li><p>Connect directly to 3.3V or 5.0V microcontroller</p></li>
<li><p>Card detect LED</p></li>
<li><p>Includes 11-pin male header</p></li>
<li><p>Board dimension: 2.0”x1.3”</p></li>
</ul>
<section id="sd-adp-pinout-sd-connection">
<h3>SD-ADP Pinout / SD Connection<a class="headerlink" href="#sd-adp-pinout-sd-connection" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>J2</p></th>
<th class="head"><p>NAME</p></th>
<th class="head"><p>SD CARD</p></th>
<th class="head"><p>DESCRIPTION</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>VIN</p></td>
<td><p>(regulator)</p></td>
<td><p>Input power to the SD card (3.3V to 6.0V)</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>GND</p></td>
<td><p>3,6,12,13</p></td>
<td><p>Common (Connects to the housing of the SD socket)</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>3V3</p></td>
<td><p>4 3.3V</p></td>
<td><p>Output voltage from the on-board 3.3V regulator (250mA)</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>NC</p></td>
<td><p>9 NC</p></td>
<td><p>Connect to pin 9 on the SD card (not used in SPI mode)</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>CS</p></td>
<td><p>1 DAT3/CS</p></td>
<td><p>Chip select (1*)</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>DI</p></td>
<td><p>2 CMD/DI</p></td>
<td><p>Serial input data (1*)</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>SCK</p></td>
<td><p>5 SCK</p></td>
<td><p>Serial clock (1*)</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>DO</p></td>
<td><p>7 DAT0/DO</p></td>
<td><p>Serial output data</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>IRQ</p></td>
<td><p>8 DAT1/IRQ</p></td>
<td><p>Interrupt request, connect to pin 8 on the SD card (not used in SPI mode)</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>CD</p></td>
<td><p>10 CD</p></td>
<td><p>Card detect (active low)</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>WP</p></td>
<td><p>11 WP</p></td>
<td><p>Write protect</p></td>
</tr>
</tbody>
</table>
<p>(1*) Via a 74LCX245 level translator / buff</p>
</section>
<section id="teensy-spi-connection">
<h3>Teensy SPI Connection<a class="headerlink" href="#teensy-spi-connection" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>J2</p></th>
<th class="head"><p>NAME</p></th>
<th class="head"><p>PIN</p></th>
<th class="head"><p>NAME</p></th>
<th class="head"><p>PAD</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>VIN</p></td>
<td><p>–</p></td>
<td><p>Connected to USB +5V</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>GND</p></td>
<td><p>–</p></td>
<td><p>Connected to USB GND</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>3V3</p></td>
<td><p>–</p></td>
<td><p>Not used</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>NC</p></td>
<td><p>–</p></td>
<td><p>Not used</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>CS</p></td>
<td><p>10</p></td>
<td><p>(SS/PCINT0) PB0</p></td>
<td><p>Pad B0</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>DI</p></td>
<td><p>12</p></td>
<td><p>(PDI/PCINT2/MOSI) PB2</p></td>
<td><p>Pad B2</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>SCK</p></td>
<td><p>11</p></td>
<td><p>(PCINT1/SCLK) PB1</p></td>
<td><p>Pad B1</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>DO</p></td>
<td><p>13</p></td>
<td><p>(PDO/PCINT3/MISO) PB3</p></td>
<td><p>Pad B3</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>IRQ</p></td>
<td><p>–</p></td>
<td><p>Not used</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>CD</p></td>
<td><p>14</p></td>
<td><p>(PCINT4/OC.2A) PB4</p></td>
<td><p>Pad B4</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>WP</p></td>
<td><p>15</p></td>
<td><p>(PCINT5/OC.1A) PB5</p></td>
<td><p>Pad B5</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="toolchains">
<h2>Toolchains<a class="headerlink" href="#toolchains" title="Permalink to this heading"></a></h2>
<p>Read about the tool chains at <a class="reference internal" href="../../index.html"><span class="doc">Microchip AT90USB</span></a>.</p>
</section>
<section id="teensy-configuration-options">
<h2>Teensy++ Configuration Options<a class="headerlink" href="#teensy-configuration-options" title="Permalink to this heading"></a></h2>
<p>Individual subsystems can be enabled:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_INT0=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_INT1=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_INT2=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_INT3=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_INT4=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_INT5=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_INT6=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_INT7=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_USBHOST=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_USBDEV=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_WDT=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_TIMER0=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_TIMER1=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_TIMER2=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_TIMER3=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_SPI=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_USART1=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_ANACOMP=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_ADC=n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_TWI=n</span></code></p></li>
</ul>
<p>If the watchdog is enabled, this specifies the initial timeout.  Default
is maximum supported value.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WDTO_15MS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WDTO_30MS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WDTO_60MS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WDTO_120MS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WDTO_1250MS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WDTO_500MS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WDTO_1S</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WDTO_2S</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WDTO_4S</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WDTO_8S</span></code></p></li>
</ul>
<p>AT90USB specific device driver settings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USARTn_SERIAL_CONSOLE</span></code>: selects the USARTn for the console and ttys0
(default is no serial console).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USARTn_RXBUFSIZE</span></code>: Characters are buffered as received. This
specific the size of the receive buffer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USARTn_TXBUFSIZE</span></code>: Characters are buffered before being sent.  This
specific the size of the transmit buffer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USARTn_BAUD</span></code>: The configure BAUD of the USART.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USARTn_BITS</span></code>: The number of bits. Must be either 7 or 8.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USARTn_PARTIY</span></code>: 0=no parity, 1=odd parity, 2=even parity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USARTn_2STOP</span></code>: Two stop bits</p></li>
</ul>
<p>AT90USB specific USB device configuration:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USB_DISABLE_PADREGULATOR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USB_LOWSPEED</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USB_NOISYVBUS</span></code></p></li>
</ul>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Each Teensy++ configuration is maintained in a sub-directory and can be
selected as follow:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tools/configure.sh<span class="w"> </span>teensy-2.0:&lt;subdir&gt;
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">&lt;subdir&gt;</span></code> is one of the configuration sub-directories described in
the following paragraph.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You must also copy avr-libc header files, perhaps like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cp<span class="w"> </span>-a<span class="w"> </span>/cygdrive/c/WinAVR/include/avr<span class="w"> </span>include/.
</pre></div>
</div>
</div>
</li>
<li><p>These configurations use the mconf-based configuration tool. To change a
configurations using that tool, you should:</p>
<ol class="loweralpha simple">
<li><p>Build and install the kconfig-mconf tool. See <code class="docutils literal notranslate"><span class="pre">nuttx/README.txt</span></code> see
additional <code class="docutils literal notranslate"><span class="pre">README.txt</span></code> files in the NuttX tools repository.</p></li>
<li><p>Execute <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code> in <code class="docutils literal notranslate"><span class="pre">nuttx/</span></code> in order to start the
reconfiguration process.</p></li>
</ol>
</li>
<li><p>By default, all configurations assume the NuttX Buildroot toolchain
under Cygwin with Windows. This is easily reconfigured:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_HOST_WINDOWS=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WINDOWS_CYGWIN=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_AVR_BUILDROOT_TOOLCHAIN=y</span></code></p></li>
</ul>
</li>
<li><p>Build with GCC disables CONFIG_DEBUG_OPT_UNUSED_SECTIONS by default. This is
because the linker script was not checked to determine if it properly
prevents removal of sections which the linker considers unreferenced but
which must be present in the binary.</p></li>
</ol>
<section id="hello">
<h3>hello<a class="headerlink" href="#hello" title="Permalink to this heading"></a></h3>
<p>The simple <code class="docutils literal notranslate"><span class="pre">apps/examples/hello</span></code> “Hello, World!” example.</p>
</section>
<section id="nsh">
<h3>nsh<a class="headerlink" href="#nsh" title="Permalink to this heading"></a></h3>
<p>This is a reduce NuttShell (NSH) configuration using <code class="docutils literal notranslate"><span class="pre">apps/example/nsh</span></code>. The
serial console is provided on USART1 and can be accessed via an external RS-232
driver as described above under “Serial Console”.</p>
</section>
<section id="ostest">
<h3>ostest<a class="headerlink" href="#ostest" title="Permalink to this heading"></a></h3>
<p>This configuration directory, performs a simple OS test using
<code class="docutils literal notranslate"><span class="pre">apps/examples/ostest</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The OS test is quite large. In order to get it to fit within AVR memory
constraints, it will probably be necessary to disable some OS features.</p>
</div>
</section>
<section id="usbmsc">
<h3>usbmsc<a class="headerlink" href="#usbmsc" title="Permalink to this heading"></a></h3>
<p>This configuration directory exercises the USB mass storage class driver at
apps/system/usbmsc. See apps/examples/README.txt for more information.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>THIS CONFIGURATION HAS NOT YET BEEN DEBUGGED AND DOES NOT WORK!!!
ISSUES:</p>
<ol class="arabic simple">
<li><p>THE SPI DRIVER IS UNTESTED</p></li>
<li><p>THE USB DRIVER IS UNTESTED</p></li>
<li><p>THE RAM USAGE MIGHT BE EXCESSIVE</p></li>
</ol>
<p>Update 7/11: (1) The SPI/SD driver has been verified, however, (2) I believe
that the current teensy-2.0/usbmsc configuration uses too much SRAM for the
system to behave sanely. A lower memory footprint version of the mass storage
driver will be required before this can be debugged.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../micropendous3/index.html" class="btn btn-neutral float-left" title="Micropendous 3" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../atmega/index.html" class="btn btn-neutral float-right" title="Microchip Atmega" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>