<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Elegoo Mega2560 Rev3 &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../../../../_static/favicon.ico"/>
      <script src="../../../../../../_static/jquery.js"></script>
      <script src="../../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
      <script src="../../../../../../_static/doctools.js"></script>
      <script src="../../../../../../_static/sphinx_highlight.js"></script>
      <script src="../../../../../../_static/clipboard.min.js"></script>
      <script src="../../../../../../_static/copybutton.js"></script>
      <script src="../../../../../../_static/design-tabs.js"></script>
    <script src="../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
    <link rel="next" title="Microchip DA/DB family" href="../../../../avrdx/index.html" />
    <link rel="prev" title="Arduino Mega2560" href="../arduino-mega2560/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../../../../12.5.1" >12.5.1</option>
    
    <option value="../../../../../../../12.6.0" >12.6.0</option>
    
    <option value="../../../../../../../12.7.0" >12.7.0</option>
    
    <option value="../../../../../../../12.8.0" >12.8.0</option>
    
    <option value="../../../../../../../12.9.0" >12.9.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../../arm/index.html">ARM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../arm64/index.html">ARM64</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../index.html">Microchip AVR</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../../at32uc3/index.html">Microchip AT32UC3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../at90usb/index.html">Microchip AT90USB</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../index.html">Microchip Atmega</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../index.html#build-toolchain">Build Toolchain</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../../index.html#supported-chips">Supported Chips</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="../../../atmega128/index.html">ATMega128</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../atmega1284p/index.html">Atmega1284P</a></li>
<li class="toctree-l5 current"><a class="reference internal" href="../../index.html">AVR ATMega2560</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../avrdx/index.html">Microchip DA/DB family</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../common/context-switch-notes.html">Notes on AVR context switch</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../sim/network_linux.html">Network Support on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../sim/network_vpnkit.html">Network support with VPNKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../tricore/index.html">TriCore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../xtensa/index.html">Xtensa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Microchip AVR</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Microchip Atmega</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">AVR ATMega2560</a></li>
      <li class="breadcrumb-item active">Elegoo Mega2560 Rev3</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/apache/nuttx/blob/master/Documentation/platforms/avr/atmega/atmega2560/boards/elegoo-mega2560r3/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="elegoo-mega2560-rev3">
<h1>Elegoo Mega2560 Rev3<a class="headerlink" href="#elegoo-mega2560-rev3" title="Permalink to this heading"></a></h1>
<p class="tags"><span>Tags: </span><a class="sd-sphinx-override sd-badge sd-bg-secondary sd-bg-text-secondary reference internal" href="../../../../../../_tags/chip-atmega2560.html"><span class="doc">chip:atmega2560</span></a><span> </span><a class="sd-sphinx-override sd-badge sd-bg-secondary sd-bg-text-secondary reference internal" href="../../../../../../_tags/chip-atmega.html"><span class="doc">chip:atmega</span></a><span> </span><a class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary reference internal" href="../../../../../../_tags/arch-avr.html"><span class="doc">arch:avr</span></a><span> </span><a class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary reference internal" href="../../../../../../_tags/vendor-elegoo.html"><span class="doc">vendor:elegoo</span></a><span> </span><a class="sd-sphinx-override sd-badge sd-bg-warning sd-bg-text-warning reference internal" href="../../../../../../_tags/experimental.html"><span class="doc">experimental</span></a></p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../../../../../../_images/elegoo-mega2560r3.jpg"><img alt="The Elegoo Mega2560 Rev3 board with its included USB cable" src="../../../../../../_images/elegoo-mega2560r3.jpg" style="width: 487.6px; height: 380.8px;" /></a>
<figcaption>
<p><span class="caption-text">The Elegoo Mega2560 Rev3 board with its included USB cable</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This board is a variant of the <a class="reference external" href="https://docs.arduino.cc/hardware/mega-2560/">Arduino Mega2560 Rev3 board</a> designed by Elegoo. The <a class="reference external" href="https://us.elegoo.com/products/elegoo-mega-2560-r3-board">product
listing can be found here</a>.</p>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Atmel ATMega2560 chip</p></li>
<li><p>54 digital pins</p></li>
<li><p>16 analog inputs</p></li>
<li><p>4 serial ports</p></li>
<li><p>4KB EEPROM</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The ATMega2560 chip supported is limited, and thus this board does not
support many peripherals. If you would like to help improve support for this
board and other ATMega2560-based boards, please see the <a class="reference internal" href="../../../../../../contributing/index.html"><span class="doc">contributing
guidelines</span></a>.</p>
</div>
</section>
<section id="buttons-and-leds">
<h2>Buttons and LEDs<a class="headerlink" href="#buttons-and-leds" title="Permalink to this heading"></a></h2>
<p>The board has a large RESET button, which is not user controllable.</p>
<p>There are 4 LEDs on-board the Elegoo Mega2560 Rev3:</p>
<ul class="simple">
<li><p>ON: indicates active power, connected directly to the power supply</p></li>
<li><p>TX: indicates transmitting data</p></li>
<li><p>RX: indicates receiving data</p></li>
<li><p>TEST: board controllable LED, near “PWM” label. Turns on to indicate that
NuttX started, and flashes at 1Hz to indicate panic.</p></li>
</ul>
</section>
<section id="pin-mapping">
<h2>Pin Mapping<a class="headerlink" href="#pin-mapping" title="Permalink to this heading"></a></h2>
<p>The full pin-out of this board is the same as the Arduino Mega2560r3 pinout,
which can be found <a class="reference external" href="https://docs.arduino.cc/hardware/mega-2560/">here</a>.</p>
</section>
<section id="power-supply">
<h2>Power Supply<a class="headerlink" href="#power-supply" title="Permalink to this heading"></a></h2>
<p>This board uses 5V logic. It has on-board power regulation to provide 5V and
3.3V rails to the user. The 3.3V rail can only supply 50mA.</p>
<p>The board can be powered a few different ways:</p>
<ul class="simple">
<li><p>Via the USB connection at 5V</p></li>
<li><p>Via external power supply to the barrel jack (center-positive) at 7V - 12V</p></li>
</ul>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<p>You will need the <code class="docutils literal notranslate"><span class="pre">avrdude</span></code> utility to flash this board. For instructions on
how to install the AVR toolchain, consult the main documentation for the AVR
architecture.</p>
</section>
<section id="building-nuttx">
<h2>Building NuttX<a class="headerlink" href="#building-nuttx" title="Permalink to this heading"></a></h2>
<p>In order to build NuttX, you can follow the regular process of using
<code class="docutils literal notranslate"><span class="pre">./tools/configure.sh</span></code> and <code class="docutils literal notranslate"><span class="pre">make</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./tools/configure.sh<span class="w"> </span>elegoo-mega2560r3:nsh
<span class="gp">$ </span>make
</pre></div>
</div>
<p>The build system will generate a <code class="docutils literal notranslate"><span class="pre">.hex</span></code> file along with the typical ELF file.
If not, enable the <code class="docutils literal notranslate"><span class="pre">CONFIG_INTELHEX_BINARY</span></code> option.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Beware of the small memory size of this board’s chip when choosing what to
include in your NuttX image.</p>
</div>
</section>
<section id="flashing">
<h2>Flashing<a class="headerlink" href="#flashing" title="Permalink to this heading"></a></h2>
<p>Then, to flash the board, connect it via USB to the host computer and run the
following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>avrdude<span class="w"> </span>-c<span class="w"> </span>stk500v2<span class="w"> </span>-p<span class="w"> </span>m2560<span class="w"> </span>-P<span class="w"> </span>/dev/ttyACM0<span class="w"> </span>-U<span class="w"> </span>flash:w:nuttx.hex<span class="w"> </span>-v<span class="w"> </span>-D
</pre></div>
</div>
<p>This command assumes that the board USB connection is available on <code class="docutils literal notranslate"><span class="pre">ttyACM0</span></code>,
but you should verify the file path to its connection. You can use <code class="docutils literal notranslate"><span class="pre">lsusb</span></code> on
Linux to look for “Arduino SA Mega 2560 R3”.</p>
<p>If you want to reduce the console output of the command, remove the <code class="docutils literal notranslate"><span class="pre">-v</span></code> flag.</p>
<p>The board uses the STK500v2 programmer type through the on-board programmer,
hence the argument to <code class="docutils literal notranslate"><span class="pre">-c</span></code>. The argument to <code class="docutils literal notranslate"><span class="pre">-p</span></code> specifies the AVR device to
be the ATMega2560. The <code class="docutils literal notranslate"><span class="pre">-U</span></code> argument tells the program to write the
<code class="docutils literal notranslate"><span class="pre">nuttx.hex</span></code> image to flash.</p>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this heading"></a></h2>
<section id="nsh">
<h3>nsh<a class="headerlink" href="#nsh" title="Permalink to this heading"></a></h3>
<p>Very basic configuration with the <code class="docutils literal notranslate"><span class="pre">nsh</span></code> shell on the UART0 pins at a baud
rate of 38400. You can also access UART0 through the USB connector on your host
machine.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../arduino-mega2560/index.html" class="btn btn-neutral float-left" title="Arduino Mega2560" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../../avrdx/index.html" class="btn btn-neutral float-right" title="Microchip DA/DB family" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>