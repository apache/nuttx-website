<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Olimex LPC-H3131 &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
      <script src="../../../../../_static/jquery.js"></script>
      <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
      <script src="../../../../../_static/doctools.js"></script>
      <script src="../../../../../_static/sphinx_highlight.js"></script>
      <script src="../../../../../_static/clipboard.min.js"></script>
      <script src="../../../../../_static/copybutton.js"></script>
      <script src="../../../../../_static/design-tabs.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="NXP LPC40xx" href="../../../lpc40xx/index.html" />
    <link rel="prev" title="EA3152" href="../ea3152/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../../../12.5.1" >12.5.1</option>
    
    <option value="../../../../../../12.6.0" >12.6.0</option>
    
    <option value="../../../../../../12.7.0" >12.7.0</option>
    
    <option value="../../../../../../12.8.0" >12.8.0</option>
    
    <option value="../../../../../../12.9.0" >12.9.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">ARM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../a1x/index.html">Allwinner A10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../am335x/index.html">TI/Sitara AM335x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../at32/index.html">Artery AT32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bcm2708/index.html">Broadcom BCM2708 (removed)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../c5471/index.html">TI TMS320-C5471</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../cxd56xx/index.html">Sony CXD56xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../dm320/index.html">TI TMS320-DM320</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../efm32/index.html">SiLabs EFM32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../eoss3/index.html">EOSS3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fvp-v8r-aarch32/index.html">FVP ARMv8-R Virt Chip</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../gd32f4/index.html">GD32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/goldfish_timer.html">GOLDFISH TIMER</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/index.html">GOLDFISH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx1/index.html">NXP/Freescale i.MX1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx6/index.html">NXP/Freescale i.MX6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx9/index.html">NXP i.MX9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imxrt/index.html">NXP i.MX RT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kinetis/index.html">NXP/FreeScale Kinetis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kl/index.html">NXP/FreeScale KLxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lc823450/index.html">ON Semiconductor LC823450</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc17xx/index.html">NXP LPC17xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc214x/index.html">NXP LPC214x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc2378/index.html">NXP LPC2378</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">NXP LPC31xx</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="../ea3131/index.html">EA3131</a></li>
<li class="toctree-l5"><a class="reference internal" href="../ea3152/index.html">EA3152</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">Olimex LPC-H3131</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc40xx/index.html">NXP LPC40xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc43xx/index.html">NXP LPC43xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc54xx/index.html">NXP LPC54xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../max326xx/index.html">Maxim Integrated MAX32660</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../moxart/index.html">Moxa NP51x0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mps/index.html">MPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/ieee802154.html">Nordic nRF52 IEEE 802.15.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/index.html">Nordic nRF52</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf53/index.html">Nordic nRF53</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf91/index.html">Nordic nRF91</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nuc1xx/index.html">nuvoTon NUC120</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../phy62xx/index.html">PHY+ PHY62</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../qemu/index.html">QEMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ra4m1/index.html">Renesas RA4M1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp2040/index.html">RaspberryPi rp2040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp23xx/index.html">RaspberryPi rp2350</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k1xx/index.html">NXP S32K1XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k3xx/index.html">NXP S32K3XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sam34/index.html">Microchip SAM34</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sama5/index.html">Microchip SAMA5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd2l2/index.html">Microchip SAMD2x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd5e5/index.html">Microchip samd5e5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samv7/index.html">Microchip SAM V7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32c0/index.html">ST STM32C0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f0/index.html">ST STM32F0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f1/index.html">ST STM32F1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f2/index.html">ST STM32F2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f3/index.html">ST STM32F3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f4/index.html">ST STM32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f7/index.html">ST STM32F7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g0/index.html">ST STM32G0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g4/index.html">ST STM32G4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32h5/index.html">ST STM32H5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32h7/index.html">ST STM32H7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l0/index.html">ST STM32L0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l1/index.html">ST STM32L1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l4/index.html">ST STM32L4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l5/index.html">ST STM32L5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32u5/index.html">ST STM32U5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wb/index.html">ST STM32WB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wl5/index.html">ST STM32WL5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../str71x/index.html">ST STR71</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tiva/index.html">TI/Stellaris Tiva</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tms570/index.html">TI/Hercules TMS570xxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../xmc4/index.html">Infineon XMC4000</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../arm64/index.html">ARM64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../avr/index.html">Microchip AVR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_linux.html">Network Support on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_vpnkit.html">Network support with VPNKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../tricore/index.html">TriCore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../xtensa/index.html">Xtensa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">ARM</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">NXP LPC31xx</a></li>
      <li class="breadcrumb-item active">Olimex LPC-H3131</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/apache/nuttx/blob/master/Documentation/platforms/arm/lpc31xx/boards/olimex-lpc-h3131/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="olimex-lpc-h3131">
<h1>Olimex LPC-H3131<a class="headerlink" href="#olimex-lpc-h3131" title="Permalink to this heading"></a></h1>
<p>This documentation discusses the port of NuttX to the Olimex LPC-H3131 board.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a minimal port to the Olimex LPC-H3131. According to Olimex
documentation, the LPC-H3131 is similar in design to the Embedded Artists
EA3131. As a consequence, it should be possible to leverage additional
functionality from <code class="docutils literal notranslate"><span class="pre">boards/arm/lpc31xx/ea3131</span></code> without too much
difficulty.</p>
</div>
<section id="development-environment">
<h2>Development Environment<a class="headerlink" href="#development-environment" title="Permalink to this heading"></a></h2>
<p>Either Linux or Cygwin on Windows can be used for the development environment.
The source has been built only using the GNU toolchain (see below).  Other
toolchains will likely cause problems.</p>
</section>
<section id="gnu-toolchain-options">
<h2>GNU Toolchain Options<a class="headerlink" href="#gnu-toolchain-options" title="Permalink to this heading"></a></h2>
<p>The NuttX make system has been modified to support the following different
toolchain options.</p>
<ol class="arabic simple">
<li><p>The NuttX buildroot Toolchain (see below), or</p></li>
<li><p>Any generic arm-none-eabi GNU toolchain.</p></li>
</ol>
<p>All testing has been conducted using the NuttX buildroot toolchain.  To use
a different toolchain, you simply need to modify the configuration.  As an
example:</p>
<p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARM_TOOLCHAIN_GNU_EABI:</span> <span class="pre">Generic</span> <span class="pre">arm-none-eabi</span> <span class="pre">toolchain</span></code></p>
<section id="generic-arm-none-eabi-gnu-toolchain">
<h3>Generic arm-none-eabi GNU Toolchain<a class="headerlink" href="#generic-arm-none-eabi-gnu-toolchain" title="Permalink to this heading"></a></h3>
<p>There are a number of toolchain projects providing support for ARMv4/v5 class
processors, including: <a class="reference external" href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm">GCC ARM Embedded</a></p>
<p>Others exist for various Linux distributions, MacPorts, etc.  Any version based
on GCC 4.6.3 or later should work.</p>
</section>
</section>
<section id="ides">
<h2>IDEs<a class="headerlink" href="#ides" title="Permalink to this heading"></a></h2>
<p>NuttX is built using command-line make.  It can be used with an IDE, but some
effort will be required to create the project.</p>
<section id="makefile-build">
<h3>Makefile Build<a class="headerlink" href="#makefile-build" title="Permalink to this heading"></a></h3>
<p>Under Eclipse, it is pretty easy to set up an “empty makefile project” and
simply use the NuttX makefile to build the system.  That is almost for free
under Linux.  Under Windows, you will need to set up the “Cygwin GCC” empty
makefile project in order to work with Windows (Google for “Eclipse Cygwin” -
there is a lot of help on the internet).</p>
</section>
<section id="native-build">
<h3>Native Build<a class="headerlink" href="#native-build" title="Permalink to this heading"></a></h3>
<p>Here are a few tips before you start that effort:</p>
<ol class="arabic simple">
<li><p>Select the toolchain that you will be using in your .config file</p></li>
<li><p>Start the NuttX build at least one time from the Cygwin command line before
trying to create your project.  This is necessary to create certain
auto-generated files and directories that will be needed.</p></li>
<li><p>Set up include paths:  You will need <code class="docutils literal notranslate"><span class="pre">include/</span></code>, <code class="docutils literal notranslate"><span class="pre">arch/arm/src/lpc31xx</span></code>,
<code class="docutils literal notranslate"><span class="pre">arch/arm/src/common</span></code>, <code class="docutils literal notranslate"><span class="pre">arch/arm/src/arm</span></code>, and <code class="docutils literal notranslate"><span class="pre">sched/</span></code>.</p></li>
<li><p>All assembly files need to have the definition option <code class="docutils literal notranslate"><span class="pre">-D</span> <span class="pre">__ASSEMBLY__</span></code> on
the command line.</p></li>
</ol>
<p>Startup files will probably cause you some headaches. The NuttX startup file is
<code class="docutils literal notranslate"><span class="pre">arch/arm/src/lpc31xx/lpc31_vectors.S</span></code>. You may have to build NuttX one time
from the Cygwin command line in order to obtain the pre-built startup object
needed by an IDE.</p>
</section>
</section>
<section id="nuttx-buildroot-toolchain">
<h2>NuttX buildroot Toolchain<a class="headerlink" href="#nuttx-buildroot-toolchain" title="Permalink to this heading"></a></h2>
<p>A GNU GCC-based toolchain is assumed. The <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable should
be modified to point to the correct path to the Cortex-M3 GCC toolchain (if
different from the default in your <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable).</p>
<p>If you have no Cortex-M3 toolchain, one can be downloaded from the NuttX
Bitbucket download site (<a class="reference external" href="https://bitbucket.org/nuttx/buildroot/downloads/">https://bitbucket.org/nuttx/buildroot/downloads/</a>).
This GNU toolchain builds and executes in the Linux or Cygwin environment.</p>
<ol class="arabic simple">
<li><p>You must have already configured NuttX in <code class="docutils literal notranslate"><span class="pre">&lt;some-dir&gt;/nuttx</span></code>.</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tools/configure.sh<span class="w"> </span>olimex-lpc-h3131:&lt;sub-dir&gt;
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Download the latest buildroot package into <code class="docutils literal notranslate"><span class="pre">&lt;some-dir&gt;</span></code></p></li>
<li><p>Unpack the buildroot tarball.  The resulting directory may have versioning
information on it like <code class="docutils literal notranslate"><span class="pre">buildroot-x.y.z</span></code>.  If so, rename
<code class="docutils literal notranslate"><span class="pre">&lt;some-dir&gt;/buildroot-x.y.z</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;some-dir&gt;/buildroot</span></code>.</p></li>
<li></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>&lt;some-dir&gt;/buildroot
<span class="gp">$ </span>cp<span class="w"> </span>boards/arm926t-defconfig-4.2.4<span class="w"> </span>.config
<span class="gp">$ </span>make<span class="w"> </span>oldconfig
<span class="gp">$ </span>make
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Make sure that the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable includes the path to the newly built
binaries.</p></li>
</ol>
<p>See the file <code class="docutils literal notranslate"><span class="pre">boards/README.txt</span></code> in the buildroot source tree. That has more
detailed PLUS some special instructions that you will need to follow if you are
building a Cortex-M3 toolchain for Cygwin under Windows.</p>
</section>
<section id="boot-sequence">
<h2>Boot Sequence<a class="headerlink" href="#boot-sequence" title="Permalink to this heading"></a></h2>
<p>LPC313x has on chip bootrom which loads properly formatted images from multiple
sources into SRAM.  These sources include including SPI Flash, NOR Flash, UART,
USB, SD Card, and NAND Flash.</p>
<p>In all configurations, NuttX is loaded directly into ISRAM.  NuttX is linked
to execute from ISRAM, regardless of the boot source.</p>
</section>
<section id="buttons-and-leds">
<h2>Buttons and LEDs<a class="headerlink" href="#buttons-and-leds" title="Permalink to this heading"></a></h2>
<section id="buttons">
<h3>Buttons<a class="headerlink" href="#buttons" title="Permalink to this heading"></a></h3>
<p>There are no user buttons on the H3131.</p>
</section>
<section id="leds">
<h3>LEDs<a class="headerlink" href="#leds" title="Permalink to this heading"></a></h3>
<p>There are two LEDs on the LPC-H3131 that can be controlled by software:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>LED</p></th>
<th class="head"><p>Colour</p></th>
<th class="head"><p>GPIO</p></th>
<th class="head"><p>Note</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LED1</p></td>
<td><p>Yellow</p></td>
<td><p>GPIO17</p></td>
<td><p>High output illuminates</p></td>
</tr>
<tr class="row-odd"><td><p>LED2</p></td>
<td><p>Green</p></td>
<td><p>GPIO18</p></td>
<td><p>High output illuminates</p></td>
</tr>
</tbody>
</table>
<p>Both can be illuminated by driving the GPIO output to high.</p>
<p>These LEDs are not used by the board port unless <code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LEDS</span></code> is
defined. In that case, the usage by the board port is defined in
<code class="docutils literal notranslate"><span class="pre">include/board.h</span> <span class="pre">and</span> <span class="pre">src/lpc31_leds.c</span></code>. The LEDs are used to encode OS-related
events as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>SYMBOL</p></th>
<th class="head"><p>Meaning</p></th>
<th class="head"><p>LED2</p></th>
<th class="head"><p>LED1</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LED_STARTED</p></td>
<td><p>NuttX has been started</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p>LED_HEAPALLOCATE</p></td>
<td><p>Heap has been allocated</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-even"><td><p>LED_IRQSENABLED</p></td>
<td><p>Interrupts enabled</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p>LED_STACKCREATED</p></td>
<td><p>Idle stack created</p></td>
<td><p>ON</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-even"><td><p>LED_INIRQ</p></td>
<td><p>In an interrupt</p></td>
<td><p>N/C</p></td>
<td><p>N/C</p></td>
</tr>
<tr class="row-odd"><td><p>LED_SIGNAL</p></td>
<td><p>In a signal handler</p></td>
<td><p>N/C</p></td>
<td><p>N/C</p></td>
</tr>
<tr class="row-even"><td><p>LED_ASSERTION</p></td>
<td><p>An assertion failed</p></td>
<td><p>N/C</p></td>
<td><p>N/C</p></td>
</tr>
<tr class="row-odd"><td><p>LED_PANIC</p></td>
<td><p>The system has crashed</p></td>
<td><p>N/C</p></td>
<td><p>Blinking</p></td>
</tr>
<tr class="row-even"><td><p>LED_IDLE</p></td>
<td><p>MCU is is sleep mode</p></td>
<td><p>Not used</p></td>
<td><p>Not used</p></td>
</tr>
</tbody>
</table>
<p>Thus if LED2 is statically on, NuttX has successfully booted and is,
apparently, running normmally. If LED1 is flashing at approximately
2Hz, then a fatal error has been detected and the system has halted.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>That LED2 is not used after completion of booting and may be used by other
board-specific logic.</p>
</div>
</section>
</section>
<section id="image-format">
<h2>Image Format<a class="headerlink" href="#image-format" title="Permalink to this heading"></a></h2>
<p>In order to use the bootrom bootloader, a special header must be added to the
beginning of the binary image that includes information about the binary (things
like the entry point, the size, and CRC’s to verify the image.</p>
<p>NXP provides a Windows program to append such a header to the binary image.
However, (1) that program won’t run under Linux, and (2) when I try it under
WinXP, Symantec immediately claims that the program is misbehaving and deletes
it!</p>
<p>To work around both of these issues, I have created a small program under
boards/olimex-lpc-h3131/tools to add the header. This program can be built under
either Linux or Cygwin (and probably other tool environments as well). That tool
can be built as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>boards/olimex-lpc-h3131/tools
<span class="gp">$ </span>make
</pre></div>
</div>
<p>Then, to build the NuttX binary ready to load with the bootloader, just
following these steps:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tools/configure.sh<span class="w"> </span>olimex-lpc-h3131:ostest<span class="w">  </span><span class="c1"># (using the ostest configuration for this example)</span>
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>..<span class="w">                         </span><span class="c1"># Set up environment</span>
<span class="gp">$ </span>make<span class="w">                          </span><span class="c1"># Make NuttX.  This will produce nuttx.bin</span>
<span class="gp">$ </span>mklpc.sh<span class="w">                      </span><span class="c1"># Make the bootloader binary (nuttx.lpc)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic">
<li><p>Make sure to set your <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable appropriately or use the full path
to <code class="docutils literal notranslate"><span class="pre">mklpc.sh</span></code> in the final step.</p></li>
<li><p>You can instruct Symantec to ignore the errors and it will stop
quarantining the NXP program.</p></li>
<li><p>The CRC32 logic in <code class="docutils literal notranslate"><span class="pre">boards/olimex-lpc-h3131/tools</span></code> doesn’t seem to
work. As a result, the CRC is currently disabled in the header:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span>RCS file: /cvsroot/nuttx/nuttx/boards/olimex-lpc-h3131/tools/lpchdr.c,v
retrieving revision 1.2
<span class="gh">diff -r1.2 lpchdr.c</span>
264c264
<span class="gd">&lt;   g_hdr.imagetype       = 0x0000000b;</span>
<span class="gs">---</span>
<span class="gi">&gt;   g_hdr.imagetype       = 0x0000000a;</span>
</pre></div>
</div>
</li>
</ol>
</div>
</section>
<section id="image-download-to-isram">
<h2>Image Download to ISRAM<a class="headerlink" href="#image-download-to-isram" title="Permalink to this heading"></a></h2>
<p>Assuming that you already have the FTDI driver installed*, then here is the are
the steps that I use for loading new code into the LPC-H3131:</p>
<ol class="arabic">
<li><p>Create the bootloader binary, nuttx.lpc, as described above.</p></li>
<li><p>With the power off, set the boot jumpers to enable booting from UART. The
boot jumpers are the block of three jumper just in-board from the JTAG
connector; Jumper pair 1-2 is the pair furthest from the JTAG connector:</p>
<ul class="simple">
<li><p>1-2: Closed</p></li>
<li><p>3-4: Closed</p></li>
<li><p>5-6: Open</p></li>
</ul>
</li>
<li><p>Connected the LPC-H3131 using the FTDI USB port (not the lpc3131 USB port)
This will power up the LPC-H3131 and start the bootloader.</p></li>
<li><p>Start a terminal emulator (such as TeraTerm) at 115200 8NI.</p></li>
<li><p>Reset the LPC-H3131 and you should see:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">LPC31xx READY FOR PLAIN IMAGE&gt;</span>
</pre></div>
</div>
</li>
<li><p>Send the nuttx.lpc file and you should see “Download finished”</p></li>
</ol>
<p>That will load the NuttX binary into ISRAM and attempt to execute it.</p>
<p><cite>See the LPC313x documentation if you do not have the FTDI driver installed.</cite></p>
<p>TeraTerm Note:  This is how to send a file from TeraTerm.  It is essentially
step 6 exploded in more detail for the case of TeraTerm:</p>
<ol class="arabic">
<li><p>Start the ROM bootloader as described above.</p></li>
<li><p>At the <code class="docutils literal notranslate"><span class="pre">LPC31xx</span> <span class="pre">READY</span> <span class="pre">FOR</span> <span class="pre">PLAIN</span> <span class="pre">IMAGE&gt;</span></code> prompt, open the File menu and
select the <code class="docutils literal notranslate"><span class="pre">Send</span> <span class="pre">File...</span></code> option.</p></li>
<li><p>Select the file to send.</p></li>
<li><p>Before “Open” -ing the file MAKE SURE TO CHECK THE “Binary” BOX!  This has
cost me a few hours a few times because I forget to do this.  The program
will NOT RUN is sent non-binary.</p>
<p><cite>NO, I am not SHOUTING.  I am just making sure that I never forget to
do this again.</cite></p>
</li>
<li><p>“Open”-ing the file will send it to the ROM bootloader.</p></li>
<li><p>You should see “Download finished” from the bootloader followed
immediately by any serial console output from your program.</p></li>
</ol>
</section>
<section id="using-openocd-and-gdb">
<h2>Using OpenOCD and GDB<a class="headerlink" href="#using-openocd-and-gdb" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of this writing, my OpenOCD script does NOT work. It fails because it is
unable to halt the LPC3131. So, unfortunately, OpenOCD is not a option right
now.</p>
</div>
<p>I have been using the Olimex ARM-USB-OCD JTAG debugger with the LPC-H3131
(<a class="reference external" href="http://www.olimex.com">http://www.olimex.com</a>).  The OpenOCD configuration file is here:
tools/armusbocb.cfg.  There is also a script on the tools directory that
I used to start the OpenOCD daemon on my system called oocd.sh.  That
script would probably require some modifications to work in another
environment:</p>
<ul class="simple">
<li><p>Possibly the value of <code class="docutils literal notranslate"><span class="pre">OPENOCD_PATH</span></code></p></li>
<li><p>If you are working under Linux you will need to change any
occurrences of <cite>cygpath -w blablabla</cite> to just blablabla</p></li>
</ul>
<p>Then you should be able to start the OpenOCD daemon like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>boards/olimex-lpc-h3131/tools/oocd.sh<span class="w"> </span><span class="nv">$PWD</span>
</pre></div>
</div>
<p>Where it is assumed that you are executing oocd.sh from the top level
directory where NuttX is installed.</p>
<p>Once the OpenOCD daemon has been started, you can connect to it via
GDB using the following GDB command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">arm-nuttx-elf-gdb</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">target remote localhost:3333</span>
</pre></div>
</div>
<p>And you can load the NuttX ELF file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">symbol-file nuttx</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">load nuttx</span>
</pre></div>
</div>
</section>
<section id="arm-lpc-h3131-specific-configuration-options">
<h2>ARM/LPC-H3131-specific Configuration Options<a class="headerlink" href="#arm-lpc-h3131-specific-configuration-options" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH</span></code>: Identifies the <code class="docutils literal notranslate"><span class="pre">arch/</span></code> subdirectory.  This should be set
to:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH=arm</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_family</span></code>: For use in C code:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_ARM=y</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_architecture</span></code>: For use in C code:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_ARM926EJS=y</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP</span></code>: Identifies the <code class="docutils literal notranslate"><span class="pre">arch/*/chip</span></code> subdirectory</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP=lpc313x</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP_name</span></code>: For use in C code</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP_LPC3131</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD</span></code>: Identifies the <code class="docutils literal notranslate"><span class="pre">boards/</span></code> subdirectory and hence, the
board that supports the particular chip or SoC.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD=&quot;olimex-lpc-h3131&quot;</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD_name</span></code>: For use in C code</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD_OLIMEX_LPC_H3131</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LOOPSPERMSEC</span></code>: Must be calibrated for correct operation of
delay loops</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ENDIAN_BIG</span></code>: Define if big endian (default is little endian)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_SIZE</span></code>: For most ARM9 architectures, this describes the size of
installed DRAM. For the LPC313X, it is used only to determine how to map the
executable regions. It is SDRAM size only if you are executing out of the
external SDRAM; or it could be NOR FLASH size, external SRAM size, or internal
SRAM size.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_START</span></code>: The start address of installed DRAM (physical)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_VSTART</span></code>: The startaddress of DRAM (virtual)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LEDS</span></code>: Use LEDs to show state. Unique to boards that have LEDs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_INTERRUPTSTACK</span></code>: This architecture supports an interrupt stack.
If defined, this symbol is the size of the interrupt stack in bytes.  If not
defined, the user task stacks will be used during interrupt handling.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_STACKDUMP</span></code>: Do stack dumps after assertions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LEDS</span></code>:  Use LEDs to show state. Unique to board architecture.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BUTTONS</span></code>:  Enable support for buttons. Unique to board
architecture.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_DMA</span></code>: Support DMA initialization</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LOWVECTORS</span></code>: define if vectors reside at address
<code class="docutils literal notranslate"><span class="pre">0x0000:00000</span></code> Undefine if vectors reside at address <code class="docutils literal notranslate"><span class="pre">0xffff:0000</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_ROMPGTABLE</span></code>: A pre-initialized, read-only page table is
available. If defined, then board-specific logic must also define
<code class="docutils literal notranslate"><span class="pre">PGTABLE_BASE_PADDR</span></code>, <code class="docutils literal notranslate"><span class="pre">PGTABLE_BASE_VADDR</span></code>, and all memory section mapping
in a file named board_memorymap.h.</p></li>
</ul>
<p>Individual subsystems can be enabled:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_MCI</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_SPI</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_UART</span></code></p></li>
</ul>
<p>External memory available on the board (see also <code class="docutils literal notranslate"><span class="pre">CONFIG_MM_REGIONS</span></code>)</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTSRAM0</span></code>: Select if external SRAM0 is present</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTSRAM0HEAP</span></code>: Select if external SRAM0 should be
configured as part of the NuttX heap.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTSRAM0SIZE</span></code>: Size (in bytes) of the installed external
SRAM0 memory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTSRAM1</span></code>: Select if external SRAM1 is present</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTSRAM1HEAP</span></code>: Select if external SRAM1 should be
configured as part of the NuttX heap.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTSRAM1SIZE</span></code>: Size (in bytes) of the installed external
SRAM1 memory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTDRAM</span></code>: Select if external SDRAM is present</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTDRAMHEAP</span></code>: Select if external SDRAM should be
configured as part of the NuttX heap.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTDRAMSIZE</span></code>: Size (in bytes) of the installed external
SDRAM memory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTNAND</span></code>: Select if external NAND is present</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTNANDSIZE</span></code>: Size (in bytes) of the installed external
NAND memory</p></li>
</ul>
<p>LPC313X specific device driver settings</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_UART_SERIAL_CONSOLE</span></code>: selects the UART for the console and ttys0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_UART_RXBUFSIZE</span></code>: Characters are buffered as received. This specific
the size of the receive buffer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_UART_TXBUFSIZE</span></code>: Characters are buffered before being sent.  This
specific the size of the transmit buffer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_UART_BAUD</span></code>: The configure BAUD of the UART.  Must be</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_UART_BITS</span></code>: The number of bits.  Must be either 7 or 8.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_UART_PARTIY</span></code>: 0=no parity, 1=odd parity, 2=even parity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_UART_2STOP</span></code>: Two stop bits</p></li>
</ul>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this heading"></a></h2>
<section id="information-common-to-all-configurations">
<h3>Information Common to All Configurations<a class="headerlink" href="#information-common-to-all-configurations" title="Permalink to this heading"></a></h3>
<p>Each LPC-H3131 configuration is maintained in a sub-directory and can be
selected as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tools/configure.sh<span class="w"> </span>olimex-lpc-h3131:&lt;subdir&gt;
</pre></div>
</div>
<p>Before building, make sure the PATH environment variable includes the
correct path to the directory than holds your toolchain binaries.</p>
<p>And then build NuttX by simply typing the following.  At the conclusion of
the make, the nuttx binary will reside in an ELF file called, simply, nuttx.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;subdir&gt;</span></code> that is provided above as an argument to the
<code class="docutils literal notranslate"><span class="pre">tools/configure.sh</span></code> must be is one of the following.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic">
<li><p>These configurations use the mconf-based configuration tool.  To
change any of these configurations using that tool, you should:</p>
<ol class="loweralpha simple">
<li><p>Build and install the kconfig-mconf tool. See nuttx/README.txt
see additional README.txt files in the NuttX tools repository.</p></li>
<li><p>Execute <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code> in <code class="docutils literal notranslate"><span class="pre">nuttx/</span></code> in order to start the
reconfiguration process.</p></li>
</ol>
</li>
<li><p>Unless stated otherwise, all configurations generate console
output on the UART0 associated with the FT232RL USB-to UART
converter.</p></li>
<li><p>Unless otherwise stated, the configurations are setup for
Windows undery Cygwin.  This can, however, be easily reconfigured.</p></li>
<li><p>All of these configurations use the Code Sourcery for Windows toolchain
(unless stated otherwise in the description of the configuration).  That
toolchain selection can easily be reconfigured using ‘make menuconfig’.
Here are the relevant current settings:</p>
<p>Build Setup:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_HOST_WINDOWS=y</span></code>: Microsoft Windows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_WINDOWS_CYGWIN=y</span></code>: Using Cygwin or other POSIX environment</p></li>
</ul>
<p>System Type -&gt; Toolchain:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARM_TOOLCHAIN_GNU_EABI=y</span></code>: GNU EABI toolchain for windows</p></li>
</ul>
</li>
</ol>
</div>
</section>
<section id="nsh">
<h3>nsh<a class="headerlink" href="#nsh" title="Permalink to this heading"></a></h3>
<p>Configures the NuttShell (nsh) located at <code class="docutils literal notranslate"><span class="pre">examples/nsh</span></code>. The Configuration
enables only the serial NSH interface.</p>
<p>General Configuration. These are easily change by modifying the NuttX
configuration:</p>
<ul class="simple">
<li><p>Console on UART -&gt; UART-to-USB converter</p></li>
<li><p>Platform: Windows with Cygwin</p></li>
<li><p>Toolchain:  ARM EABI GCC for Windows</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic">
<li><p>Built-in applications are not supported by default. To enable NSH
built-in applications:</p>
<p>Binary</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_BUILTIN=y</span></code>: Support built-in applications</p></li>
</ul>
<p>Application Configuration -&gt; NSH Library</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_BUILTIN_APPS=y</span></code>: Enable built-in applications</p></li>
</ul>
</li>
<li><p>SDRAM support is not enabled by default. SDRAM support can be enabled
by adding the following to your NuttX configuration file:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is still something wrong with the SDRAM setup.  At present it
hangs on the first access from SDRAM during configuration.</p>
</div>
<p>System Type-&gt;LPC31xx Peripheral Support</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTDRAM=y</span></code>: Enable external DRAM support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTDRAMSIZE=33554432</span></code>: 256Mbit -&gt; 32Mbyte</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_SDRAM_16BIT=y</span></code>: Organized 16Mbit x 16 bits wide</p></li>
</ul>
</div></blockquote>
<p>Now that you have SDRAM enabled, what are you going to do with it?  One
thing you can is add it to the heap</p>
<p>System Type-&gt;Heap Configuration</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTDRAMHEAP=y</span></code>: Add the SDRAM to the heap</p></li>
</ul>
<p>Memory Management</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MM_REGIONS=2</span></code>: Two memory regions: ISRAM and SDRAM</p></li>
</ul>
<p>Another thing you could do is to enable the RAM test built-in
application:</p>
</li>
<li><p>You can enable the NuttX RAM test that may be used to verify the
external SDRAM. To do this, keep the SDRAM out of the heap so that
it can be tested without crashing programs using the memory.</p>
<p>First enable built-in applications as described above, then make
the following additional modifications to the NuttX configuration:</p>
<p>System Type-&gt;Heap Configuration</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EXTDRAMHEAP=n</span></code>: Don’t add the SDRAM to the heap</p></li>
</ul>
<p>Memory Management</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MM_REGIONS=1</span></code>: One memory regions:  ISRAM</p></li>
</ul>
<p>Then enable the RAM test built-in application:</p>
<p>Application Configuration-&gt;System NSH Add-Ons-&gt;Ram Test</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_TESTING_RAMTEST=y</span></code></p></li>
</ul>
<p>In this configuration, the SDRAM is not added to heap and so is not
excessible to the applications.  So the RAM test can be freely
executed against the SRAM memory beginning at address 0x2000:0000
(DDR CS):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nsh&gt; ramtest -h</span>
<span class="go">Usage: ramtest [-w|h|b] &lt;hex-address&gt; &lt;decimal-size&gt;</span>

<span class="go">Where:</span>
<span class="go">  &lt;hex-address&gt; starting address of the test.</span>
<span class="go">  &lt;decimal-size&gt; number of memory locations (in bytes).</span>
<span class="go">  -w Sets the width of a memory location to 32-bits.</span>
<span class="go">  -h Sets the width of a memory location to 16-bits (default).</span>
<span class="go">  -b Sets the width of a memory location to 8-bits.</span>
</pre></div>
</div>
<p>To test the entire external 256MB SRAM:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nsh&gt; ramtest -w 30000000 33554432</span>
<span class="go">RAMTest: Marching ones: 30000000 33554432</span>
<span class="go">RAMTest: Marching zeroes: 30000000 33554432</span>
<span class="go">RAMTest: Pattern test: 30000000 33554432 55555555 aaaaaaaa</span>
<span class="go">RAMTest: Pattern test: 30000000 33554432 66666666 99999999</span>
<span class="go">RAMTest: Pattern test: 30000000 33554432 33333333 cccccccc</span>
<span class="go">RAMTest: Address-in-address test: 30000000 33554432</span>
</pre></div>
</div>
</li>
<li><p>This configuration has been used to test USB host functionality. USB host
is <em>not</em> enabled by default. If you will to enable USB host support in
the NSH configuration, please modify the NuttX configuration as
follows:</p>
<ol class="loweralpha">
<li><p>Basic USB Host support</p>
<p>Drivers -&gt; USB Host Driver Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST=y</span></code>: General USB host support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_INT_DISABLE=n</span></code>: Interrupt EPs need with hub, HID keyboard, and HID mouse</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_ISOC_DISABLE=y</span></code>: Not needed (or supported)</p></li>
</ul>
<p>System Type -&gt; Peripherals</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_USBOTG=y</span></code>: Enable the USB OTG peripheral</p></li>
</ul>
<p>System Type -&gt; USB host configuration</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EHCI_BUFSIZE=128</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LPC31_EHCI_PREALLOCATE=y</span></code></p></li>
</ul>
<p>RTOS Features -&gt; Work Queue Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SCHED_WORKQUEUE=y</span></code>: High priority queue support is needed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SCHED_HPWORK=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SCHED_HPWORKSTACKSIZE=1536</span></code> (1024 seems to work okay too)</p></li>
</ul>
</li>
</ol>
<ol class="loweralpha" start="2">
<li><p>Hub Support.</p>
<p>Drivers -&gt; USB Host Driver Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_INT_DISABLE=n</span></code>: Interrupt endpoint support needed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_HUB=y</span></code>: Enable the hub class</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_ASYNCH=y</span></code>: Asynchronous I/O supported needed for hubs</p></li>
</ul>
<p>RTOS Features -&gt; Work Queue Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SCHED_LPWORK=y</span></code>: Low priority queue support is needed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SCHED_LPNTHREADS=1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SCHED_LPWORKSTACKSIZE=1024</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>It is necessary to perform work on the low-priority work queue
(vs. the high priority work queue) because:</p>
<ol class="loweralpha simple">
<li><p>Deferred work requires some delays and waiting, and</p></li>
<li><p>There are dependencies between the waiting and driver
interrupt related work. Since that interrupt related work
will performed on the high priority work queue, there would
be the likelihood of deadlocks if you wait for events on the
high priority work thread that can only occur if the high
priority work thread is available to post those events.</p></li>
</ol>
</li>
<li><p>Logic nesting becomes deeper with a hub and it may also be
necessary to increase some stack sizes.</p></li>
</ol>
</div>
</li>
<li><p>USB Mass Storage Class. With this class enabled, you can support
connection of USB FLASH storage drives. Support for the USB
mass storage class is enabled like this:</p>
<p>Drivers -&gt; USB Host Driver Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_MSC=y</span></code>: Mass storage class support</p></li>
</ul>
<p>The MSC class will work like this.  When you first start NSH, you
can look at the available devices like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">NuttShell (NSH) NuttX-6.31</span>
<span class="go">nsh&gt; ls -l /dev</span>
<span class="go">/dev:</span>
<span class="go"> crw-rw-rw-       0 console</span>
<span class="go"> crw-rw-rw-       0 null</span>
<span class="go"> crw-rw-rw-       0 ttyS0</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">crw-rw-rw-</span></code> indicates a readable, write-able character device.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nsh&gt; ls -l /dev</span>
<span class="go">/dev:</span>
<span class="go"> crw-rw-rw-       0 console</span>
<span class="go"> crw-rw-rw-       0 null</span>
<span class="go"> brw-rw-rw-       0 sda</span>
<span class="go"> crw-rw-rw-       0 ttyS0</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">brw-rw-rw-</span></code> indicates a readable, write-able block device.
This block device can then be mounted like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nsh&gt; mount -t vfat /dev/sda /mnt/flash</span>
</pre></div>
</div>
<p>The USB FLASH drive contents are then visible under <code class="docutils literal notranslate"><span class="pre">/mnt/flash</span></code> and
can be operated on with normal file system commands like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nsh&gt; mount -t vfat /dev/sda /mnt/flash</span>
<span class="go">nsh&gt; cat /mnt/flash/filec.c</span>
<span class="go">etc.</span>
</pre></div>
</div>
<p>It is recommended that the drive by unmounted BEFORE it is
removed. That is not always possible so if the USB FLASH is
removed BEFORE the drive is unmounted, the device at /dev/sda will
persist in an unusable stack until it is unmounted with the
following command (NOTE: If the FLASH drive is re-inserted in
this state, it will appear as <code class="docutils literal notranslate"><span class="pre">/dev/sdb</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nsh&gt; umount /mnt/flash</span>
</pre></div>
</div>
</li>
<li><p>HID Keyboard support. The following support will enable support
for certain keyboard devices (only the so-called “boot” keyboard
class is supported):</p>
<p>Drivers -&gt; USB Host Driver Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_HIDKBD=y</span></code>: HID keyboard class support</p></li>
</ul>
<p>Drivers -&gt; USB Host Driver Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_INT_DISABLE=n</span></code>: Interrupt endpoint support needed</p></li>
</ul>
<p>In this case, when the HID keyboard is installed, you see a new
character device called <code class="docutils literal notranslate"><span class="pre">/dev/kbda</span></code>.</p>
<p>There is a HID keyboard test example that can be enabled with the
following settings. NOTE: In this case, NSH is disabled because
the HID keyboard test is a standalone test.</p>
<p>This selects the HIDKBD example:</p>
<p>Application Configuration -&gt; Examples</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_HIDKBD=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_HIDKBD_DEVNAME=&quot;/dev/kbda&quot;</span></code></p></li>
</ul>
<p>RTOS Features</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_INIT_ENTRYPOINT=&quot;hidkbd_main&quot;</span></code></p></li>
</ul>
<p>These settings disable NSH:</p>
<p>Application Configuration -&gt; Examples</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SYSTEM_NSH=n</span></code></p></li>
</ul>
<p>Application Configuration -&gt; NSH Library</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_LIBRARY=y</span></code></p></li>
</ul>
<p>Using the HID Keyboard example: Anything typed on the keyboard
should be echoed on the serial console. Here is some sample of
a session:</p>
<p>Initialization</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">hidkbd_main: Register class drivers</span>
<span class="go">hidkbd_main: Initialize USB host keyboard driver</span>
<span class="go">hidkbd_main: Start hidkbd_waiter</span>
<span class="go">hidkbd_waiter: Running</span>
</pre></div>
</div>
<p>The test example will periodically attempt to open /dev/kbda</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Opening device /dev/kbda</span>
<span class="go">Failed: 2</span>
<span class="go">Opening device /dev/kbda</span>
<span class="go">Failed: 2</span>
<span class="go">etc.</span>
</pre></div>
</div>
<p>The open will fail each time because there is no keyboard
attached. When a USB keyboard is attached, the open of <code class="docutils literal notranslate"><span class="pre">/dev/kbda</span></code>
will succeed and the test will begin echoing data to the serial
console:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">hidkbd_waiter: connected</span>
<span class="go">Opening device /dev/kbda</span>
<span class="go">Device /dev/kbda opened</span>
</pre></div>
</div>
<p>For example, this text was entered from the keyboard:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Now is the time for all good men to come to the aid of their party.</span>
</pre></div>
</div>
<p>Then when the device is removed, the test will resume attempting
to open the driver until the next time it is connected</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Closing device /dev/kbda: -1</span>
<span class="go">Opening device /dev/kbda</span>
<span class="go">Failed: 19</span>
<span class="go">hidkbd_waiter: disconnected</span>

<span class="go">Opening device /dev/kbda</span>
<span class="go">Failed: 2</span>
<span class="go">etc.</span>
</pre></div>
</div>
</li>
</ol>
<ol class="loweralpha simple" start="4">
<li><p>The USB monitor can also be enabled:</p></li>
</ol>
<blockquote>
<div><blockquote>
<div><p>Drivers -&gt; USB Host Driver Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_TRACE=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_TRACE_NRECORDS=128</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBHOST_TRACE_VERBOSE=y</span></code></p></li>
</ul>
<p>Application Configuration -&gt; System Add-Ons</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBMONITOR=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USBMONITOR_INTERVAL=1</span></code></p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>I have found that if you enable USB DEBUG and/or USB tracing,
the resulting image requires to much memory to execute out of
internal SRAM.  I was able to get the configurations to run out of
SRAM with debug/tracing enabled by carefully going through the
configuration and reducing stack sizes, disabling unused OS features,
disabling un-necessary NSH commands, etc.</p>
</div>
</div></blockquote>
</li>
<li><p>Making the Configuration Smaller. This configuration runs out of
internal SRAM. If you enable many features, then your code image
may outgrow the available SRAM; even if the code can be loaded into
SRAM, it may still fail at runtime due to insufficient memory.</p>
<p>Since SDRAM is not currently working (see above) and NAND support
has not be integrated, the only really option is to put NSH “on a
diet” to reduce the size so that it will fit into memory.</p>
<p>Here are a few things you can do:</p>
<ol class="arabic simple">
<li><p>Try using smaller stack sizes.</p></li>
<li><p>Disable operating system features. Here some that can go:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_ENVIRON=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MQUEUE=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_POSIX_TIMERS=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_PTHREAD=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MQ_MAXMSGSIZE=0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NUNGET_CHARS=0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_PREALLOC_MQ_MSGS=0</span></code></p></li>
</ul>
</li>
<li><p>Disable NSH commands. I can live fine without these:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_ADDROUTE=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_CD=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_CMP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_CP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_DELROUTE=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_EXEC=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_EXIT=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_GET=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_HEXDUMP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_IFCONFIG=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_LOSETUP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MB=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MH=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MKFIFO=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MKRD=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_NFSMOUNT=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_PING=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_PUT=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_PWD=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_RM=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_RMDIR=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_SET=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_SOURCE=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_SLEEP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_TEST=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_UNSET=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_USLEEP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_WGET=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_XD=y</span></code></p></li>
</ul>
</li>
</ol>
</li>
</ol>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../ea3152/index.html" class="btn btn-neutral float-left" title="EA3152" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../lpc40xx/index.html" class="btn btn-neutral float-right" title="NXP LPC40xx" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>