<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>weact-stm32h743 &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx_collapse.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
      <script src="../../../../../_static/jquery.js"></script>
      <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
      <script src="../../../../../_static/doctools.js"></script>
      <script src="../../../../../_static/sphinx_highlight.js"></script>
      <script src="../../../../../_static/clipboard.min.js"></script>
      <script src="../../../../../_static/copybutton.js"></script>
      <script src="../../../../../_static/design-tabs.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="weact-stm32h750" href="../weact-stm32h750/index.html" />
    <link rel="prev" title="ST STM32H747I-DISCO" href="../stm32h747i-disco/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../../../12.5.1" >12.5.1</option>
    
    <option value="../../../../../../12.6.0" >12.6.0</option>
    
    <option value="../../../../../../12.7.0" >12.7.0</option>
    
    <option value="../../../../../../12.8.0" >12.8.0</option>
    
    <option value="../../../../../../12.9.0" >12.9.0</option>
    
    <option value="../../../../../../12.10.0" >12.10.0</option>
    
    <option value="../../../../../../12.11.0" >12.11.0</option>
    
    <option value="../../../../../../12.12.0" >12.12.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">ARM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../a1x/index.html">Allwinner A10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../am335x/index.html">TI/Sitara AM335x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../at32/index.html">Artery AT32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bcm2708/index.html">Broadcom BCM2708 (removed)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../c5471/index.html">TI TMS320-C5471</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../cxd56xx/index.html">Sony CXD56xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../dm320/index.html">TI TMS320-DM320</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../efm32/index.html">SiLabs EFM32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../eoss3/index.html">EOSS3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fvp-v8r-aarch32/index.html">FVP ARMv8-R Virt Chip</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../gd32f4/index.html">GD32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/goldfish_sensor.html">Goldfish Sensor Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/goldfish_timer.html">GOLDFISH TIMER</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/index.html">GOLDFISH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx1/index.html">NXP/Freescale i.MX1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx6/index.html">NXP/Freescale i.MX6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx9/index.html">NXP i.MX9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imxrt/index.html">NXP i.MX RT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kinetis/index.html">NXP/FreeScale Kinetis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kl/index.html">NXP/FreeScale KLxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lc823450/index.html">ON Semiconductor LC823450</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc17xx/index.html">NXP LPC17xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc214x/index.html">NXP LPC214x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc2378/index.html">NXP LPC2378</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc31xx/index.html">NXP LPC31xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc40xx/index.html">NXP LPC40xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc43xx/index.html">NXP LPC43xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc54xx/index.html">NXP LPC54xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../max326xx/index.html">Maxim Integrated MAX32660</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../moxart/index.html">Moxa NP51x0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mps/index.html">MPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/ieee802154.html">Nordic nRF52 IEEE 802.15.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/index.html">Nordic nRF52</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf53/index.html">Nordic nRF53</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf91/index.html">Nordic nRF91</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nuc1xx/index.html">nuvoTon NUC120</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../phy62xx/index.html">PHY+ PHY62</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../qemu/index.html">QEMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ra4m1/index.html">Renesas RA4M1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp2040/index.html">Raspberry Pi rp2040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp23xx/index.html">Raspberry Pi rp2350</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k1xx/index.html">NXP S32K1XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k3xx/index.html">NXP S32K3XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sam34/index.html">Microchip SAM34</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sama5/index.html">Microchip SAMA5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd2l2/index.html">Microchip SAMD2x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd5e5/index.html">Microchip samd5e5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samv7/index.html">Microchip SAM V7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32c0/index.html">ST STM32C0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f0/index.html">ST STM32F0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f1/index.html">ST STM32F1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f2/index.html">ST STM32F2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f3/index.html">ST STM32F3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f4/index.html">ST STM32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f7/index.html">ST STM32F7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g0/index.html">ST STM32G0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g4/index.html">ST STM32G4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32h5/index.html">ST STM32H5</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">ST STM32H7</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../index.html#supported-mcus">Supported MCUs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#peripheral-support">Peripheral Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#dual-core-support">Dual-core support</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="../linum-stm32h753bi/index.html">linum-stm32h753bi</a></li>
<li class="toctree-l5"><a class="reference internal" href="../nucleo-h743zi/index.html">ST Nucleo H743ZI</a></li>
<li class="toctree-l5"><a class="reference internal" href="../nucleo-h743zi2/index.html">ST Nucleo H743ZI2</a></li>
<li class="toctree-l5"><a class="reference internal" href="../nucleo-h745zi/index.html">ST Nucleo H745ZI</a></li>
<li class="toctree-l5"><a class="reference internal" href="../openh743i/index.html">Waveshare OpenH743I</a></li>
<li class="toctree-l5"><a class="reference internal" href="../portenta-h7/index.html">Arduino Portenta H7</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32h745i-disco/index.html">ST STM32H745I-DISCO</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32h747i-disco/index.html">ST STM32H747I-DISCO</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">weact-stm32h743</a></li>
<li class="toctree-l5"><a class="reference internal" href="../weact-stm32h750/index.html">weact-stm32h750</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l0/index.html">ST STM32L0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l1/index.html">ST STM32L1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l4/index.html">ST STM32L4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l5/index.html">ST STM32L5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32u5/index.html">ST STM32U5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wb/index.html">ST STM32WB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wl5/index.html">ST STM32WL5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../str71x/index.html">ST STR71</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tiva/index.html">TI/Stellaris Tiva</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tms570/index.html">TI/Hercules TMS570xxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../xmc4/index.html">Infineon XMC4000</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../arm64/index.html">ARM64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../avr/index.html">Microchip AVR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_linux.html">Network Support on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_vpnkit.html">Network support with VPNKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../tricore/index.html">TriCore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../xtensa/index.html">Xtensa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../standards/index.html">Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">ARM</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">ST STM32H7</a></li>
      <li class="breadcrumb-item active">weact-stm32h743</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/apache/nuttx/blob/master/Documentation/platforms/arm/stm32h7/boards/weact-stm32h743/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="weact-stm32h743">
<h1>weact-stm32h743<a class="headerlink" href="#weact-stm32h743" title="Permalink to this heading"></a></h1>
<p class="tags"><span>Tags: </span><a class="sd-sphinx-override sd-badge sd-bg-secondary sd-bg-text-secondary reference internal" href="../../../../../_tags/chip-stm32.html"><span class="doc">chip:stm32</span></a><span> </span><a class="sd-sphinx-override sd-badge sd-bg-secondary sd-bg-text-secondary reference internal" href="../../../../../_tags/chip-stm32h7.html"><span class="doc">chip:stm32h7</span></a><span> </span><a class="sd-sphinx-override sd-badge sd-bg-secondary sd-bg-text-secondary reference internal" href="../../../../../_tags/chip-stm32h743.html"><span class="doc">chip:stm32h743</span></a></p>
<p>This page discusses issues unique to NuttX configurations for the
WeAct STM32H743 board.</p>
<figure class="align-center">
<img alt="../../../../../_images/weact-stm32h743.png" src="../../../../../_images/weact-stm32h743.png" />
</figure>
<section id="board-information">
<h2>Board information<a class="headerlink" href="#board-information" title="Permalink to this heading"></a></h2>
<p>This board was release by WeAct Studio in 2020 and developed based on
STM32H743VI microcontroller.</p>
<dl class="simple">
<dt>The board features:</dt><dd><ul class="simple">
<li><p>USB-C power supply</p></li>
<li><p>SWD connector</p></li>
<li><p>Crystal for HS 25MHz</p></li>
<li><p>Crystal for RTC 32.768KHz</p></li>
<li><p>1 user LED</p></li>
<li><p>1 MicroSD connector supporting 1 or 4-bit bus</p></li>
<li><p>1 USB 2.0 Host/Device</p></li>
<li><p>2 SPI Flash</p></li>
<li><p>1 OLED display</p></li>
<li><p>1 Camera</p></li>
</ul>
</dd>
</dl>
<p>Board documentation: <a class="reference external" href="https://github.com/WeActStudio/MiniSTM32H7xx">https://github.com/WeActStudio/MiniSTM32H7xx</a></p>
</section>
<section id="board-led">
<h2>BOARD-LED<a class="headerlink" href="#board-led" title="Permalink to this heading"></a></h2>
<p>The WeAct STM32H743 has 1 software controllable LED.</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>LED</p></th>
<th class="head"><p>PINS</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E3</p></td>
<td><p>PE3</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
<section id="uart-usart">
<h2>UART/USART<a class="headerlink" href="#uart-usart" title="Permalink to this heading"></a></h2>
<p>The WeAct STM32H743 used the USART1 for serial debug messages.</p>
<section id="usart1">
<h3>USART1<a class="headerlink" href="#usart1" title="Permalink to this heading"></a></h3>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>USART1</p></th>
<th class="head"><p>PINS</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TX</p></td>
<td><p>PB14</p></td>
</tr>
<tr class="row-odd"><td><p>RX</p></td>
<td><p>PB15</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
</section>
<section id="sdmmc">
<h2>SDMMC<a class="headerlink" href="#sdmmc" title="Permalink to this heading"></a></h2>
<p>The WeAct STM32H743 has one SDCard slot connected as below:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>SDMMC1</p></th>
<th class="head"><p>PINS</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SDMMC_D0</p></td>
<td><p>PC8</p></td>
</tr>
<tr class="row-odd"><td><p>SDMMC_D1</p></td>
<td><p>PC9</p></td>
</tr>
<tr class="row-even"><td><p>SDMMC_D2</p></td>
<td><p>PC10</p></td>
</tr>
<tr class="row-odd"><td><p>SDMMC_D3</p></td>
<td><p>PC11</p></td>
</tr>
<tr class="row-even"><td><p>SDMMC_DK</p></td>
<td><p>PC12</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>GPIO</p></th>
<th class="head"><p>PINS</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SDCARD_DETECTED</p></td>
<td><p>PD4</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<hr class="docutils" />
<p>Each weact-stm32h743 configuration is maintained in a sub-directory and
can be selected as follow:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>./tools/configure.sh weact-stm32h743:&lt;subdir&gt;
</pre></div>
</div>
<p>Where &lt;subdir&gt; is one of the following:</p>
</section>
<section id="flashing">
<h2>Flashing<a class="headerlink" href="#flashing" title="Permalink to this heading"></a></h2>
<p>This board can be flashed/programmed via DFU or SWD. The DFU is an alternative
when you don’t have a SWD programmer, but SWD offer more than flashing: you can
use it for code debugging with GDB. So it is recommended that you have a SWD
tool on your workbench.</p>
<section id="dfu">
<h3>DFU<a class="headerlink" href="#dfu" title="Permalink to this heading"></a></h3>
<p>First put the board in DFU mode: press and hold Boot0 (B0) button and click and release the reset (NR) button with the board powered over USB cable. Other alternative is just removing the USB cable, then press and hold the B0 button and connect the USB while still holding that button.</p>
<p>You can confirm the board is in DFU mode using dmesg:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ sudo dmesg
[ 1219.182108] usb 3-5: New USB device found, idVendor=0483, idProduct=df11, bcdDevice= 2.00
[ 1219.182120] usb 3-5: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[ 1219.182122] usb 3-5: Product: DFU in FS Mode
[ 1219.182124] usb 3-5: Manufacturer: STMicroelectronics
[ 1219.182125] usb 3-5: SerialNumber: 200000500000
</pre></div>
</div>
<p>You need to have dfu-util installed in your computer:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ sudo apt install dfu-util
</pre></div>
</div>
<p>Now list the DFU unities:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ sudo dfu-util -l
dfu-util 0.11
Copyright 2005-2009 Weston Schmidt, Harald Welte and OpenMoko Inc.
Copyright 2010-2021 Tormod Volden and Stefan Schmidt
This program is Free Software and has ABSOLUTELY NO WARRANTY
Please report bugs to http://sourceforge.net/p/dfu-util/tickets/
Found DFU: [0483:df11] ver=0200, devnum=5, cfg=1, intf=0, path=&quot;3-5&quot;, alt=1, name=&quot;@Option Bytes   /0x5200201C/01*128 e&quot;, serial=&quot;200000500000&quot;
Found DFU: [0483:df11] ver=0200, devnum=5, cfg=1, intf=0, path=&quot;3-5&quot;, alt=0, name=&quot;@Internal Flash   /0x08000000/16*128Kg&quot;, serial=&quot;200000500000&quot;
</pre></div>
</div>
<p>Finally flash the compiled nuttx.bin:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ sudo dfu-util -d 0483:df11 -a 0 -s 0x08000000:leave -D nuttx.bin
dfu-util: Warning: Invalid DFU suffix signature
dfu-util: A valid DFU suffix will be required in a future dfu-util release
Opening DFU capable USB device...
Device ID 0483:df11
Device DFU version 011a
Claiming USB DFU Interface...
Setting Alternate Interface #0 ...
Determining device status...
DFU state(2) = dfuIDLE, status(0) = No error condition is present
DFU mode device DFU version 011a
Device returned transfer size 1024
DfuSe interface name: &quot;Internal Flash   &quot;
Downloading element to address = 0x08000000, size = 141324
Erase      [=========================] 100%       141324 bytes
Erase    done.
Download   [=========================] 100%       141324 bytes
Download done.
File downloaded successfully
Submitting leave request...
dfu-util: Error during download get_status
</pre></div>
</div>
<p>You can ignore that get_status error and restart the board to get nsh&gt; working over serial or USB (depending on selected config: nsh or usbnsh).</p>
</section>
<section id="swd">
<h3>SWD<a class="headerlink" href="#swd" title="Permalink to this heading"></a></h3>
<p>Another option to flash/program your board is via SWD interface. In this case you will need a SWD programmer compatible with OpenOCD like STLink-V2 or other.</p>
<p>Install openocd on your computer:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ sudo apt install openocd
</pre></div>
</div>
<p>Connect the SWD wires from STLink-V2 (or other programmer) this way:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>SWD Programmer</p></th>
<th class="head"><p>Weact-STM32H743</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SWDIO</p></td>
<td><p>DIO</p></td>
</tr>
<tr class="row-odd"><td><p>GND</p></td>
<td><p>GND</p></td>
</tr>
<tr class="row-even"><td><p>SWCLK</p></td>
<td><p>CLK</p></td>
</tr>
</tbody>
</table>
<p>Then run this command in the same directory where your nuttx.bin is located:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ openocd -f interface/stlink.cfg -f target/stm32h7x.cfg -c &quot;init&quot; -c &quot;reset halt&quot; -c &quot;flash write_image erase nuttx.bin 0x08000000&quot; -c &quot;reset run&quot;
Open On-Chip Debugger 0.11.0+dev-gcf314db1f-dirty (2025-05-17-16:09)
Licensed under GNU GPL v2
Info : 49 4 adapter.c:111 adapter_init(): clock speed 1800 kHz
Info : 67 7 stlink_usb.c:1438 stlink_usb_version(): STLINK V2J17S4 (API v2) VID:PID 0483:3748
Info : 69 8 stlink_usb.c:1474 stlink_usb_check_voltage(): Target voltage: 3.268800
Info : 82 112 cortex_m.c:2325 cortex_m_examine(): [stm32h7x.cpu0] Cortex-M7 r1p1 processor detected
Info : 127 120 cortex_m.c:2440 cortex_m_examine(): [stm32h7x.cpu0] target has 8 breakpoints, 4 watchpoints
User : 128 120 target.c:777 target_examine_one(): [stm32h7x.cpu0] Target successfully examined.
Info : 193 165 gdb_server.c:4825 gdb_target_start(): starting gdb server for stm32h7x.cpu0 on 3333
Info : 194 165 server.c:359 add_service(): Listening on port 3333 for gdb connections
The core #0 listens on 3333.
ICEman is ready to use.
User : 259 196 armv7m.c:740 armv7m_arch_state(): target halted due to debug-request, current mode: Thread
xPSR: 0x01000000 pc: 0x080013bc msp: 0x24001e28
Info : 266 197 stm32h7x.c:791 stm32x_probe(): Device: STM32H74x/75x
Info : 270 197 stm32h7x.c:819 stm32x_probe(): flash size probed value 2048k
Info : 271 197 stm32h7x.c:849 stm32x_probe(): STM32H7 flash has dual banks
Info : 272 197 stm32h7x.c:869 stm32x_probe(): Bank (0) size is 1024 kb, base address is 0x08000000
Info : 273 197 core.c:876 flash_write_unlock_verify(): Padding image section 0 at 0x0802280c with 20 bytes (bank write end alignment)
Warn : 275 198 core.c:552 flash_iterate_address_range_inner(): Adding extra erase range, 0x08022820 .. 0x0803ffff
User : 2674 4879 options.c:63 configuration_output_handler(): auto erase enabled
wrote 141344 bytes from file nuttx.bin in 4.682974s (29.475 KiB/s)
User : 2675 4879 options.c:63 configuration_output_handler():
Info : 2714 4889 server.c:359 add_service(): Listening on port 6666 for tcl connections
Info : 2715 4889 server.c:359 add_service(): Listening on port 4444 for telnet connections
</pre></div>
</div>
<p>After you got the message “wrote xxxxxx bytes from file nuttx.bin” you can press Ctrl+C (<code class="docutils literal notranslate"><span class="pre">^C</span></code>) to finish the application. Now you can reset the board and get access to the NSH terminal.</p>
</section>
<hr class="docutils" />
<section id="configuration-directories">
<h3>Configuration Directories<a class="headerlink" href="#configuration-directories" title="Permalink to this heading"></a></h3>
</section>
<section id="nsh">
<h3>nsh<a class="headerlink" href="#nsh" title="Permalink to this heading"></a></h3>
<p>Configures the NuttShell (nsh) located at apps/examples/nsh. This
configuration enables a serial console on UART1.</p>
</section>
<section id="usbnsh">
<h3>usbnsh<a class="headerlink" href="#usbnsh" title="Permalink to this heading"></a></h3>
<p>Configures the NuttShell (nsh) located at apps/examples/nsh. This
configuration enables a serial console over USB.</p>
<p>After flashing and reboot your board you should see in your dmesg logs:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[ 2638.948089] usb 1-1.4: new full-speed USB device number 16 using xhci_hcd
[ 2639.054432] usb 1-1.4: New USB device found, idVendor=0525, idProduct=a4a7, bcdDevice= 1.01
[ 2639.054437] usb 1-1.4: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[ 2639.054438] usb 1-1.4: Product: CDC/ACM Serial
[ 2639.054440] usb 1-1.4: Manufacturer: NuttX
[ 2639.054441] usb 1-1.4: SerialNumber: 0
[ 2639.074861] cdc_acm 1-1.4:1.0: ttyACM0: USB ACM device
[ 2639.074886] usbcore: registered new interface driver cdc_acm
[ 2639.074887] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
</pre></div>
</div>
<p>You may need to press <strong>ENTER</strong> 3 times before the NSH show up.</p>
</section>
<section id="sdcard">
<h3>sdcard<a class="headerlink" href="#sdcard" title="Permalink to this heading"></a></h3>
<p>Configures the NuttShell (nsh) and enables SD card support. The board has an onboard microSD slot that should be
automatically registered as the block device /dev/mmcsd0 when an SD card is present.</p>
<p>The SD card can then be mounted by the NSH commands:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; mount -t vfat /dev/mmcsd0 /mnt
nsh&gt; mount
nsh&gt; echo &quot;Hello World!!&quot; &gt; /mnt/test_file.txt
nhs&gt; ls /mnt/
test_file.txt
nsh&gt; cat /mnt/test_file.txt
Hello World!!
</pre></div>
</div>
</section>
<section id="st7735">
<h3>st7735<a class="headerlink" href="#st7735" title="Permalink to this heading"></a></h3>
<p>This config enables the ST7735 0.96” Display (80*160) on weact-stm32h743 board:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; fb
VideoInfo:
      fmt: 11
     xres: 80
     yres: 160
  nplanes: 1
PlaneInfo (plane 0):
    fbmem: 0x38000d50
    fblen: 25600
   stride: 160
  display: 0
      bpp: 16
Mapped FB: 0x38000d50
 0: (  0,  0) ( 80,160)
 1: (  7, 14) ( 66,132)
 2: ( 14, 28) ( 52,104)
 3: ( 21, 42) ( 38, 76)
 4: ( 28, 56) ( 24, 48)
 5: ( 35, 70) ( 10, 20)
Test finished
nsh&gt;
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../stm32h747i-disco/index.html" class="btn btn-neutral float-left" title="ST STM32H747I-DISCO" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../weact-stm32h750/index.html" class="btn btn-neutral float-right" title="weact-stm32h750" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>