<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ST Nucleo F446RE &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/sphinx_highlight.js"></script>
        <script src="../../../../../_static/clipboard.min.js"></script>
        <script src="../../../../../_static/copybutton.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="ODrive V3.6" href="../odrive36/index.html" />
    <link rel="prev" title="ST Nucleo F429ZI" href="../nucleo-f429zi/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../12.3.0" >12.3.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">ARM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../a1x/index.html">Allwinner A10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../am335x/index.html">TI/Sitara AM335x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../at32/index.html">Artery AT32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bcm2708/index.html">Broadcom BCM2708 (removed)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../c5471/index.html">TI TMS320-C5471</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../cxd56xx/index.html">Sony CXD56xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../dm320/index.html">TI TMS320-DM320</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../efm32/index.html">SiLabs EFM32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../eoss3/index.html">EOSS3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fvp-v8r-aarch32/index.html">FVP ARMv8-R Virt Chip</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../gd32f4/index.html">GD32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/index.html">GOLDFISH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx1/index.html">NXP/Freescale i.MX1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx6/index.html">NXP/Freescale i.MX6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imxrt/index.html">NXP i.MX RT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kinetis/index.html">NXP/FreeScale Kinetis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kl/index.html">NXP/FreeScale KLxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lc823450/index.html">ON Semiconductor LC823450</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc17xx/index.html">NXP LPC17xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc214x/index.html">NXP LPC214x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc2378/index.html">NXP LPC2378</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc31xx/index.html">NXP LPC31xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc40xx/index.html">NXP LPC40xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc43xx/index.html">NXP LPC43xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc54xx/index.html">NXP LPC54xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../max326xx/index.html">Maxim Integrated MAX32660</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../moxart/index.html">Moxa NP51x0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/index.html">Nordic nRF52</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf53/index.html">Nordic nRF53</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf91/index.html">Nordic nRF91</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nuc1xx/index.html">nuvoTon NUC120</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../phy62xx/index.html">PHY+ PHY62</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../qemu/index.html">QEMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp2040/index.html">RaspberryPi rp2040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k1xx/index.html">NXP S32K1XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k3xx/index.html">NXP S32K3XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sam34/index.html">Microchip SAM34</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sama5/index.html">Microchip SAMA5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd2l2/index.html">Microchip SAMD2x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd5e5/index.html">Microchip samd5e5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samv7/index.html">Microchip SAM V7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f0/index.html">ST STM32F0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f1/index.html">ST STM32F1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f2/index.html">ST STM32F2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f3/index.html">ST STM32F3</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">ST STM32F4</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../index.html#supported-mcus">Supported MCUs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#peripheral-support">Peripheral Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#fpu">FPU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#development-environment">Development Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#gnu-toolchain-options">GNU Toolchain Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#ides">IDEs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#nuttx-eabi-buildroot-toolchain">NuttX EABI “buildroot” Toolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#nxflat-toolchain">NXFLAT Toolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#protected-mode-build">Protected Mode Build</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="../axoloti/index.html">Axoloti</a></li>
<li class="toctree-l5"><a class="reference internal" href="../clicker2-stm32/index.html">Mikroe Clicker2 STM32</a></li>
<li class="toctree-l5"><a class="reference internal" href="../mikroe-stm32f4/index.html">mikroe-stm32f4</a></li>
<li class="toctree-l5"><a class="reference internal" href="../nucleo-f401re/index.html">ST Nucleo F401RE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../nucleo-f410rb/index.html">ST Nucleo F410RB</a></li>
<li class="toctree-l5"><a class="reference internal" href="../nucleo-f411re/index.html">ST Nucleo F401RE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../nucleo-f412zg/index.html">ST Nucleo F410RB</a></li>
<li class="toctree-l5"><a class="reference internal" href="../nucleo-f429zi/index.html">ST Nucleo F429ZI</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">ST Nucleo F446RE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../odrive36/index.html">ODrive V3.6</a></li>
<li class="toctree-l5"><a class="reference internal" href="../olimex-stm32-e407/index.html">Olimex STM32-E407</a></li>
<li class="toctree-l5"><a class="reference internal" href="../olimex-stm32-h405/index.html">Olimex STM32-P207</a></li>
<li class="toctree-l5"><a class="reference internal" href="../olimex-stm32-h407/index.html">Olimex STM32-H407</a></li>
<li class="toctree-l5"><a class="reference internal" href="../olimex-stm32-p407/index.html">Olimex STM32-P207</a></li>
<li class="toctree-l5"><a class="reference internal" href="../omnibusf4/index.html">OMNIBUSF4</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm3240g-eval/index.html">ST STM32140G-EVAL</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32f401rc-rs485/index.html">stm32f401rc-rs485</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32f411-minimum/index.html">stm32f411-minimum</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32f411e-disco/index.html">ST STM32F411E-Discovery</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32f429i-disco/index.html">ST STM32F429I-DISCO</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32f4discovery/index.html">ST STM32F4-Discovery</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f7/index.html">ST STM32F7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g0/index.html">ST STM32G0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g4/index.html">ST STM32G4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32h7/index.html">ST STM32H7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l0/index.html">ST STM32L0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l1/index.html">ST STM32L1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l4/index.html">ST STM32L4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l5/index.html">ST STM32L5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32u5/index.html">ST STM32U5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wb/index.html">ST STM32WB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wl5/index.html">ST STM32WL5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../str71x/index.html">ST STR71</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tiva/index.html">TI/Stellaris Tiva</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tms570/index.html">TI/Hercules TMS570xxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../xmc4/index.html">Infineon XMC4000</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../arm64/index.html">ARM64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../avr/index.html">Microchip AVR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../xtensa/index.html">Xtensa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">ARM</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">ST STM32F4</a></li>
      <li class="breadcrumb-item active">ST Nucleo F446RE</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../_sources/platforms/arm/stm32f4/boards/nucleo-f446re/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="st-nucleo-f446re">
<h1>ST Nucleo F446RE<a class="headerlink" href="#st-nucleo-f446re" title="Permalink to this heading"></a></h1>
<p>This page discusses issues unique to NuttX configurations for the ST
NucleoF446RE boards from ST Micro.  See</p>
<blockquote>
<div><p><a class="reference external" href="https://www.st.com/en/evaluation-tools/nucleo-f446re.html">https://www.st.com/en/evaluation-tools/nucleo-f446re.html</a></p>
</div></blockquote>
<p>NucleoF446RE:</p>
<ul class="simple">
<li><p>Microprocessor: 32-bit ARM Cortex M4 at 180MHz STM32F446RE</p></li>
<li><p>Memory: 512 KB Flash and 128 KB SRAM</p></li>
<li><p>ADC: 1×12-bit, 2.4 MSPS A/D converter: up to 10 channels</p></li>
<li><p>DMA: 16-stream DMA controllers with FIFOs and burst support</p></li>
<li><p>Timers: Up to 11 timers: up to six 16-bit, two 32-bit timers, two
watchdog timers, and a SysTick timer</p></li>
<li><p>GPIO: Up to 81 I/O ports with interrupt capability</p></li>
<li><p>I2C: Up to 3 × I2C interfaces</p></li>
<li><p>USARTs: Up to 3 USARTs</p></li>
<li><p>USARTs: Up to 3 USARTs</p></li>
<li><p>SPIs: Up to 4 SPIs (2 I2S)</p></li>
<li><p>SDIO interface</p></li>
<li><p>USB: USB 2.0 full-speed device/host/OTG controller with on-chip PHY</p></li>
<li><p>CRC calculation unit</p></li>
<li><p>RTC</p></li>
</ul>
<p>The NucleoF446RE also has additional DMA and SPI peripheral capabilities.</p>
<p>Board features, however, are identical:</p>
<ul class="simple">
<li><p>Peripherals: 1 led, 1 push button</p></li>
<li><p>Debug: Serial wire debug and JTAG interfaces</p></li>
<li><p>Expansion I/F Ardino and Morpho Headers</p></li>
</ul>
<p>Uses a STM32F103 to provide a ST-Link for programming, debug similar to the
OpenOcd FTDI function - USB to JTAG front-end.</p>
<p>See <a class="reference external" href="https://os.mbed.com/platforms/ST-Nucleo-F446RE/">https://os.mbed.com/platforms/ST-Nucleo-F446RE/</a> for more
information about this board.</p>
<section id="mbed">
<h2>mbed<a class="headerlink" href="#mbed" title="Permalink to this heading"></a></h2>
<p>The Nucleo-F401RE includes boot loader from mbed:</p>
<blockquote>
<div><p><a class="reference external" href="https://mbed.org/platforms/ST-Nucleo-F401RE/">https://mbed.org/platforms/ST-Nucleo-F401RE/</a>
<a class="reference external" href="https://mbed.org/handbook/Homepage">https://mbed.org/handbook/Homepage</a></p>
</div></blockquote>
<p>Using the mbed loader:</p>
<ol class="arabic simple">
<li><p>Connect the Nucleo-F4x1RE to the host PC using the USB connector.</p></li>
<li><p>A new file system will appear called NUCLEO; open it with Windows
Explorer (assuming that you are using Windows).</p></li>
<li><p>Drag and drop nuttx.bin into the MBED window.  This will load the
nuttx.bin binary into the Nucleo-F4x1RE.  The NUCLEO window will
close then re-open and the Nucleo-F4x1RE will be running the new code.</p></li>
</ol>
</section>
<section id="hardware">
<h2>Hardware<a class="headerlink" href="#hardware" title="Permalink to this heading"></a></h2>
<blockquote>
<div></div></blockquote>
<section id="buttons">
<h3>Buttons<a class="headerlink" href="#buttons" title="Permalink to this heading"></a></h3>
<p>B1 USER: the user button is connected to the I/O PC13 (pin 2) of the STM32
microcontroller.</p>
</section>
<section id="leds">
<h3>LEDs<a class="headerlink" href="#leds" title="Permalink to this heading"></a></h3>
<p>The Nucleo F446RE provides a single user LED, LD2.  LD2
is the green LED connected to Arduino signal D13 corresponding to MCU I/O
PA5 (pin 21) or PB13 (pin 34) depending on the STM32target.</p>
<ul class="simple">
<li><p>When the I/O is HIGH value, the LED is on.</p></li>
<li><p>When the I/O is LOW, the LED is off.</p></li>
</ul>
<p>These LEDs are not used by the board port unless CONFIG_ARCH_LEDS is
defined.  In that case, the usage by the board port is defined in
include/board.h and src/sam_leds.c. The LEDs are used to encode OS-related
events as follows when the red LED (PE24) is available:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SYMBOL                Meaning                   LD2
-------------------  -----------------------  -----------
LED_STARTED          NuttX has been started     OFF
LED_HEAPALLOCATE     Heap has been allocated    OFF
LED_IRQSENABLED      Interrupts enabled         OFF
LED_STACKCREATED     Idle stack created         ON
LED_INIRQ            In an interrupt            No change
LED_SIGNAL           In a signal handler        No change
LED_ASSERTION        An assertion failed        No change
LED_PANIC            The system has crashed     Blinking
LED_IDLE             MCU is is sleep mode       Not used
</pre></div>
</div>
<p>Thus if LD2, NuttX has successfully booted and is, apparently, running
normally.  If LD2 is flashing at approximately 2Hz, then a fatal error
has been detected and the system has halted.</p>
</section>
</section>
<section id="serial-consoles">
<h2>Serial Consoles<a class="headerlink" href="#serial-consoles" title="Permalink to this heading"></a></h2>
<section id="usart1">
<h3>USART1<a class="headerlink" href="#usart1" title="Permalink to this heading"></a></h3>
<p>Pins and Connectors:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  RXD: PA11  CN10 pin 14
       PB7   CN7 pin 21
  TXD: PA10  CN9 pin 3, CN10 pin 33
       PB6   CN5 pin 3, CN10 pin 17

NOTE:  You may need to edit the include/board.h to select different USART1
pin selections.
</pre></div>
</div>
<p>TTL to RS-232 converter connection:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Nucleo CN10 STM32F4x1RE
----------- ------------
Pin 21 PA9  USART1_RX   *Warning you make need to reverse RX/TX on
Pin 33 PA10 USART1_TX    some RS-232 converters
Pin 20 GND
Pin 8  U5V
</pre></div>
</div>
<p>To configure USART1 as the console:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_STM32_USART1=y
CONFIG_USART1_SERIALDRIVER=y
CONFIG_USART1_SERIAL_CONSOLE=y
CONFIG_USART1_RXBUFSIZE=256
CONFIG_USART1_TXBUFSIZE=256
CONFIG_USART1_BAUD=115200
CONFIG_USART1_BITS=8
CONFIG_USART1_PARITY=0
CONFIG_USART1_2STOP=0
</pre></div>
</div>
</section>
<section id="usart2">
<h3>USART2<a class="headerlink" href="#usart2" title="Permalink to this heading"></a></h3>
<p>Pins and Connectors:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  RXD: PA3   CN9 pin 1 (See SB13, 14, 62, 63). CN10 pin 37
       PD6
  TXD: PA2   CN9 pin 2(See SB13, 14, 62, 63). CN10 pin 35
       PD5

UART2 is the default in all of these configurations.
</pre></div>
</div>
<p>TTL to RS-232 converter connection:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Nucleo CN9  STM32F4x1RE
----------- ------------
Pin 1  PA3  USART2_RX   *Warning you make need to reverse RX/TX on
Pin 2  PA2  USART2_TX    some RS-232 converters
</pre></div>
</div>
<p>Solder Bridges.  This configuration requires:</p>
<ul class="simple">
<li><p>SB62 and SB63 Closed: PA2 and PA3 on STM32 MCU are connected to D1 and D0
(pin 7 and pin 8) on Arduino connector CN9 and ST Morpho connector CN10
as USART signals.  Thus SB13 and SB14 should be OFF.</p></li>
<li><p>SB13 and SB14 Open:  PA2 and PA3 on STM32F103C8T6 (ST-LINK MCU) are
disconnected to PA3 and PA2 on STM32 MCU.</p></li>
</ul>
<p>To configure USART2 as the console:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_STM32_USART2=y
CONFIG_USART2_SERIALDRIVER=y
CONFIG_USART2_SERIAL_CONSOLE=y
CONFIG_USART2_RXBUFSIZE=256
CONFIG_USART2_TXBUFSIZE=256
CONFIG_USART2_BAUD=115200
CONFIG_USART2_BITS=8
CONFIG_USART2_PARITY=0
CONFIG_USART2_2STOP=0
</pre></div>
</div>
</section>
<section id="usart6">
<h3>USART6<a class="headerlink" href="#usart6" title="Permalink to this heading"></a></h3>
<p>Pins and Connectors:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>RXD: PC7    CN5 pin2, CN10 pin 19
     PA12   CN10, pin 12
TXD: PC6    CN10, pin 4
     PA11   CN10, pin 14
</pre></div>
</div>
<p>To configure USART6 as the console:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_STM32_USART6=y
CONFIG_USART6_SERIALDRIVER=y
CONFIG_USART6_SERIAL_CONSOLE=y
CONFIG_USART6_RXBUFSIZE=256
CONFIG_USART6_TXBUFSIZE=256
CONFIG_USART6_BAUD=115200
CONFIG_USART6_BITS=8
CONFIG_USART6_PARITY=0
CONFIG_USART6_2STOP=0
</pre></div>
</div>
</section>
<section id="virtual-com-port">
<h3>Virtual COM Port<a class="headerlink" href="#virtual-com-port" title="Permalink to this heading"></a></h3>
<p>Yet another option is to use UART2 and the USB virtual COM port.  This
option may be more convenient for long term development, but is painful
to use during board bring-up.</p>
<p>Solder Bridges.  This configuration requires:</p>
<ul class="simple">
<li><p>SB62 and SB63 Open: PA2 and PA3 on STM32 MCU are disconnected to D1
and D0 (pin 7 and pin 8) on Arduino connector CN9 and ST Morpho
connector CN10.</p></li>
<li><p>SB13 and SB14 Closed:  PA2 and PA3 on STM32F103C8T6 (ST-LINK MCU) are
connected to PA3 and PA2 on STM32 MCU to have USART communication
between them. Thus SB61, SB62 and SB63 should be OFF.</p></li>
</ul>
<p>Configuring USART2 is the same as given above.</p>
<p>Question:  What BAUD should be configure to interface with the Virtual
COM port?  115200 8N1?</p>
</section>
<section id="default">
<h3>Default<a class="headerlink" href="#default" title="Permalink to this heading"></a></h3>
<p>As shipped, SB62 and SB63 are open and SB13 and SB14 closed, so the
virtual COM port is enabled.</p>
</section>
</section>
<section id="shields">
<h2>Shields<a class="headerlink" href="#shields" title="Permalink to this heading"></a></h2>
<section id="rs-232-from-cutedigi-com">
<h3>RS-232 from Cutedigi.com<a class="headerlink" href="#rs-232-from-cutedigi-com" title="Permalink to this heading"></a></h3>
<p>Supports a single RS-232 connected via:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Nucleo CN9  STM32F4x1RE  Cutedigi
----------- ------------ --------
Pin 1  PA3  USART2_RX    RXD
Pin 2  PA2  USART2_TX    TXD
</pre></div>
</div>
<p>Support for this shield is enabled by selecting USART2 and configuring
SB13, 14, 62, and 63 as described above under “Serial Consoles”</p>
</section>
<section id="itead-joystick-shield">
<h3>Itead Joystick Shield<a class="headerlink" href="#itead-joystick-shield" title="Permalink to this heading"></a></h3>
<p>See <a class="reference external" href="http://imall.iteadstudio.com/im120417014.html">http://imall.iteadstudio.com/im120417014.html</a> for more information
about this joystick.</p>
<p>Itead Joystick Connection:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--------- ----------------- ---------------------------------
ARDUINO   ITEAD             NUCLEO-F4x1
PIN NAME  SIGNAL            SIGNAL
--------- ----------------- ---------------------------------
 D3       Button E Output   PB3
 D4       Button D Output   PB5
 D5       Button C Output   PB4
 D6       Button B Output   PB10
 D7       Button A Output   PA8
 D8       Button F Output   PA9
 D9       Button G Output   PC7
 A0       Joystick Y Output PA0  ADC1_0
 A1       Joystick X Output PA1  ADC1_1
--------- ----------------- ---------------------------------

All buttons are pulled on the shield.  A sensed low value indicates
when the button is pressed.

NOTE: Button F cannot be used with the default USART1 configuration
because PA9 is configured for USART1_RX by default.  Use select
different USART1 pins in the board.h file or select a different
USART or select CONFIG_NUCLEO_F401RE_AJOY_MINBUTTONS which will
eliminate all but buttons A, B, and C.
</pre></div>
</div>
<p>Itead Joystick Signal interpretation:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--------- ----------------------- ---------------------------
BUTTON     TYPE                    NUTTX ALIAS
--------- ----------------------- ---------------------------
Button A  Large button A          JUMP/BUTTON 3
Button B  Large button B          FIRE/BUTTON 2
Button C  Joystick select button  SELECT/BUTTON 1
Button D  Tiny Button D           BUTTON 6
Button E  Tiny Button E           BUTTON 7
Button F  Large Button F          BUTTON 4
Button G  Large Button G          BUTTON 5
--------- ----------------------- ---------------------------
</pre></div>
</div>
<p>Itead Joystick configuration settings:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>System Type -&gt; STM32 Peripheral Support
  CONFIG_STM32_ADC1=y              : Enable ADC1 driver support

Drivers
  CONFIG_ANALOG=y                  : Should be automatically selected
  CONFIG_ADC=y                     : Should be automatically selected
  CONFIG_INPUT=y                   : Select input device support
  CONFIG_INPUT_AJOYSTICK=y         : Select analog joystick support
</pre></div>
</div>
<p>There is nothing in the configuration that currently uses the joystick.
For testing, you can add the following configuration options to enable the
analog joystick example at apps/examples/ajoystick:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_NSH_ARCHINIT=y
CONFIG_EXAMPLES_AJOYSTICK=y
CONFIG_EXAMPLES_AJOYSTICK_DEVNAME=&quot;/dev/ajoy0&quot;
</pre></div>
</div>
<p>STATUS:
2014-12-04:</p>
<ul class="simple">
<li><p>Without ADC DMA support, it is not possible to sample both X and Y
with a single ADC.  Right now, only one axis is being converted.</p></li>
<li><p>There is conflicts with some of the Arduino data pins and the
default USART1 configuration.  I am currently running with USART1
but with CONFIG_NUCLEO_F401RE_AJOY_MINBUTTONS to eliminate the
conflict.</p></li>
<li><p>Current showstopper: I appear to be getting infinite interrupts as
soon as joystick button interrupts are enabled.</p></li>
</ul>
</section>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this heading"></a></h2>
<section id="nsh">
<h3>nsh:<a class="headerlink" href="#nsh" title="Permalink to this heading"></a></h3>
<p>Configures the NuttShell (nsh) located at apps/examples/nsh for the
Nucleo-F446RE board.  The Configuration enables the serial interfaces
on UART2.  Support for builtin applications is enabled, but in the base
configuration no builtin applications are selected (see NOTES below).</p>
<p>NOTES:</p>
<ol class="arabic">
<li><p>This configuration uses the mconf-based configuration tool.  To
change this configuration using that tool, you should:</p>
<ol class="loweralpha simple">
<li><p>Build and install the kconfig-mconf tool.  See nuttx/README.txt
see additional README.txt files in the NuttX tools repository.</p></li>
<li><p>Execute ‘make menuconfig’ in nuttx/ in order to start the
reconfiguration process.</p></li>
</ol>
</li>
<li><p>By default, this configuration uses the ARM EABI toolchain
for Linux.  That can easily be reconfigured, of course.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_HOST_LINUX=y                     : Builds under Linux
CONFIG_ARM_TOOLCHAIN_GNU_EABI=y      : GNU EABI toolchain for Linux
</pre></div>
</div>
</li>
<li><p>Although the default console is USART2 (which would correspond to
the Virtual COM port) I have done all testing with the console
device configured for USART1 (see instruction above under “Serial
Consoles).  I have been using a TTL-to-RS-232 converter connected
as shown below:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Nucleo CN10 STM32F446RE
----------- ------------
Pin 21 PA9  USART1_RX   *Warning you make need to reverse RX/TX on
Pin 33 PA10 USART1_TX    some RS-232 converters
Pin 20 GND
Pin 8  U5V
</pre></div>
</div>
</li>
</ol>
</section>
<section id="can">
<h3>can<a class="headerlink" href="#can" title="Permalink to this heading"></a></h3>
<p>This is basically an nsh configuration (see above) with added support
for CAN driver. Both CAN 1 (RX: PB_8, TX: PB_9) and CAN 2 (RX: PB_5, TX: PB_6)
are turn on.</p>
<p>Functionality of CAN driver can be tested by calling application
“can” in NuttShell. This application sends 100 messages over CAN 1.</p>
</section>
<section id="dac">
<h3>dac<a class="headerlink" href="#dac" title="Permalink to this heading"></a></h3>
<p>This is an nsh configuration (see above) with added support
for digital analog converter driver.</p>
<p>Functionality of DAC driver can be tested by calling application
“dac” in NuttShell. GPIO_DAC1_OUT1 pin is set on PA_4.</p>
</section>
<section id="gpio">
<h3>gpio<a class="headerlink" href="#gpio" title="Permalink to this heading"></a></h3>
<p>This is an nsh configuration (see above) with added support for GPIO
driver and GPIO test application “gpio”. Three pins are configured for
testing purposes:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PA_7 - GPIO_INPUT
PB_6 - GPIO_OUTPUT
PC_7 - GPIO_INPUT_INTERRUPT
</pre></div>
</div>
</section>
<section id="ihm08m1-f32-and-ihm08m1-b16">
<h3>ihm08m1_f32 and ihm08m1_b16<a class="headerlink" href="#ihm08m1-f32-and-ihm08m1-b16" title="Permalink to this heading"></a></h3>
<p>These examples are dedicated for the X-NUCLEO-IHM08M1 expansion board with
L6398 gate drivers and discrete transistors.</p>
<p>WARNING: L6398 gate drivers require channel 2 negative polarisation and
negative sign for the deadtime. Make sure that your gate drivers logic
is compatible with this configuration.</p>
<p>X-NUCLEO-IHM08M1 must be configured to work with FOC and 3-shunt
resistors. See ST documentation for details.</p>
<p>Pin configuration for the X-NUCLEO-IHM08M1 (TIM1 configuration):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Board Function   Chip Function      Chip Pin Number
-------------   ----------------   -----------------
Phase U high     TIM1_CH1           PA8
Phase U low      TIM1_CH1N          PA7
Phase V high     TIM1_CH2           PA9
Phase V low      TIM1_CH2N          PB0
Phase W high     TIM1_CH3           PA10
Phase W low      TIM1_CH3N          PB1
Current U        ADC1_IN0           PA0
Current V        ADC1_IN11          PC1
Current W        ADC1_IN10          PC0
Temperature      ADC1_IN12          PC2
VBUS             ADC1_IN1           PA1
BEMF1            (NU)               PC3
BEMF2            (NU)               PC4
BEMF3            (NU)               PC5
LED              GPIO_PB2           PB2
+3V3 (CN7_16)
GND (CN7_20)
GPIO_BEMF        (NU)               PC9
ENCO_A/HALL_H1   TIM2_CH1           PA15
ENCO_B/HALL_H2   TIM2_CH2           PB3
ENCO_Z/HALL_H3   TIM2_CH3           PB10
DAC              (NU)               PA5
GPIO3            (NU)               PB13
CPOUT            (NU)               PA12
BKIN1            (NU)               PA6
BKIN2            (NU)               PA11
BKIN3            (NU)               PB14
POT/DAC          DAC1_CH1/ADC1_IN4  PA4
CURR_REF         (NU)               PB4
DEBUG0           GPIO               PB12
DEBUG1           GPIO               PB9
DEBUG2           GPIO               PC6
DEBUG3           GPIO               PB5
DEBUG4           GPIO               PC8

Current shunt resistance              = 0.01
Current sense gain                    = -5.18 (inverted current)
Vbus sense gain = 9.31k/(9.31k+169k)  = 0.0522
Vbus min                              = 10V
Vbus max                              = 48V
Iout max                              = 15A RMS

IPHASE_RATIO = 1/(R_shunt*gain) = -19.3
VBUS_RATIO   = 1/VBUS_gain      = 19.152

For now only 3-shunt resistors configuration is supported.
</pre></div>
</div>
</section>
<section id="lcd">
<h3>lcd<a class="headerlink" href="#lcd" title="Permalink to this heading"></a></h3>
<p>This is basically an nsh configuration (see above) with added support
of ILI9225 176x220 TFT display and test framebuffer application.</p>
<p>Display connection is set to SPI 3 and pinout is following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CS    D8
RST   D6
RS    D7
SDA   D4
CLK   D3
</pre></div>
</div>
<p>Framebuffer application can be started from terminal by typing “fb”.</p>
</section>
<section id="pwm">
<h3>pwm<a class="headerlink" href="#pwm" title="Permalink to this heading"></a></h3>
<p>This is an nsh configuration (see above) with added capability of pulse width
modulation. PWM output is on Timer 3 channel 1, which is pin PA_6 (D12) on
Nucleo board. Example program can be stared by “pwm” command.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../nucleo-f429zi/index.html" class="btn btn-neutral float-left" title="ST Nucleo F429ZI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../odrive36/index.html" class="btn btn-neutral float-right" title="ODrive V3.6" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>