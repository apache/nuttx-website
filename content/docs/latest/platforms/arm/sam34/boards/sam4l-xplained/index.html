<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SAM4L Xplained &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx_collapse.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
      <script src="../../../../../_static/jquery.js"></script>
      <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
      <script src="../../../../../_static/doctools.js"></script>
      <script src="../../../../../_static/sphinx_highlight.js"></script>
      <script src="../../../../../_static/clipboard.min.js"></script>
      <script src="../../../../../_static/copybutton.js"></script>
      <script src="../../../../../_static/design-tabs.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="SAM4S Xplained Pro" href="../sam4s-xplained-pro/index.html" />
    <link rel="prev" title="SAM4E-EK" href="../sam4e-ek/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../../../12.5.1" >12.5.1</option>
    
    <option value="../../../../../../12.6.0" >12.6.0</option>
    
    <option value="../../../../../../12.7.0" >12.7.0</option>
    
    <option value="../../../../../../12.8.0" >12.8.0</option>
    
    <option value="../../../../../../12.9.0" >12.9.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">ARM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../a1x/index.html">Allwinner A10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../am335x/index.html">TI/Sitara AM335x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../at32/index.html">Artery AT32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bcm2708/index.html">Broadcom BCM2708 (removed)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../c5471/index.html">TI TMS320-C5471</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../cxd56xx/index.html">Sony CXD56xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../dm320/index.html">TI TMS320-DM320</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../efm32/index.html">SiLabs EFM32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../eoss3/index.html">EOSS3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fvp-v8r-aarch32/index.html">FVP ARMv8-R Virt Chip</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../gd32f4/index.html">GD32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/goldfish_timer.html">GOLDFISH TIMER</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/index.html">GOLDFISH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx1/index.html">NXP/Freescale i.MX1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx6/index.html">NXP/Freescale i.MX6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx9/index.html">NXP i.MX9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imxrt/index.html">NXP i.MX RT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kinetis/index.html">NXP/FreeScale Kinetis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kl/index.html">NXP/FreeScale KLxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lc823450/index.html">ON Semiconductor LC823450</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc17xx/index.html">NXP LPC17xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc214x/index.html">NXP LPC214x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc2378/index.html">NXP LPC2378</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc31xx/index.html">NXP LPC31xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc40xx/index.html">NXP LPC40xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc43xx/index.html">NXP LPC43xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc54xx/index.html">NXP LPC54xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../max326xx/index.html">Maxim Integrated MAX32660</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../moxart/index.html">Moxa NP51x0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mps/index.html">MPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/ieee802154.html">Nordic nRF52 IEEE 802.15.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/index.html">Nordic nRF52</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf53/index.html">Nordic nRF53</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf91/index.html">Nordic nRF91</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nuc1xx/index.html">nuvoTon NUC120</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../phy62xx/index.html">PHY+ PHY62</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../qemu/index.html">QEMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ra4m1/index.html">Renesas RA4M1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp2040/index.html">RaspberryPi rp2040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp23xx/index.html">RaspberryPi rp2350</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k1xx/index.html">NXP S32K1XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k3xx/index.html">NXP S32K3XX</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">Microchip SAM34</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../index.html#microchip-sam3u">Microchip SAM3U</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#microchip-sam3x">Microchip SAM3X</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#microchip-sam4l">Microchip SAM4L</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#microchip-sam4cm">Microchip SAM4CM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#microchip-sam4e">Microchip SAM4E</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#microchip-sam4s">Microchip SAM4S</a><ul class="current">
<li class="toctree-l5 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../sama5/index.html">Microchip SAMA5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd2l2/index.html">Microchip SAMD2x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd5e5/index.html">Microchip samd5e5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samv7/index.html">Microchip SAM V7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32c0/index.html">ST STM32C0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f0/index.html">ST STM32F0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f1/index.html">ST STM32F1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f2/index.html">ST STM32F2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f3/index.html">ST STM32F3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f4/index.html">ST STM32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f7/index.html">ST STM32F7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g0/index.html">ST STM32G0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g4/index.html">ST STM32G4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32h5/index.html">ST STM32H5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32h7/index.html">ST STM32H7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l0/index.html">ST STM32L0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l1/index.html">ST STM32L1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l4/index.html">ST STM32L4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l5/index.html">ST STM32L5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32u5/index.html">ST STM32U5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wb/index.html">ST STM32WB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wl5/index.html">ST STM32WL5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../str71x/index.html">ST STR71</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tiva/index.html">TI/Stellaris Tiva</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tms570/index.html">TI/Hercules TMS570xxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../xmc4/index.html">Infineon XMC4000</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../arm64/index.html">ARM64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../avr/index.html">Microchip AVR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_linux.html">Network Support on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_vpnkit.html">Network support with VPNKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../tricore/index.html">TriCore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../xtensa/index.html">Xtensa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">ARM</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Microchip SAM34</a></li>
      <li class="breadcrumb-item active">SAM4L Xplained</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/apache/nuttx/blob/master/Documentation/platforms/arm/sam34/boards/sam4l-xplained/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="sam4l-xplained">
<h1>SAM4L Xplained<a class="headerlink" href="#sam4l-xplained" title="Permalink to this heading"></a></h1>
<p>This documentation discusses issues unique to NuttX configurations for the Atmel
SAM4L Xplained Pro development board.  This board features the ATSAM4LC4C MCU.</p>
<p>The SAM4L Xplained Pro Starter Kit is bundled with four modules:</p>
<ol class="arabic simple">
<li><p>I/O1: An MMC/SD card slot, PWM LED control, ADC light sensor, UART loopback,
TWI AT30TSE758 Temperature sensor.</p></li>
<li><p>OLED1: An OLED plus 3 additional switches and 3 additional LEDs</p></li>
<li><p>SLCD1: A segment LCD that connects directly to the “EXT5 SEGMENT LCD”
connector</p></li>
<li><p>PROTO1: A prototyping board with logic on board (other than power-related
logic).</p></li>
</ol>
<section id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this heading"></a></h2>
<p>The SAM4L Xplained Pro Starter Kit is bundled with four modules:</p>
<section id="i-o1">
<h3>I/O1<a class="headerlink" href="#i-o1" title="Permalink to this heading"></a></h3>
<p>The primary function of this module is to provide SD card support, but the full
list of modules features include:</p>
<ul class="simple">
<li><p>microSD card connector (SPI interface)</p></li>
<li><p>PWM (LED control)</p></li>
<li><p>ADC (light sensor)</p></li>
<li><p>UART loopback</p></li>
<li><p>TWI AT30TSE758 Temperature sensor with EEPROM</p></li>
</ul>
<p>SPI is available on two of the SAM4L Xplained connectors, EXT1 and EXT2. They
mate with the I/O1 connector as indicated in this table.</p>
</section>
<section id="i-o1-connector">
<h3>I/O1 Connector<a class="headerlink" href="#i-o1-connector" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>I/O1</p></th>
<th class="head"><p>EXT1</p></th>
<th class="head"><p>EXT2</p></th>
<th class="head"><p>Other use of either pin</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1  ID</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2  GND</p></td>
<td><p>2       GND</p></td>
<td><p>2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>3  LIGHT_SENSOR</p></td>
<td><p>3  PA04 ADCIFE/AD0</p></td>
<td><p>3  PA07 ADCIFE/AD2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>4  LP_OUT</p></td>
<td><p>4  PA05 ADCIFE/AD1</p></td>
<td><p>4  PB02 ADCIFE/AD3</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>5  GPIO1</p></td>
<td><p>5  PB12 GPIO</p></td>
<td><p>5  PC08 GPIO</p></td>
<td><p>PB12 and PC8 on EXT5</p></td>
</tr>
<tr class="row-odd"><td><p>6  GPIO2</p></td>
<td><p>6  PC02 GPIO</p></td>
<td><p>6  PB10 GPIO</p></td>
<td><p>PB10 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>7  LED</p></td>
<td><p>7  PC00 TC/1/A0</p></td>
<td><p>7  PC04 TC/1/A2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>8  LP_IN</p></td>
<td><p>8  PC01 TC/1/B0</p></td>
<td><p>8  PC05 TC/1/B2</p></td>
<td><p>PC05 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>9  TEMP_ALERT</p></td>
<td><p>9  PC25 EIC/EXTINT2</p></td>
<td><p>9  PC06 EIC/EXTINT8</p></td>
<td><p>PC25 on EXT5</p></td>
</tr>
<tr class="row-odd"><td><p>10 microSD_DETECT</p></td>
<td><p>10 PB13 SPI/NPCS1</p></td>
<td><p>10 PC09 GPIO</p></td>
<td><p>PB13 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>11 TWI SDA</p></td>
<td><p>11 PA23 TWIMS/0/TWD</p></td>
<td><p>11 PB14 TWIMS/3/TWD</p></td>
<td><p>PB14 on EXT3&amp;4, PA23 and PB14 on EXT5</p></td>
</tr>
<tr class="row-odd"><td><p>12 TWI SCL</p></td>
<td><p>12 PA24 TWIMS/0/TWCK</p></td>
<td><p>12 PB15 TWIMS/3/TWCK</p></td>
<td><p>PB15 on EXT3&amp;4, PA24 and PB15 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>13 UART RX</p></td>
<td><p>13 PB00 USART/0/RXD</p></td>
<td><p>13 PC26 USART/1/RXD</p></td>
<td><p>PB00 on EXT4, PC26 on EXT3&amp;5</p></td>
</tr>
<tr class="row-odd"><td><p>14 UART TX</p></td>
<td><p>14 PB01 USART/0/TXD</p></td>
<td><p>14 PC27 USART/1/TXD</p></td>
<td><p>PB01 on EXT4, PC27 on EXT3&amp;5</p></td>
</tr>
<tr class="row-even"><td><p>15 microSD_SS</p></td>
<td><p>15 PC03 SPI/NPCS0</p></td>
<td><p>15 PB11 SPI/NPCS2</p></td>
<td><p>PB11 on EXT5</p></td>
</tr>
<tr class="row-odd"><td><p>16 SPI_MOSI</p></td>
<td><p>16 PA22 SPI/MOSI</p></td>
<td><p>16 PA22 SPI/MOSI</p></td>
<td><p>PA22 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>17 SPI_MISO</p></td>
<td><p>17 PA21 SPI/MISO</p></td>
<td><p>17 PA21 SPI/MISO</p></td>
<td><p>PA21 on EXT5</p></td>
</tr>
<tr class="row-odd"><td><p>18 SPI_SCK</p></td>
<td><p>18 PC30 SPI/SCK</p></td>
<td><p>18 PC30 SPI/SCK</p></td>
<td><p>PC30 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>19 GND</p></td>
<td><p>19      GND</p></td>
<td><p>GND</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>20 VCC</p></td>
<td><p>20      VCC</p></td>
<td><p>VCC</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>The mapping between the I/O1 pins and the SD connector are shown in the
following table.</p>
</section>
<section id="sd-card-connection">
<h3>SD Card Connection<a class="headerlink" href="#sd-card-connection" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>I/O1</p></th>
<th class="head"><p>SD</p></th>
<th class="head"><p>PIN</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>15</p></td>
<td><p>D3</p></td>
<td><p>2</p></td>
<td><p>Data line 3. Active low chip select, pulled high</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>CMD</p></td>
<td><p>3</p></td>
<td><p>Command line, connected to SPI_MOSI.</p></td>
</tr>
<tr class="row-even"><td><p>20</p></td>
<td><p>VDD</p></td>
<td><p>4</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p>CLK</p></td>
<td><p>5</p></td>
<td><p>Clock line, connected to SPI_SCK.</p></td>
</tr>
<tr class="row-even"><td><p>2/19</p></td>
<td><p>GND</p></td>
<td><p>6</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>17</p></td>
<td><p>D0
D1</p></td>
<td><p>7
8</p></td>
<td><p>Data line 0, connected to SPI_MISO.
Data line 1 (not used)</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>SW_A</p></td>
<td><p>9</p></td>
<td><p>Card detect</p></td>
</tr>
<tr class="row-odd"><td><p>2/19</p></td>
<td><p>SW_B</p></td>
<td><p>10</p></td>
<td><p>GND</p></td>
</tr>
</tbody>
</table>
</section>
<section id="card-detect">
<h3>Card Detect<a class="headerlink" href="#card-detect" title="Permalink to this heading"></a></h3>
<p>When a microSD card is put into the connector <code class="docutils literal notranslate"><span class="pre">SW_A</span></code> and <code class="docutils literal notranslate"><span class="pre">SW_B</span></code> are short-
circuited. <code class="docutils literal notranslate"><span class="pre">SW_A</span></code> is connected to the <code class="docutils literal notranslate"><span class="pre">microSD_DETECT</span></code> signal. To use this
as a card indicator remember to enable internal pullup in the target device.</p>
</section>
<section id="gpios">
<h3>GPIOs<a class="headerlink" href="#gpios" title="Permalink to this heading"></a></h3>
<p>So all that is required to connect the SD is configure the SPI</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIN</p></th>
<th class="head"><p>EXT1</p></th>
<th class="head"><p>EXT2</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>15</p></td>
<td><p>PC03 SPI/NPCS0</p></td>
<td><p>PB11 SPI/NPCS2</p></td>
<td><p>Active low chip select OUTPUT, pulled high on board.</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>PB13 SPI/NPCS1</p></td>
<td><p>10 PC09 GPIO</p></td>
<td><p>Active low card detect INPUT, must use internal pull-up.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-options">
<h3>Configuration Options:<a class="headerlink" href="#configuration-options" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_IOMODULE=y</span></code>: Informs the system that the I/O1 module
is installed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_IOMODULE_EXT1=y</span></code>: The module is installed in EXT1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_IOMODULE_EXT2=y</span></code>: The mdoule is installed in EXT2</p></li>
</ul>
<p>See the set-up in the discussion of the nsh configuration below for other
required configuration options.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of this writing, only the SD card slot is supported in the I/O1 module.</p>
</div>
</section>
<section id="oled1">
<h3>OLED1<a class="headerlink" href="#oled1" title="Permalink to this heading"></a></h3>
<p>This module provides an OLED plus 3 additional switches and 3 additional LEDs.</p>
</section>
<section id="oled1-connector">
<h3>OLED1 Connector<a class="headerlink" href="#oled1-connector" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>OLED1</p></th>
<th class="head"><p>EXT1</p></th>
<th class="head"><p>EXT2</p></th>
<th class="head"><p>Other use of either pin</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1  ID</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2  GND</p></td>
<td><p>2       GND</p></td>
<td><p>2</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>3  BUTTON2</p></td>
<td><p>3  PA04 ADCIFE/AD0</p></td>
<td><p>3  PA07 ADCIFE/AD2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>4  BUTTON3</p></td>
<td><p>4  PA05 ADCIFE/AD1</p></td>
<td><p>4  PB02 ADCIFE/AD3</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>5  DATA_CMD_SEL</p></td>
<td><p>5  PB12 GPIO</p></td>
<td><p>5  PC08 GPIO</p></td>
<td><p>PB12 and PC8 on EXT5</p></td>
</tr>
<tr class="row-odd"><td><p>6  LED3</p></td>
<td><p>6  PC02 GPIO</p></td>
<td><p>6  PB10 GPIO</p></td>
<td><p>PB10 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>7  LED1</p></td>
<td><p>7  PC00 TC/1/A0</p></td>
<td><p>7  PC04 TC/1/A2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>8  LED2</p></td>
<td><p>8  PC01 TC/1/B0</p></td>
<td><p>8  PC05 TC/1/B2</p></td>
<td><p>PC05 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>9  BUTTON1</p></td>
<td><p>9  PC25 EIC/EXTINT2</p></td>
<td><p>9  PC06 EIC/EXTINT8</p></td>
<td><p>PC25 on EXT5</p></td>
</tr>
<tr class="row-odd"><td><p>10 DISPLAY_RESET</p></td>
<td><p>10 PB13 SPI/NPCS1</p></td>
<td><p>10 PC09 GPIO</p></td>
<td><p>PB13 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>11 N/C</p></td>
<td><p>11 PA23 TWIMS/0/TWD</p></td>
<td><p>11 PB14 TWIMS/3/TWD</p></td>
<td><p>PB14 on EXT3&amp;4, PA23 and PB14 on EXT5</p></td>
</tr>
<tr class="row-odd"><td><p>12 N/C</p></td>
<td><p>12 PA24 TWIMS/0/TWCK</p></td>
<td><p>12 PB15 TWIMS/3/TWCK</p></td>
<td><p>PB15 on EXT3&amp;4, PA24 and PB15 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>13 N/C</p></td>
<td><p>13 PB00 USART/0/RXD</p></td>
<td><p>13 PC26 USART/1/RXD</p></td>
<td><p>PB00 on EXT4, PC26 on EXT3&amp;5</p></td>
</tr>
<tr class="row-odd"><td><p>14 N/C</p></td>
<td><p>14 PB01 USART/0/TXD</p></td>
<td><p>14 PC27 USART/1/TXD</p></td>
<td><p>PB01 on EXT4, PC27 on EXT3&amp;5</p></td>
</tr>
<tr class="row-even"><td><p>15 DISPLAY_SS</p></td>
<td><p>15 PC03 SPI/NPCS0</p></td>
<td><p>15 PB11 SPI/NPCS2</p></td>
<td><p>PB11 on EXT5</p></td>
</tr>
<tr class="row-odd"><td><p>16 SPI_MOSI</p></td>
<td><p>16 PA22 SPI/MOSI</p></td>
<td><p>16 PA22 SPI/MOSI</p></td>
<td><p>PA22 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>17 N/C</p></td>
<td><p>17 PA21 SPI/MISO</p></td>
<td><p>17 PA21 SPI/MISO</p></td>
<td><p>PA21 on EXT5</p></td>
</tr>
<tr class="row-odd"><td><p>18 SPI_SCK</p></td>
<td><p>18 PC30 SPI/SCK</p></td>
<td><p>18 PC30 SPI/SCK</p></td>
<td><p>PC30 on EXT5</p></td>
</tr>
<tr class="row-even"><td><p>19 GND</p></td>
<td><p>19      GND</p></td>
<td><p>GND</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>20 VCC</p></td>
<td><p>20      VCC</p></td>
<td><p>VCC</p></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Configuration Options</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_OLED1MODULE=y</span></code>: Informs the system that the I/O1
module is installed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_OLED1MODULE_EXT1=y</span></code>: The module is installed in EXT1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_OLED1MODULE_EXT2=y</span></code>: The mdoule is installed in EXT2</p></li>
</ul>
<p>See the set-up in the discussion of the <code class="docutils literal notranslate"><span class="pre">nsh</span></code> configuration below for other
required configuration options.</p>
</section>
<section id="slcd1">
<h3>SLCD1<a class="headerlink" href="#slcd1" title="Permalink to this heading"></a></h3>
<p>This module provides a A segment LCD that connects directly to the “EXT5
SEGMENT LCD” connector</p>
<p><strong>Configuration Options</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_SLCD1MODULE=y</span></code>: Informs the system that the I/O1
module is installed</p></li>
</ul>
<p>See the set-up in the discussion of the nsh configuration below for other
required configuration options.</p>
</section>
<section id="proto1">
<h3>PROTO1<a class="headerlink" href="#proto1" title="Permalink to this heading"></a></h3>
<p>A prototyping board with logic on board (other than power-related logic). There
is no built-in support for the PROTO1 module.</p>
</section>
</section>
<section id="leds">
<h2>LEDs<a class="headerlink" href="#leds" title="Permalink to this heading"></a></h2>
<p>There are three LEDs on board the SAM4L Xplained Pro board: The EDBG controls
two of the LEDs, a power LED and a status LED. There is only one user
controllable LED, a yellow LED labeled LED0 near the SAM4L USB connector.</p>
<p>This LED is controlled by PC07 and LED0 can be activated by driving the PC07 to
GND.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LEDS</span></code> is defined in the NuttX configuration, NuttX will
control LED0 as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>SYMBOL</p></th>
<th class="head"><p>Meaning</p></th>
<th class="head"><p>LED0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LED_STARTED</p></td>
<td><p>NuttX has been started</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p>LED_HEAPALLOCATE</p></td>
<td><p>Heap has been allocated</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-even"><td><p>LED_IRQSENABLED</p></td>
<td><p>Interrupts enabled</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p>LED_STACKCREATED</p></td>
<td><p>Idle stack created</p></td>
<td><p>ON</p></td>
</tr>
<tr class="row-even"><td><p>LED_INIRQ</p></td>
<td><p>In an interrupt</p></td>
<td><p>N/C</p></td>
</tr>
<tr class="row-odd"><td><p>LED_SIGNAL</p></td>
<td><p>In a signal handler</p></td>
<td><p>N/C</p></td>
</tr>
<tr class="row-even"><td><p>LED_ASSERTION</p></td>
<td><p>An assertion failed</p></td>
<td><p>N/C</p></td>
</tr>
<tr class="row-odd"><td><p>LED_PANIC</p></td>
<td><p>The system has crashed</p></td>
<td><p>FLASH</p></td>
</tr>
</tbody>
</table>
<p>Thus is LED0 is statically on, NuttX has successfully  booted and is,
apparently, running normally. If LED0 is flashing at approximately 2Hz, then a
fatal error has been detected and the system has halted.</p>
</section>
<section id="serial-consoles">
<h2>Serial Consoles<a class="headerlink" href="#serial-consoles" title="Permalink to this heading"></a></h2>
<section id="usart0">
<h3>USART0<a class="headerlink" href="#usart0" title="Permalink to this heading"></a></h3>
<p>USART0 is available on connectors EXT1 and EXT4.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EXT1</p></th>
<th class="head"><p>EXT4</p></th>
<th class="head"><p>GPIO</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>13</p></td>
<td><p>13</p></td>
<td><p>PB00</p></td>
<td><p>USART0_RXD</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>14</p></td>
<td><p>PB01</p></td>
<td><p>USART0_TXD</p></td>
</tr>
<tr class="row-even"><td><p>19</p></td>
<td><p>19</p></td>
<td></td>
<td><p>GND</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p>20</p></td>
<td></td>
<td><p>VCC</p></td>
</tr>
</tbody>
</table>
<p>If you have a TTL to RS-232 converter then this is the most convenient serial
console to use. It is the default in all of these configurations. An option is
to use the virtual COM port.</p>
</section>
<section id="virtual-com-port">
<h3>Virtual COM Port<a class="headerlink" href="#virtual-com-port" title="Permalink to this heading"></a></h3>
<p>The SAM4L Xplained Pro contains an Embedded Debugger (EDBG) that can be used to
program and debug the ATSAM4LC4C using Serial Wire Debug (SWD). The Embedded
debugger also include a Virtual Com port interface over USART1. Virtual COM
port connections:</p>
<ul class="simple">
<li><p>PC26 USART1 RXD</p></li>
<li><p>PC27 USART1 TXD</p></li>
</ul>
</section>
</section>
<section id="sam4l-xplained-pro-specific-configuration-options">
<h2>SAM4L Xplained Pro-specific Configuration Options<a class="headerlink" href="#sam4l-xplained-pro-specific-configuration-options" title="Permalink to this heading"></a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH</span></code> - Identifies the <code class="docutils literal notranslate"><span class="pre">arch/</span></code> subdirectory.  This should be set
to:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH=arm</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_family</span></code> - For use in C code:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_ARM=y</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_architecture</span></code> - For use in C code:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CORTEXM4=y</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP</span></code> - Identifies the <code class="docutils literal notranslate"><span class="pre">arch/*/chip</span></code> subdirectory</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP=&quot;sam34&quot;</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP_name</span></code> - For use in C code to identify the exact chip:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP_SAM34</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP_SAM4L</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP_ATSAM4LC4C</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD</span></code> - Identifies the <code class="docutils literal notranslate"><span class="pre">boards/</span></code> subdirectory and hence, the
board that supports the particular chip or SoC.</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD=sam4l-xplained</span></code> (for the SAM4L Xplained Pro development board)</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD_name</span></code> - For use in C code</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD_SAM4L_XPLAINED=y</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LOOPSPERMSEC</span></code> - Must be calibrated for correct operation of
delay loops</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ENDIAN_BIG</span></code> - define if big endian (default is little endian)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_SIZE</span></code> - Describes the installed DRAM (SRAM in this case):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_SIZE=0x00008000</span></code> (32Kb)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_START</span></code> - The start address of installed DRAM</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_START=0x20000000</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LEDS</span></code> - Use LEDs to show state. Unique to boards that have LEDs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_INTERRUPTSTACK</span></code> - This architecture supports an interrupt
stack. If defined, this symbol is the size of the interrupt stack in bytes.
If not defined, the user task stacks will be used during interrupt handling.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_STACKDUMP</span></code> - Do stack dumps after assertions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LEDS</span></code> -  Use LEDs to show state. Unique to board architecture.</p></li>
</ul>
<p>Individual subsystems can be enabled:</p>
<section id="cpu">
<h3>CPU<a class="headerlink" href="#cpu" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_OCD</span></code></p></li>
</ul>
</section>
<section id="hsb">
<h3>HSB<a class="headerlink" href="#hsb" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_APBA</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_AESA</span></code></p></li>
</ul>
</section>
<section id="pba">
<h3>PBA<a class="headerlink" href="#pba" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_IISC</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_SPI0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TWIM0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TWIS0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TWIM1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TWIS1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USART0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USART1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USART2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USART3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_ADC12B</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_DACC</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_ACC</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GLOC</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_ABDACB</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TRNG</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_PARC</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_CATB</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TWIM2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TWIM3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_LCDCA</span></code></p></li>
</ul>
</section>
<section id="pbb">
<h3>PBB<a class="headerlink" href="#pbb" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_HRAMC1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_HMATRIX</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_PDCA</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_CRCCU</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USBC</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_PEVC</span></code></p></li>
</ul>
</section>
<section id="pbc">
<h3>PBC<a class="headerlink" href="#pbc" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_CHIPID</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_FREQM</span></code></p></li>
</ul>
</section>
<section id="pbd">
<h3>PBD<a class="headerlink" href="#pbd" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_AST</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_WDT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_EIC</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_PICOUART</span></code></p></li>
</ul>
<p>Some subsystems can be configured to operate in different ways. The drivers need
to know how to configure the subsystem.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIOA_IRQ</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIOB_IRQ</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIOC_IRQ</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_SERIALDRIVER</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART1_SERIALDRIVER</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART2_SERIALDRIVER</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART3_SERIALDRIVER</span></code></p></li>
</ul>
<p>ST91SAM4L specific device driver settings</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_U[S]ARTn_SERIAL_CONSOLE</span></code>: selects the USARTn (n=0,1,2,3) or UART m
(m=4,5) for the console and ttys0 (default is the USART1).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_U[S]ARTn_RXBUFSIZE</span></code>: Characters are buffered as received. This
specific the size of the receive buffer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_U[S]ARTn_TXBUFSIZE</span></code>: Characters are buffered before being sent.
This specific the size of the transmit buffer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_U[S]ARTn_BAUD</span></code>: The configure BAUD of the UART.  Must be</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_U[S]ARTn_BITS</span></code>: The number of bits.  Must be either 7 or 8.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_U[S]ARTn_PARTIY</span></code>: 0=no parity, 1=odd parity, 2=even parity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_U[S]ARTn_2STOP</span></code>: Two stop bits</p></li>
</ul>
</section>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this heading"></a></h2>
<p>Each SAM4L Xplained Pro configuration is maintained in a sub-directory and
can be selected as follow:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tools/configure.sh<span class="w"> </span>sam4l-xplained:&lt;subdir&gt;
</pre></div>
</div>
<p>Before building, make sure the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable includes the correct
path to the directory than holds your toolchain binaries.</p>
<p>And then build NuttX by simply typing the following. At the conclusion of the
make, the nuttx binary will reside in an ELF file called, simply, nuttx.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;subdir&gt;</span></code> that is provided above as an argument to the
<code class="docutils literal notranslate"><span class="pre">tools/configure.sh</span></code> must be is one of the following.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These configurations use the mconf-based configuration tool.  To change any
of these configurations using that tool, you should:</p>
<ol class="arabic simple">
<li><p>Build and install the kconfig-mconf tool.  See nuttx/README.txt
see additional README.txt files in the NuttX tools repository.</p></li>
<li><p>Execute ‘make menuconfig’ in nuttx/ in order to start the
reconfiguration process.</p></li>
</ol>
</div>
<ol class="arabic">
<li><p>These configurations use the mconf-based configuration tool. To change any
of these configurations using that tool, you should:</p>
<ol class="loweralpha simple">
<li><p>Build and install the kconfig-mconf tool. See nuttx/README.txt
see additional README.txt files in the NuttX tools repository.</p></li>
<li><p>Execute <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code> in nuttx/ in order to start the
reconfiguration process.</p></li>
</ol>
</li>
<li><p>Unless stated otherwise, all configurations generate console output of on
USART0 which is available on EXT1 or EXT4 (see the section “Serial Consoles”
above).  The virtual COM port could be used, instead, by reconfiguring to use
USART1 instead of USART0:</p>
<p>System Type -&gt; AT91SAM3/4 Peripheral Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM_USART0=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM_USART1=n</span></code></p></li>
</ul>
<p>Device Drivers -&gt; Serial Driver Support -&gt; Serial Console</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_SERIAL_CONSOLE=y</span></code></p></li>
</ul>
<p>Device Drivers -&gt; Serial Driver Support -&gt; USART0 Configuration</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_2STOP=0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_BAUD=115200</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_BITS=8</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_PARITY=0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_RXBUFSIZE=256</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_TXBUFSIZE=256</span></code></p></li>
</ul>
</li>
<li><p>Unless otherwise stated, the configurations are setup for Linux (or any other
POSIX environment like Cygwin under Windows):</p>
<p>Build Setup:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_HOST_LINUX=y</span></code>: Linux or other POSIX environment</p></li>
</ul>
</li>
<li><p>These configurations use the older, OABI, buildroot toolchain.  But that is
easily reconfigured:</p>
<p>System Type -&gt; Toolchain:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARM_TOOLCHAIN_BUILDROOT=y</span></code>: Buildroot toolchain</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARM_TOOLCHAIN_BUILDROOT_OABI=y</span></code>: Older, OABI toolchain</p></li>
</ul>
<p>If you want to use the Atmel GCC toolchain, here are the steps to
do so:</p>
<p>Build Setup:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_HOST_WINDOWS=y</span></code>: Windows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_HOST_CYGWIN=y</span></code>: Using Cygwin or other POSIX environment</p></li>
</ul>
<p>System Type -&gt; Toolchain:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARM_TOOLCHAIN_GNU_EABI=y</span></code>: General GCC EABI toolchain under windows</p></li>
</ul>
<p>This re-configuration should be done before making NuttX or else the
subsequent ‘make’ will fail.  If you have already attempted building
NuttX then you will have to:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">distclean</span></code> to remove the old configuration</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tools/configure.sh</span> <span class="pre">sam3u-ek/ksnh</span></code> to start with a fresh configuration</p></li>
<li><p>Perform the configuration changes above.</p></li>
</ol>
<p>Also, make sure that your PATH variable has the new path to your
Atmel tools.  Try ‘which arm-none-eabi-gcc’ to make sure that you
are selecting the right tool.</p>
<p>See also the “NOTE about Windows native toolchains” in the section call
“GNU Toolchain Options” above.</p>
</li>
</ol>
<section id="nsh">
<h3>nsh<a class="headerlink" href="#nsh" title="Permalink to this heading"></a></h3>
<p>This configuration directory will built the NuttShell.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you get a compilation error like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">libxx_new.cxx:74:40: error: &#39;operator new&#39; takes type &#39;size_t&#39;</span>
<span class="go">                     (&#39;unsigned int&#39;) as first parameter [-fper</span>
</pre></div>
</div>
</div>
<p>Sometimes NuttX and your toolchain will disagree on the underlying type of
<code class="docutils literal notranslate"><span class="pre">size_t</span></code>; sometimes it is an <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code> and sometimes it is an
<code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">int</span></code>. If this error occurs, then you may need to toggle the
value of <code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_SIZET_LONG</span></code>.</p>
<p>If the I/O1 module is connected to the SAM4L Xplained Pro, then support for the
SD card slot can be enabled by making the following changes to the
configuration:</p>
<p>File Systems:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FS_FAT=y</span></code>: Enable the FAT file system</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FAT_LCNAMES=y</span></code>: Enable upper/lower case 8.3 file names (Optional, see below)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FAT_LFN=y</span></code>: Enable long file named (Optional, see below)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FAT_MAXFNAME=32</span></code>: Maximum supported file name length</p></li>
</ul>
<p>There are issues related to patents that Microsoft holds on FAT long file name
technologies. See the top level NOTICE file for further details.</p>
<p>System Type -&gt; Peripherals:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_SPI0=y</span></code>: Enable the SAM4L SPI peripheral</p></li>
</ul>
<p>Device Drivers</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI=y</span></code>: Enable SPI support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI_EXCHANGE=y</span></code>: The exchange() method is supported</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD=y</span></code>: Enable MMC/SD support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_NSLOTS=1</span></code>: Only one MMC/SD card slot</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_MULTIBLOCK_LIMIT=0</span></code>: Should not need to disable multi-block transfers</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_HAVE_CARDDETECT=y</span></code>: I/O1 module as a card detect GPIO</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_SPI=y</span></code>: Use the SPI interface to the MMC/SD card</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_SPICLOCK=20000000</span></code>: This is a guess for the optimal MMC/SD frequency</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_SPIMODE=0</span></code>: Mode 0 is required</p></li>
</ul>
<p>Board Selection -&gt; Common Board Options</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_MMCSDSLOTNO=0</span></code>: Only one MMC/SD slot, slot 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_MMCSDSPIPORTNO=0</span></code>: Use CS=0 if the I/O1 is in EXT1, OR</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_MMCSDSPIPORTNO=2</span></code>: Use CS=2 if the I/O1 is in EXT2</p></li>
</ul>
<p>Board Selection -&gt; SAM4L Xplained Pro Modules</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_IOMODULE=y</span></code>: I/O1 module is connected</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_IOMODULE_EXT1=y</span></code>: In EXT1, or EXT2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_IOMODULE_EXT2=y</span></code></p></li>
</ul>
<p>Application Configuration -&gt; NSH Library</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ARCHINIT=y</span></code>: Board has architecture-specific initialization</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you enable the I/O1 this configuration with USART0 as the console and with
the I/O1 module in EXT1, you <em>must</em> remove UART jumper. Otherwise, you have
lookpack on USART0 and NSH will <em>not</em> behave very well (since its outgoing
prompts also appear as incoming commands).</p>
</div>
<p>If the OLED1 module is connected to the SAM4L Xplained Pro, then support for the
OLED display can be enabled by making the following changes to the
configuration:</p>
<p>System Type -&gt; Peripherals:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_SPI0=y</span></code>: Enable the SAM4L SPI peripheral</p></li>
</ul>
<p>Device Drivers -&gt; SPI</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI=y</span></code>: Enable SPI support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI_EXCHANGE=y</span></code>: The exchange() method is supported</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI_CMDDATA=y</span></code>: CMD/DATA support is required</p></li>
</ul>
<p>Device Drivers -&gt; LCDs</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LCD=y</span></code>: Enable LCD support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LCD_MAXCONTRAST=255</span></code>: Maximum contrast value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LCD_LANDSCAPE=y</span></code>: Landscape orientation (see below*)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LCD_UG2832HSWEG04=y</span></code>: Enable support for the OLED</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LCD_SSD1306_SPIMODE=0</span></code>: SPI Mode 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LCD_SSD1306_SPIMODE=3500000</span></code>: Pick an SPI frequency</p></li>
</ul>
<p>Board Selection -&gt; SAM4L Xplained Pro Modules</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_OLED1MODULE=y</span></code>: OLED1 module is connected</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_OLED1MODULE_EXT1=y</span></code>: In EXT1, or EXT2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_OLED1MODULE_EXT2=y</span></code></p></li>
</ul>
<p>The NX graphics subsystem also needs to be configured:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX=y</span></code>: Enable graphics support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX_LCDDRIVER=y</span></code>: Using an LCD driver</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX_NPLANES=1</span></code>: With a single color plane</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX_WRITEONLY=n</span></code>: You can read from the LCD (see below note)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX_DISABLE_2BPP=y</span></code>: Disable all resolutions except 1BPP</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX_DISABLE_4BPP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX_DISABLE_8BPP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX_DISABLE_16BPP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX_DISABLE_24BPP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX_DISABLE_32BPP=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NX_PACKEDMSFIRST=y</span></code>: LSB packed first (shouldn’t matter)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NXSTART_EXTERNINIT=y</span></code>: We have board_graphics_setup()</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NXTK_BORDERWIDTH=2</span></code>: Use a small border</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NXTK_DEFAULT_BORDERCOLORS=y</span></code>: Default border colors</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NXFONTS_CHARBITS=7</span></code>: 7-bit fonts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NXFONT_SANS17X23B=y</span></code>: Pick a font (any that will fit)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This orientation will put the buttons “above” the LCD. The reverse landscape
configuration (CONFIG_LCD_RLANDSCAPE) will “flip” the display so that the
buttons are “below” the LCD.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The hardware is write only, but the driver maintains a frame buffer to
support read and read-write-modiry operations on the LCD. Reading from the
frame buffer is, however, untested.</p>
</div>
<p>Then, in order to use the OLED, you will need to build some kind of graphics
application or use one of the NuttX graphics examples. Here, for example, is the
setup for the graphic “Hello, World!” example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_NXHELLO=y</span></code>: Enables the example</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_NXHELLO_DEFAULT_COLORS=y</span></code>: Use default colors (see below
note)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_NXHELLO_DEFAULT_FONT=y</span></code>: Use the default font</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_NXHELLO_BPP=1</span></code>: One bit per pixel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_NXHELLO_EXTERNINIT=y</span></code>: Special initialization is required.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The OLED is monochrome so the only “colors” are black and white. The default
“colors” will give you while text on a black background. You can override the
faults it you want black text on a while background.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>One issue that I have seen with the NXHello example when running as an NSH
command is that it only works the first time. So, after you run the ‘nxhello’
command one time, you will have to reset the board before you run it again.</p>
<p>This is clearly some issue with initializing, un-initializing, and then
re-initializing. If you want to fix this, patches are quite welcome.</p>
</div>
<p>If the LCD1 module is connected to the SAM4L Xplained Pro, then support for the
SLCDt can be enabled by making the following changes to the configuration:</p>
<p>System Type -&gt; AT91SAM3/4 Peripheral Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_LCDCA=y</span></code></p></li>
</ul>
<p>System Type -&gt; AT91SAM3/4 Clock Configuration</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_OSC32K=y</span></code></p></li>
</ul>
<p>Board Selection -&gt; Board-Specific Options -&gt; SAM4L Xplained Pro Modules</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM4L_XPLAINED_SLCD1MODULE=y</span></code></p></li>
</ul>
<p>Device Drivers</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LCD=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LCD_MAXCONTRAST=63</span></code></p></li>
</ul>
<p>Library Routines -&gt; Non-standard Library Support</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LIBC_SLCDCODEC=y</span></code></p></li>
</ul>
<p>The SLCD example can be enabled to verify the SLCD:</p>
<p>Application Configuration -&gt; Examples</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_SLCD=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_SLCD_DEVNAME=&quot;/dev/slcd0&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_SLCD_BUFSIZE=64</span></code></p></li>
</ul>
<p>Application Configuration -&gt; NSH Library</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ARCHINIT=y</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to use the segment LCD you <em>must</em> open the <code class="docutils literal notranslate"><span class="pre">VLCD_A</span></code> and
<code class="docutils literal notranslate"><span class="pre">VLCD_BC</span></code> jumpers or the SLD will not be powered!</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../sam4e-ek/index.html" class="btn btn-neutral float-left" title="SAM4E-EK" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../sam4s-xplained-pro/index.html" class="btn btn-neutral float-right" title="SAM4S Xplained Pro" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>