<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Arduino Due &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx_collapse.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
      <script src="../../../../../_static/jquery.js"></script>
      <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
      <script src="../../../../../_static/doctools.js"></script>
      <script src="../../../../../_static/sphinx_highlight.js"></script>
      <script src="../../../../../_static/clipboard.min.js"></script>
      <script src="../../../../../_static/copybutton.js"></script>
      <script src="../../../../../_static/design-tabs.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="Flip&amp;Click SAM3X" href="../flipnclick-sam3x/index.html" />
    <link rel="prev" title="Microchip SAM34" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../../../12.5.1" >12.5.1</option>
    
    <option value="../../../../../../12.6.0" >12.6.0</option>
    
    <option value="../../../../../../12.7.0" >12.7.0</option>
    
    <option value="../../../../../../12.8.0" >12.8.0</option>
    
    <option value="../../../../../../12.9.0" >12.9.0</option>
    
    <option value="../../../../../../12.10.0" >12.10.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">ARM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../a1x/index.html">Allwinner A10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../am335x/index.html">TI/Sitara AM335x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../at32/index.html">Artery AT32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bcm2708/index.html">Broadcom BCM2708 (removed)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../c5471/index.html">TI TMS320-C5471</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../cxd56xx/index.html">Sony CXD56xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../dm320/index.html">TI TMS320-DM320</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../efm32/index.html">SiLabs EFM32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../eoss3/index.html">EOSS3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fvp-v8r-aarch32/index.html">FVP ARMv8-R Virt Chip</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../gd32f4/index.html">GD32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/goldfish_timer.html">GOLDFISH TIMER</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/index.html">GOLDFISH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx1/index.html">NXP/Freescale i.MX1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx6/index.html">NXP/Freescale i.MX6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx9/index.html">NXP i.MX9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imxrt/index.html">NXP i.MX RT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kinetis/index.html">NXP/FreeScale Kinetis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kl/index.html">NXP/FreeScale KLxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lc823450/index.html">ON Semiconductor LC823450</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc17xx/index.html">NXP LPC17xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc214x/index.html">NXP LPC214x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc2378/index.html">NXP LPC2378</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc31xx/index.html">NXP LPC31xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc40xx/index.html">NXP LPC40xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc43xx/index.html">NXP LPC43xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc54xx/index.html">NXP LPC54xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../max326xx/index.html">Maxim Integrated MAX32660</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../moxart/index.html">Moxa NP51x0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../mps/index.html">MPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/ieee802154.html">Nordic nRF52 IEEE 802.15.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/index.html">Nordic nRF52</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf53/index.html">Nordic nRF53</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf91/index.html">Nordic nRF91</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nuc1xx/index.html">nuvoTon NUC120</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../phy62xx/index.html">PHY+ PHY62</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../qemu/index.html">QEMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../ra4m1/index.html">Renesas RA4M1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp2040/index.html">Raspberry Pi rp2040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp23xx/index.html">Raspberry Pi rp2350</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k1xx/index.html">NXP S32K1XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k3xx/index.html">NXP S32K3XX</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">Microchip SAM34</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../index.html#microchip-sam3u">Microchip SAM3U</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#microchip-sam3x">Microchip SAM3X</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#microchip-sam4l">Microchip SAM4L</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#microchip-sam4cm">Microchip SAM4CM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#microchip-sam4e">Microchip SAM4E</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#microchip-sam4s">Microchip SAM4S</a><ul class="current">
<li class="toctree-l5 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../sama5/index.html">Microchip SAMA5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd2l2/index.html">Microchip SAMD2x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd5e5/index.html">Microchip samd5e5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samv7/index.html">Microchip SAM V7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32c0/index.html">ST STM32C0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f0/index.html">ST STM32F0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f1/index.html">ST STM32F1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f2/index.html">ST STM32F2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f3/index.html">ST STM32F3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f4/index.html">ST STM32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f7/index.html">ST STM32F7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g0/index.html">ST STM32G0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g4/index.html">ST STM32G4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32h5/index.html">ST STM32H5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32h7/index.html">ST STM32H7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l0/index.html">ST STM32L0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l1/index.html">ST STM32L1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l4/index.html">ST STM32L4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l5/index.html">ST STM32L5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32u5/index.html">ST STM32U5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wb/index.html">ST STM32WB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wl5/index.html">ST STM32WL5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../str71x/index.html">ST STR71</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tiva/index.html">TI/Stellaris Tiva</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tms570/index.html">TI/Hercules TMS570xxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../xmc4/index.html">Infineon XMC4000</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../arm64/index.html">ARM64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../avr/index.html">Microchip AVR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_linux.html">Network Support on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_vpnkit.html">Network support with VPNKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../tricore/index.html">TriCore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../xtensa/index.html">Xtensa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../standards/index.html">Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">ARM</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Microchip SAM34</a></li>
      <li class="breadcrumb-item active">Arduino Due</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/apache/nuttx/blob/master/Documentation/platforms/arm/sam34/boards/arduino-due/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="arduino-due">
<h1>Arduino Due<a class="headerlink" href="#arduino-due" title="Permalink to this heading"></a></h1>
<p>This documentation discusses issues unique to NuttX configurations for the
Arduino DUE board featuring the Atmel ATSAM3X8E MCU running at 84 MHz.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If found that newer Arduino Due board differ from the older boards mine:
Mine has the 32.768 slow clock crystal and associated caps installed. The newer
boards do not. This can cause a hang in the SAM startup code where it waits for
the slow crystal input to lock on.</p>
<p>Options:</p>
<ol class="arabic simple">
<li><p>Solder a 32.768 KHz crystal and associated caps on board or,</p></li>
<li><p>Disable the function <code class="docutils literal notranslate"><span class="pre">sam_setupsupc()</span></code> in <code class="docutils literal notranslate"><span class="pre">sam_clockconfig.c</span></code></p></li>
</ol>
</div>
<section id="supported-shields">
<h2>Supported Shields<a class="headerlink" href="#supported-shields" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>ITEAD 2.4” TFT with Touch, Arduino Shield 1.0</p></li>
</ul>
</section>
<section id="pio-pin-usage">
<h2>PIO Pin Usage<a class="headerlink" href="#pio-pin-usage" title="Permalink to this heading"></a></h2>
<section id="porta">
<h3>PORTA<a class="headerlink" href="#porta" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIO</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>CONN</p></th>
<th class="head"><p>PIN</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PA0</p></td>
<td><p>CANTX0</p></td>
<td><p>ADCH</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-odd"><td><p>PA1</p></td>
<td><p>CANRX0</p></td>
<td><p>ACDH</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-even"><td><p>PA2</p></td>
<td><p>AD7</p></td>
<td><p>ADCL</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-odd"><td><p>PA3</p></td>
<td><p>AD6</p></td>
<td><p>ADCL</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-even"><td><p>PA4</p></td>
<td><p>AD5</p></td>
<td><p>ADCL</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>PA5</p></td>
<td><p>EEXTINT</p></td>
<td><p>ETH</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>PA6</p></td>
<td><p>AD4</p></td>
<td><p>ADCL</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>PA7</p></td>
<td><p>PIN31</p></td>
<td><p>XIO</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-even"><td><p>PA8</p></td>
<td><p>[U]RX</p></td>
<td><p>PWML</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>PA9</p></td>
<td><p>[U]TX</p></td>
<td><p>PWML</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>PA10</p></td>
<td><p>RXD2</p></td>
<td><p>COMM</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>PA11</p></td>
<td><p>TXD2</p></td>
<td><p>COMM</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>PA12</p></td>
<td><p>RXD1</p></td>
<td><p>COMM</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>PA13</p></td>
<td><p>TXD1</p></td>
<td><p>COMM</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>PA14</p></td>
<td><p>PIN23</p></td>
<td><p>XIO</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>PA15</p></td>
<td><p>PIN24</p></td>
<td><p>XIO</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>PA16</p></td>
<td><p>AD0</p></td>
<td><p>ADCL</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>PA17</p></td>
<td><p>SDA1</p></td>
<td><p>PWMH</p></td>
<td><p>9</p></td>
</tr>
<tr class="row-even"><td><p>PA18</p></td>
<td><p>SCL1</p></td>
<td><p>PWMH</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>PA19</p></td>
<td><p>PIN42</p></td>
<td><p>XIO</p></td>
<td><p>23</p></td>
</tr>
<tr class="row-even"><td><p>PA20</p></td>
<td><p>PIN43</p></td>
<td><p>XIO</p></td>
<td><p>24</p></td>
</tr>
<tr class="row-odd"><td><p>PA21</p></td>
<td><p>TXL</p></td>
<td><p>TX</p></td>
<td><p>YELLOW LED</p></td>
</tr>
<tr class="row-even"><td><p>PA22</p></td>
<td><p>AD3</p></td>
<td><p>ADCL</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>PA23</p></td>
<td><p>AD2</p></td>
<td><p>ADCL</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>PA24</p></td>
<td><p>AD1</p></td>
<td><p>ADCL</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>PA25</p></td>
<td><p>MISO</p></td>
<td><p>SPI</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>PA26</p></td>
<td><p>MOSI</p></td>
<td><p>SPI</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>PA27</p></td>
<td><p>SPCK</p></td>
<td><p>SPI</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>PA28</p></td>
<td><p>SS0/PWM10</p></td>
<td><p>(ETH) PWML</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>PA29</p></td>
<td><p>SS1/PWM4</p></td>
<td><p>(SD)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PA30</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PA31</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="portb">
<h3>PORTB<a class="headerlink" href="#portb" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIO</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>CONN</p></th>
<th class="head"><p>PIN</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PB0</p></td>
<td><p>ETX_CLK</p></td>
<td><p>ETH</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>PB1</p></td>
<td><p>ETX_EN</p></td>
<td><p>ETH</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>PB2</p></td>
<td><p>ETXD0</p></td>
<td><p>ETH</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>PB3</p></td>
<td><p>ETXD1</p></td>
<td><p>ETH</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-even"><td><p>PB4</p></td>
<td><p>ERX_DV</p></td>
<td><p>ETH</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>PB5</p></td>
<td><p>ERXD0</p></td>
<td><p>ETH</p></td>
<td><p>9</p></td>
</tr>
<tr class="row-even"><td><p>PB6</p></td>
<td><p>ERXD1</p></td>
<td><p>ETH</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p>PB7</p></td>
<td><p>ERX_ER</p></td>
<td><p>ETH</p></td>
<td><p>13</p></td>
</tr>
<tr class="row-even"><td><p>PB8</p></td>
<td><p>EMDC</p></td>
<td><p>ETH</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-odd"><td><p>PB9</p></td>
<td><p>EMDIO</p></td>
<td><p>ETH</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-even"><td><p>PB10</p></td>
<td><p>UOTGVBO</p></td>
<td><p>Vbus power</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PB11</p></td>
<td><p>UOTGID</p></td>
<td><p>USB1</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>PB12</p></td>
<td><p>SDA0-3</p></td>
<td><p>COMM</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-odd"><td><p>PB13</p></td>
<td><p>SCL0-3</p></td>
<td><p>COMM</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>PB14</p></td>
<td><p>CANTX1/IO</p></td>
<td><p>XIO</p></td>
<td><p>34</p></td>
</tr>
<tr class="row-odd"><td><p>PB15</p></td>
<td><p>DAC0(CANRX1)</p></td>
<td><p>ADCH</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>PB16</p></td>
<td><p>DAC1</p></td>
<td><p>ADCH</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>PB17</p></td>
<td><p>AD8</p></td>
<td><p>ADCH</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>PB18</p></td>
<td><p>AD9</p></td>
<td><p>ADCH</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>PB19</p></td>
<td><p>AD10</p></td>
<td><p>ADCH</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>PB20</p></td>
<td><p>AD11(TXD3)</p></td>
<td><p>ADCH</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>PB21</p></td>
<td><p>AD14(RXD3)</p></td>
<td><p>XIO</p></td>
<td><p>33</p></td>
</tr>
<tr class="row-even"><td><p>PB22</p></td>
<td><p>N/C</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PB23</p></td>
<td><p>SS3</p></td>
<td><p>???</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PB24</p></td>
<td><p>N/C</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PB25</p></td>
<td><p>PWM2</p></td>
<td><p>PWML</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>PB26</p></td>
<td><p>PIN22</p></td>
<td><p>???</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PB27</p></td>
<td><p>PWM13</p></td>
<td><p>PWMH</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>PB28</p></td>
<td><p>JTAG_TCK</p></td>
<td><p>JTAG</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>PB29</p></td>
<td><p>JTAG_TDI</p></td>
<td><p>JTAG</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>PB30</p></td>
<td><p>JTAG_TDO</p></td>
<td><p>JTAG</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>PB31</p></td>
<td><p>JTAG_TMS</p></td>
<td><p>JTAG</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
</section>
<section id="portc">
<h3>PORTC<a class="headerlink" href="#portc" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIO</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>CONN</p></th>
<th class="head"><p>PIN</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PC0</p></td>
<td><p>ERASE</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PC1</p></td>
<td><p>PIN33</p></td>
<td><p>XIO</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-even"><td><p>PC2</p></td>
<td><p>PIN34</p></td>
<td><p>XIO</p></td>
<td><p>15</p></td>
</tr>
<tr class="row-odd"><td><p>PC3</p></td>
<td><p>PIN35</p></td>
<td><p>XIO</p></td>
<td><p>16</p></td>
</tr>
<tr class="row-even"><td><p>PC4</p></td>
<td><p>PIN36</p></td>
<td><p>XIO</p></td>
<td><p>17</p></td>
</tr>
<tr class="row-odd"><td><p>PC5</p></td>
<td><p>PIN37</p></td>
<td><p>XIO</p></td>
<td><p>18</p></td>
</tr>
<tr class="row-even"><td><p>PC6</p></td>
<td><p>PIN38</p></td>
<td><p>XIO</p></td>
<td><p>19</p></td>
</tr>
<tr class="row-odd"><td><p>PC7</p></td>
<td><p>PIN39</p></td>
<td><p>XIO</p></td>
<td><p>20</p></td>
</tr>
<tr class="row-even"><td><p>PC8</p></td>
<td><p>PIN40</p></td>
<td><p>XIO</p></td>
<td><p>21</p></td>
</tr>
<tr class="row-odd"><td><p>PC9</p></td>
<td><p>PIN41</p></td>
<td><p>XIO</p></td>
<td><p>22</p></td>
</tr>
<tr class="row-even"><td><p>PC10</p></td>
<td><p>N/C</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PC11</p></td>
<td><p>N/C</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PC12</p></td>
<td><p>PIN51</p></td>
<td><p>XIO</p></td>
<td><p>32</p></td>
</tr>
<tr class="row-odd"><td><p>PC13</p></td>
<td><p>PIN50</p></td>
<td><p>XIO</p></td>
<td><p>31</p></td>
</tr>
<tr class="row-even"><td><p>PC14</p></td>
<td><p>PIN49</p></td>
<td><p>XIO</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-odd"><td><p>PC15</p></td>
<td><p>PIN48</p></td>
<td><p>XIO</p></td>
<td><p>29</p></td>
</tr>
<tr class="row-even"><td><p>PC16</p></td>
<td><p>PIN47</p></td>
<td><p>XIO</p></td>
<td><p>28</p></td>
</tr>
<tr class="row-odd"><td><p>PC17</p></td>
<td><p>PIN46</p></td>
<td><p>XIO</p></td>
<td><p>27</p></td>
</tr>
<tr class="row-even"><td><p>PC18</p></td>
<td><p>PIN45</p></td>
<td><p>XIO</p></td>
<td><p>26</p></td>
</tr>
<tr class="row-odd"><td><p>PC19</p></td>
<td><p>PIN44</p></td>
<td><p>XIO</p></td>
<td><p>25</p></td>
</tr>
<tr class="row-even"><td><p>PC20</p></td>
<td><p>N/C</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PC21</p></td>
<td><p>PWM9</p></td>
<td><p>PWM</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>PC22</p></td>
<td><p>PWM8</p></td>
<td><p>PWM</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>PC23</p></td>
<td><p>PWM7</p></td>
<td><p>PWM</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>PC24</p></td>
<td><p>PWM6</p></td>
<td><p>PWM</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-odd"><td><p>PC25</p></td>
<td><p>PWM5</p></td>
<td><p>PWM</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>PC26</p></td>
<td><p>SS1/PWM4</p></td>
<td><p>PWM</p></td>
<td><p>10 (there are two)</p></td>
</tr>
<tr class="row-odd"><td><p>PC27</p></td>
<td><p>N/C</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PC28</p></td>
<td><p>PWM3</p></td>
<td><p>PWML</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>PC29</p></td>
<td><p>SS0/PWM10</p></td>
<td><p>???</p></td>
<td><p>(there are two)</p></td>
</tr>
<tr class="row-even"><td><p>PC30</p></td>
<td><p>RXL</p></td>
<td><p>RX</p></td>
<td><p>YELLOW LED</p></td>
</tr>
<tr class="row-odd"><td><p>PC31</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="portd">
<h3>PORTD<a class="headerlink" href="#portd" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIO</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>CONN</p></th>
<th class="head"><p>PIN</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PD0</p></td>
<td><p>PIN25</p></td>
<td><p>XIO</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>PD1</p></td>
<td><p>PIN26</p></td>
<td><p>XIO</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-even"><td><p>PD2</p></td>
<td><p>PIN27</p></td>
<td><p>XIO</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-odd"><td><p>PD3</p></td>
<td><p>PIN28</p></td>
<td><p>XIO</p></td>
<td><p>9</p></td>
</tr>
<tr class="row-even"><td><p>PD4</p></td>
<td><p>TXD0</p></td>
<td><p>COMM</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>PD5</p></td>
<td><p>RXD0</p></td>
<td><p>COMM</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>PD6</p></td>
<td><p>PIN29</p></td>
<td><p>XIO</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>PD7</p></td>
<td><p>PWM11</p></td>
<td><p>PWMH</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>PD8</p></td>
<td><p>PWM12</p></td>
<td><p>PWMH</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>PD9</p></td>
<td><p>PIN30</p></td>
<td><p>XIO</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-even"><td><p>PD10</p></td>
<td><p>PIN32</p></td>
<td><p>XIO</p></td>
<td><p>13</p></td>
</tr>
<tr class="row-odd"><td><p>PD11</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PD12</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PD13</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PD14</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PD15</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PD16</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PD17</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PD18</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PD19</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PD20</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PD21</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PD22</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PD23</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PD24</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PD25</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PD26</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PD27</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PD28</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PD29</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PD30</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PD31</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="porte">
<h3>PORTE<a class="headerlink" href="#porte" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIO</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>CONN</p></th>
<th class="head"><p>PIN</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PE0</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE1</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE2</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE3</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE4</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE5</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE6</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE7</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE8</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE9</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE10</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE11</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE12</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE13</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE14</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE15</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE16</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE17</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE18</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE19</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE20</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE21</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE22</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE23</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE24</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE25</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE26</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE27</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE28</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE29</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PE30</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PE31</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="portf">
<h3>PORTF<a class="headerlink" href="#portf" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIO</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>CONN</p></th>
<th class="head"><p>PIN</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PF0</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF1</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF2</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF3</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF4</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF5</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF6</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF7</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF8</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF9</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF10</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF11</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF12</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF13</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF14</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF15</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF16</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF17</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF18</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF19</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF20</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF21</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF22</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF23</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF24</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF25</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF26</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF27</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF28</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF29</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PF30</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PF31</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="rev-2-vs-rev-3">
<h2>Rev 2 vs. Rev 3<a class="headerlink" href="#rev-2-vs-rev-3" title="Permalink to this heading"></a></h2>
<p>This port was performed on the Arduino Due Rev 2 board. NuttX users have
reported issues with the serial port on his Arduino Due Rev 3 board. That
problem was resolved as by configuring the UART0 RXD with a pull-up (see
<code class="docutils literal notranslate"><span class="pre">include/board.h</span></code>). That fix as well as any others that we may find will be
enabled by selecting: <code class="docutils literal notranslate"><span class="pre">CONFIG_ARDUINO_DUE_REV3=y</span></code></p>
</section>
<section id="itead-2-4-tft-with-touch">
<h2>ITEAD 2.4” TFT with Touch<a class="headerlink" href="#itead-2-4-tft-with-touch" title="Permalink to this heading"></a></h2>
<p>The Arduino 2.4” TFT Touch Shield is designed for all the Arduino compatible
boards. It works in 3.3V voltage level. It can be directly plugged on the
Arduino and other compatible boards. It will offer display, touch and storage
functions for the Arduino board</p>
<p>Features:</p>
<ol class="arabic simple">
<li><p>Compatible with 3.3/5V operation voltage level</p></li>
<li><p>Compatible with UTFT library</p></li>
<li><p>With SD Card Socket</p></li>
</ol>
<p>The Arduino 2.4” TFT Touch shield uses the S6D1121 controller , it supports
8-bit data interface. The touch IC is XPT2046.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When used with the ITEAD shield, the power from the USB connector seems to be
inefficient (for example, I lose the USB connection when I insert an SD
card). I recommend using a 7-12V power supply with the Arduino in this case.</p>
</div>
<section id="connector">
<h3>Connector<a class="headerlink" href="#connector" title="Permalink to this heading"></a></h3>
<p><strong>PWMH</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Due PIN</p></th>
<th class="head"><p>GPIO</p></th>
<th class="head"><p>FUNCTION</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>ITHEAD PIN</p></th>
<th class="head"><p>ITHEAD SIGNAL</p></th>
<th class="head"><p>NOTES</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10  SCL1</p></td>
<td><p>PA18</p></td>
<td><p>TWCK0/A20/WKUP9</p></td>
<td><p>SCL1</p></td>
<td><p>—      —</p></td>
<td><p>—</p></td>
<td><p>SCL not available</p></td>
</tr>
<tr class="row-odd"><td><p>9   SDA1</p></td>
<td><p>PA17</p></td>
<td><p>TWD0SPCK0</p></td>
<td><p>SDA1</p></td>
<td><p>—      —</p></td>
<td><p>—</p></td>
<td><p>SDA not available</p></td>
</tr>
<tr class="row-even"><td><p>8   Aref</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>AREF</p></td>
<td><p>J2 pin 8 Vref</p></td>
<td><p>N/C</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>7   GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>GND</p></td>
<td><p>J2 pin 7 GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>6   PWM13</p></td>
<td><p>PB27</p></td>
<td><p>SPI0_SPCK/A20/WKUP10</p></td>
<td><p>PWM13</p></td>
<td><p>J2 pin 6 D13</p></td>
<td><p>SD_SCK</p></td>
<td><p>SCK, also LED “L”, Pulled low</p></td>
</tr>
<tr class="row-odd"><td><p>5   PWM12</p></td>
<td><p>PD8</p></td>
<td><p>A21/NANDALE/TIOB8</p></td>
<td><p>PWM12</p></td>
<td><p>J2 pin 5 D12</p></td>
<td><p>SD_MISO</p></td>
<td><p>MISO not available</p></td>
</tr>
<tr class="row-even"><td><p>4   PWM11</p></td>
<td><p>PD7</p></td>
<td><p>A17/BA1/TIOA8</p></td>
<td><p>PWM11</p></td>
<td><p>J2 pin 4 D11</p></td>
<td><p>SD_MOSI</p></td>
<td><p>MOSI not available, Pulled low</p></td>
</tr>
<tr class="row-odd"><td><p>3   PWM10</p></td>
<td><p>PA28</p></td>
<td><p>SPI0_NPCS0/PCK2/WKUP11</p></td>
<td><p>SS0/PWM10</p></td>
<td><p>J2 pin 3 D10</p></td>
<td><p>SD_CS</p></td>
<td><p>Pulled low on-board</p></td>
</tr>
<tr class="row-even"><td><p>2   PWM9</p></td>
<td><p>PC21</p></td>
<td><p>A0/NBS0/PWML4</p></td>
<td><p>PWM9</p></td>
<td><p>J2 pin 2 D9</p></td>
<td><p>Touch_Dout</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>1   PWM8</p></td>
<td><p>PC22</p></td>
<td><p>A1/PWML5</p></td>
<td><p>PWM8</p></td>
<td><p>J2 pin 1 D8</p></td>
<td><p>Touch_IRQ</p></td>
<td><p>—</p></td>
</tr>
</tbody>
</table>
<p><strong>PWML</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Due PIN</p></th>
<th class="head"><p>GPIO</p></th>
<th class="head"><p>FUNCTION</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>ITHEAD PIN</p></th>
<th class="head"><p>ITHEAD SIGNAL</p></th>
<th class="head"><p>NOTES</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>8  PWM7</p></td>
<td><p>PC23</p></td>
<td><p>A2/PWML6</p></td>
<td><p>PWM7</p></td>
<td><p>J3 pin 8 D7</p></td>
<td><p>DB15</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>7  PWM6</p></td>
<td><p>PC24</p></td>
<td><p>A3/PWML7</p></td>
<td><p>PWM6</p></td>
<td><p>J3 pin 7 D6</p></td>
<td><p>DB14</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>6  PWM5</p></td>
<td><p>PC25</p></td>
<td><p>A4/TIOA6</p></td>
<td><p>PWM5</p></td>
<td><p>J3 pin 6 D5</p></td>
<td><p>DB13</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>5  PWM4</p></td>
<td><p>PC26</p></td>
<td><p>A5/TIOB6</p></td>
<td><p>SS1/PWM4</p></td>
<td><p>J3 pin 5 D4</p></td>
<td><p>DB12</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>4  PWM3</p></td>
<td><p>PC28</p></td>
<td><p>A7/TIOA7</p></td>
<td><p>PWM3</p></td>
<td><p>J3 pin 4 D3</p></td>
<td><p>DB11</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>3  PWM2</p></td>
<td><p>PB25</p></td>
<td><p>RTS0/TIOA0</p></td>
<td><p>PWM2</p></td>
<td><p>J3 pin 3 D2</p></td>
<td><p>DB10</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>2  PWM1</p></td>
<td><p>PA9</p></td>
<td><p>UTXD/PWMH3</p></td>
<td><p>TX</p></td>
<td><p>J3 pin 2 D1</p></td>
<td><p>DB9</p></td>
<td><p>UART0 TX</p></td>
</tr>
<tr class="row-odd"><td><p>1  PWM0</p></td>
<td><p>PA8</p></td>
<td><p>URXD/PWMH0/WKUP4</p></td>
<td><p>RX</p></td>
<td><p>J3 pin 1 D0</p></td>
<td><p>DB8</p></td>
<td><p>UART0 RX</p></td>
</tr>
</tbody>
</table>
<p><strong>POWER</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Due PIN</p></th>
<th class="head"><p>GPIO</p></th>
<th class="head"><p>FUNCTION</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>ITHEAD PIN</p></th>
<th class="head"><p>ITHEAD SIGNAL</p></th>
<th class="head"><p>NOTES</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1  —</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—      —</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>2  IOref</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>IOREF +3V3</p></td>
<td><p>—      —</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>3  RESET</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>MASTER_RESET</p></td>
<td><p>J4 pin 1 RST</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>5  5V</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>+5V</p></td>
<td><p>J4 pin 2 3.3V</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>4  3.3V</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>+3V3</p></td>
<td><p>J4 pin 3 5V</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>6  GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>GND</p></td>
<td><p>J4 pin 4 GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>7  GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>GND</p></td>
<td><p>J4 pin 5 GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>8  Vin</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>VIN</p></td>
<td><p>J4 pin 6 Vin</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
</tbody>
</table>
<p><strong>ADCL</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Due PIN</p></th>
<th class="head"><p>GPIO</p></th>
<th class="head"><p>FUNCTION</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>ITHEAD PIN</p></th>
<th class="head"><p>ITHEAD SIGNAL</p></th>
<th class="head"><p>NOTES</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1  A0</p></td>
<td><p>PA16</p></td>
<td><p>SPCK1/TD/AD7</p></td>
<td><p>AD0</p></td>
<td><p>J1 pin 1 A0/D14</p></td>
<td><p>Touch_Din</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>2  A1</p></td>
<td><p>PA24</p></td>
<td><p>MCDA3/PCK1/AD6</p></td>
<td><p>AD1</p></td>
<td><p>J1 pin 2 A1/D15</p></td>
<td><p>Touch_CLK</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>3  A2</p></td>
<td><p>PA23</p></td>
<td><p>MCDA2/TCLK4/AD5</p></td>
<td><p>AD2</p></td>
<td><p>J1 pin 3 A2/D16</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>4  A3</p></td>
<td><p>PA22</p></td>
<td><p>MCDA1/TCLK3/AD4</p></td>
<td><p>AD3</p></td>
<td><p>J1 pin 4 A3/D17</p></td>
<td><p>TFT_CS</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>5  A4</p></td>
<td><p>PA6</p></td>
<td><p>TIOB2/NCS0/AD3</p></td>
<td><p>AD4</p></td>
<td><p>J1 pin 5 A4/D18</p></td>
<td><p>TFT_WR</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>6  A5</p></td>
<td><p>PA4</p></td>
<td><p>TCLK1/NWAIT/AD2</p></td>
<td><p>AD5</p></td>
<td><p>J1 pin 6 A5/D19</p></td>
<td><p>TFT_RS</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>7  A6</p></td>
<td><p>PA3</p></td>
<td><p>TIOB1/PWMFI1/AD1/WKUP1</p></td>
<td><p>AD6</p></td>
<td><p>—      —</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>8  A7</p></td>
<td><p>PA2</p></td>
<td><p>TIOA1/NANDRDY/AD0</p></td>
<td><p>AD7</p></td>
<td><p>—      —</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>It is not possible to use any of the SPI devices on the Shield unless
a bit-bang SPI interface is used.  This includes the touch controller
a bit-bang SPI interface is used.  This includes the touch controller
and the SD card.</p></li>
<li><p>UART0 cannot be used.  USARTs on the COMM connector should be available.</p></li>
<li><p>Parallel data is not contiguous in the PIO register</p></li>
<li><p>Touchcontroller /CS pin is connected to ground (always selected).</p></li>
<li><p>Either PA28 or PC29 may drive PWM10</p></li>
<li><p>The schematics I have do not agree with the documentation. The Touch IRQ
and Dout pins are reversed in the Documentation (D9 an D8, respectively).
I am assuming that the schematic is correct (and the schematic does seem
to match up with what little I can see on the single visible side of the
board).</p></li>
</ol>
</div>
</section>
<section id="sd-interface">
<h3>SD Interface<a class="headerlink" href="#sd-interface" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>SD PIN</p></th>
<th class="head"><p>SD SIGNAL</p></th>
<th class="head"><p>PIN</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>GPIO</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>/CS</p></td>
<td><p>J2 pin 3</p></td>
<td><p>D10</p></td>
<td><p>PA28</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>DI</p></td>
<td><p>J2 pin 4</p></td>
<td><p>D11</p></td>
<td><p>PD7</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>VCC</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>CLK</p></td>
<td><p>J2 pin 6</p></td>
<td><p>D13</p></td>
<td><p>PB27</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>DO</p></td>
<td><p>J2 pin 5</p></td>
<td><p>D12</p></td>
<td><p>PD8</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>IRQ</p></td>
<td><p>N/C</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>N/C</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>SW</p></td>
<td><p>N/C</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>WP</p></td>
<td><p>N/C</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>CD</p></td>
<td><p>N/C</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>CD</p></td>
<td><p>N/C</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The SD slot shares the pin with LED “L” so LED support must be disabled to
use the MMC/SD card on the ITEAD shield.</p></li>
<li><p>Either PA28 or PC29 may drive D10</p></li>
</ul>
</div>
</section>
<section id="touch-controller-interface">
<h3>Touch Controller Interface<a class="headerlink" href="#touch-controller-interface" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>XPT2046 PIN</p></th>
<th class="head"><p>XPT2046 SIGNAL</p></th>
<th class="head"><p>PIN</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>GPIO</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>VCC</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>X+</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Y+</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>X-</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>Y-</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>GND</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>IN3</p></td>
<td><p>N/C</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>IN4</p></td>
<td><p>N/C</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>VREF</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>VCC</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>IRQ</p></td>
<td><p>J2 pin 2</p></td>
<td><p>D9</p></td>
<td><p>PC21</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>DOUT</p></td>
<td><p>J2 pin 1</p></td>
<td><p>D8</p></td>
<td><p>PC22</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>BUSY</p></td>
<td><p>N/C</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>DIN</p></td>
<td><p>J1 pin 1</p></td>
<td><p>A0/D15</p></td>
<td><p>PA16</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>/CS</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>DCLK</p></td>
<td><p>J1 pin 2</p></td>
<td><p>A1/D15</p></td>
<td><p>PA24</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CS is connected to ground (XPT2046 is always selected)</p>
</div>
</section>
</section>
<section id="buttons-and-leds">
<h2>Buttons and LEDs<a class="headerlink" href="#buttons-and-leds" title="Permalink to this heading"></a></h2>
<section id="buttons">
<h3>Buttons<a class="headerlink" href="#buttons" title="Permalink to this heading"></a></h3>
<p>There are no buttons on the Arduino Due board.</p>
</section>
<section id="leds">
<h3>LEDs<a class="headerlink" href="#leds" title="Permalink to this heading"></a></h3>
<p>There are three user-controllable LEDs on board the Arduino Due board:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>LED</p></th>
<th class="head"><p>COLOUR</p></th>
<th class="head"><p>GPIO</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>L</p></td>
<td><p>Amber LED</p></td>
<td><p>PB27</p></td>
</tr>
<tr class="row-odd"><td><p>TX</p></td>
<td><p>Yellow LED</p></td>
<td><p>PA21</p></td>
</tr>
<tr class="row-even"><td><p>RX</p></td>
<td><p>Yellow LED</p></td>
<td><p>PC30</p></td>
</tr>
</tbody>
</table>
<p>LED L is connected to ground and can be illuminated by driving the PB27 output
high. The TX and RX LEDs are pulled high and can be illuminated by driving the
corresponding GPIO output to low.</p>
<p>These LEDs are not used by the board port unless <code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LEDS</span></code> is
defined. In that case, the usage by the board port is defined in
<code class="docutils literal notranslate"><span class="pre">include/board.h</span></code> and <code class="docutils literal notranslate"><span class="pre">src/sam_leds.c</span></code>. The LEDs are used to encode
OS-related events as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>SYMBOL</p></th>
<th class="head"><p>MEANING</p></th>
<th class="head"><p>L</p></th>
<th class="head"><p>TX</p></th>
<th class="head"><p>RX</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LED_STARTED</span></code></p></td>
<td><p>NuttX has been started</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LED_HEAPALLOCATE</span></code></p></td>
<td><p>Heap has been allocated</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LED_IRQSENABLED</span></code></p></td>
<td><p>Interrupts enabled</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LED_STACKCREATED</span></code></p></td>
<td><p>Idle stack created</p></td>
<td><p>ON</p></td>
<td><p>OFF</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LED_INIRQ</span></code></p></td>
<td><p>In an interrupt</p></td>
<td><p>N/C</p></td>
<td><p>GLOW</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LED_SIGNAL</span></code></p></td>
<td><p>In a signal handler</p></td>
<td><p>N/C</p></td>
<td><p>GLOW</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LED_ASSERTION</span></code></p></td>
<td><p>An assertion failed</p></td>
<td><p>N/C</p></td>
<td><p>GLOW</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">LED_PANIC</span></code></p></td>
<td><p>The system has crashed</p></td>
<td><p>N/C</p></td>
<td><p>N/C</p></td>
<td><p>Blinking</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LED_IDLE</span></code></p></td>
<td><p>MCU is is sleep mode</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
<p>Thus if LED L is statically on, NuttX has successfully booted and is,
apparently, running normally. If LED RX is glowing, then NuttX is handling
interrupts (and also signals and assertions). If TX is flashing at approximately
2Hz, then a fatal error has been detected and the system has halted.</p>
</section>
</section>
<section id="serial-consoles">
<h2>Serial Consoles<a class="headerlink" href="#serial-consoles" title="Permalink to this heading"></a></h2>
<p>The SAM3X has a UART and 4 USARTS. The Programming port uses a USB-to- serial
chip connected to the first UART0 of the MCU (RX0 and TX0). The output from
that port is visible using the Arduino tool.</p>
<p>Any of UART and USART0-3 may be used as a serial console. By default,
the UART is used as the serial console in all configurations. But that is
easily changed by modifying the configuration as described under
“Configurations” below.</p>
<p>Here are the UART signals available on pins. Under signal name, the first
column is the name on the schematic associated with the GPIO, the second
comes from: <a class="reference external" href="http://arduino.cc/en/Hacking/PinMappingSAM3X">http://arduino.cc/en/Hacking/PinMappingSAM3X</a>, and the third
is the name of the multiplexed SAM3X UART function from the data sheet.
This is more than a little confusing.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIO</p></th>
<th class="head"><p>DUE SCHEM.</p></th>
<th class="head"><p>PIN MAPPING</p></th>
<th class="head"><p>SAM3X</p></th>
<th class="head"><p>DUE SCHEM.</p></th>
<th class="head"><p>BOARD LABEL</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PA8</p></td>
<td><p>[U]RX</p></td>
<td><p>RX0</p></td>
<td><p>UART0  URXD</p></td>
<td><p>PWML 1</p></td>
<td><p>RX0&lt;-0</p></td>
</tr>
<tr class="row-odd"><td><p>PA9</p></td>
<td><p>[U]TX</p></td>
<td><p>TX0</p></td>
<td><p>UART0  UTXD</p></td>
<td><p>PWML 2</p></td>
<td><p>TX0-&gt;1</p></td>
</tr>
<tr class="row-even"><td><p>PD5</p></td>
<td><p>RXD0</p></td>
<td><p>RX3</p></td>
<td><p>USART3 RXD3</p></td>
<td><p>COMM 2</p></td>
<td><p>RX3</p></td>
</tr>
<tr class="row-odd"><td><p>PD4</p></td>
<td><p>TXD0</p></td>
<td><p>TX3</p></td>
<td><p>USART3 TXD3</p></td>
<td><p>COMM 1</p></td>
<td><p>TX3</p></td>
</tr>
<tr class="row-even"><td><p>PA12</p></td>
<td><p>RXD1</p></td>
<td><p>RX2</p></td>
<td><p>USART1 RXD1</p></td>
<td><p>COMM 4</p></td>
<td><p>TX2</p></td>
</tr>
<tr class="row-odd"><td><p>PA13</p></td>
<td><p>TXD1</p></td>
<td><p>TX2</p></td>
<td><p>USART1 TXD1</p></td>
<td><p>COMM 3</p></td>
<td><p>RX2</p></td>
</tr>
<tr class="row-even"><td><p>PA10</p></td>
<td><p>RXD2</p></td>
<td><p>RX1</p></td>
<td><p>USART0 RXD0</p></td>
<td><p>COMM 6</p></td>
<td><p>RX1</p></td>
</tr>
<tr class="row-odd"><td><p>PA11</p></td>
<td><p>TXD2</p></td>
<td><p>TX1</p></td>
<td><p>USART0 TXD0</p></td>
<td><p>COMM 5</p></td>
<td><p>TX1</p></td>
</tr>
<tr class="row-even"><td><p>PB21</p></td>
<td><p>AD14(RXD3)</p></td>
<td><p>Digital Pin 52</p></td>
<td><p>USART2 RXD2</p></td>
<td><p>XIO  33</p></td>
<td><p>33</p></td>
</tr>
<tr class="row-odd"><td><p>PB20</p></td>
<td><p>AD11(TXD3)</p></td>
<td><p>Analog In 11</p></td>
<td><p>USART2 TXD2</p></td>
<td><p>ADCH 4</p></td>
<td><p>A11</p></td>
</tr>
</tbody>
</table>
<p>The outputs from these pins is 3.3V. You will need to connect RS232 transceiver
to get the signals to RS232 levels (or connect to the USB virtual COM port in
the case of UART0).</p>
</section>
<section id="loading-code">
<h2>Loading Code<a class="headerlink" href="#loading-code" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>I believe that there have been significant changes to the more recent tool
environment such that Bossac may no longer be usable.  I don’t know that for
certain and perhaps someone with more knowledge of the tools than I could make
this work.  See the Flip’n’Clip SAM3X README file for additional information.</p>
</div>
<section id="installing-the-arduino-usb-driver-under-windows">
<h3>Installing the Arduino USB Driver under Windows:<a class="headerlink" href="#installing-the-arduino-usb-driver-under-windows" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Download the Windows version of the Arduino software, not the 1.0.x release
but the latest (1.5.x or later) that supports the Due. When the download
finishes, unzip the downloaded file.</p>
<p>In the current 1.8.x release, the Arduino Due support is not included in the
base package but can be added by selecting the “Boards Manager” from the
“Tools” menu.</p>
</li>
<li><p>Connect the Due to your computer with a USB cable via the Programming port.</p></li>
<li><p>The Windows driver installation should fail.</p></li>
<li><p>Open the Device Manager</p></li>
<li><p>Look for the listing named “Ports (COM &amp; LPT)”. You should see an open port
named “Arduino Due Prog. Port”.  Right click and select “Update driver”.</p></li>
<li><p>Select the “Browse my computer for Driver software” option.</p></li>
<li><p>Right click on the “Arduino Due Prog. Port” and choose “Update Driver
Software”.</p></li>
<li><p>Navigate to the folder with the Arduino IDE you downloaded and unzipped
earlier. Locate and select the “Drivers” folder in the main Arduino folder
(not the “FTDI USB Drivers” sub-directory).</p></li>
</ol>
</section>
<section id="loading-nuttx-to-the-due-using-bossa">
<h3>Loading NuttX to the Due Using Bossa<a class="headerlink" href="#loading-nuttx-to-the-due-using-bossa" title="Permalink to this heading"></a></h3>
<p>Arduino uses BOSSA under the hood to load code and you can use BOSSA outside of
Arduino. Where do you get it?</p>
<p>Generic BOSSA installation files are available here:
<a class="reference external" href="https://github.com/shumatech/BOSSA">https://github.com/shumatech/BOSSA</a> (formerly at
<a class="reference external" href="http://sourceforge.net/projects/b-o-s-s-a/?source=dlp">http://sourceforge.net/projects/b-o-s-s-a/?source=dlp</a>)</p>
<p>Pre-built binaries are available: <a class="reference external" href="https://github.com/shumatech/BOSSA/releases">https://github.com/shumatech/BOSSA/releases</a></p>
<p>The original Arduino DUE used a patched version of BOSSA available as source
code here: <a class="reference external" href="https://github.com/shumatech/BOSSA/tree/arduino">https://github.com/shumatech/BOSSA/tree/arduino</a> But that has most
likely been incorporated into the main github repository.</p>
<p>But, fortunately, since you already installed Arduino, you already have BOSSA
installed. In my installation, it is here:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">C:\Program Files (x86)\Arduino\arduino-1.5.2\hardware\tools\bossac.exe</span>
</pre></div>
</div>
<p>On Debian like distribution, BOSSA can be install through repository:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo apt install bossa-cli</span>
</pre></div>
</div>
<p><strong>General Procedure</strong></p>
<ol class="arabic simple">
<li><p>Erase the FLASH and put the Due in bootloader mode</p></li>
<li><p>Write the file to FLASH</p></li>
<li><p>Configure to boot from FLASH</p></li>
<li><p>Reset the DUE</p></li>
</ol>
<p>Erase FLASH and Put the Due in Bootloader Mode</p>
<p>This is accomplished by simply configuring the programming port in 1200 baud and
sending something on the programming port. Here is some sample output from a
Windows CMD.exe shell. NOTE that my Arduino programming port shows up as COM26.
It may be different on your system.</p>
<p>To enter boot mode, set the baud to 1200 and send anything to the programming
port:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>C:<span class="se">\P</span>rogram<span class="w"> </span>Files<span class="w"> </span><span class="o">(</span>x86<span class="o">)</span><span class="se">\A</span>rduino<span class="se">\a</span>rduino-1.5.2<span class="se">\h</span>ardware<span class="se">\t</span>ools&gt;mode<span class="w"> </span>com26:1200,n,8,1

<span class="go">Status for device COM26:</span>

<span class="go">    Baud:            1200</span>
<span class="go">    Parity:          None</span>
<span class="go">    Data Bits:       8</span>
<span class="go">    Stop Bits:       1</span>
<span class="go">    Timeout:         ON</span>
<span class="go">    XON/XOFF:        OFF</span>
<span class="go">    CTS handshaking: OFF</span>
<span class="go">    DSR handshaking: OFF</span>
<span class="go">    DSR sensitivity: OFF</span>
<span class="go">    DTR circuit:     ON</span>
<span class="go">    RTS circuit:     ON</span>

<span class="gp">$ </span>C:<span class="se">\P</span>rogram<span class="w"> </span>Files<span class="w"> </span><span class="o">(</span>x86<span class="o">)</span><span class="se">\A</span>rduino<span class="se">\a</span>rduino-1.5.2<span class="se">\h</span>ardware<span class="se">\t</span>ools&gt;bossac.exe<span class="w"> </span>--port<span class="o">=</span>COM26<span class="w"> </span>--usb-port<span class="o">=</span><span class="nb">false</span><span class="w"> </span>-i
<span class="go">Device       : ATSAM3X8</span>
<span class="go">Chip ID      : 285e0a60</span>
<span class="go">Version      : v1.1 Dec 15 2010 19:25:04</span>
<span class="go">Address      : 524288</span>
<span class="go">Pages        : 2048</span>
<span class="go">Page Size    : 256 bytes</span>
<span class="go">Total Size   : 512KB</span>
<span class="go">Planes       : 2</span>
<span class="go">Lock Regions : 32</span>
<span class="go">Locked       : none</span>
<span class="go">Security     : false</span>
<span class="go">Boot Flash   : false</span>
</pre></div>
</div>
</section>
<section id="writing-flash-and-setting-flash-boot-mode">
<h3>Writing FLASH and Setting FLASH Boot Mode<a class="headerlink" href="#writing-flash-and-setting-flash-boot-mode" title="Permalink to this heading"></a></h3>
<p>In a Cygwin BaSH shell:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/cygdrive/c/Program Files (x86)/Arduino/arduino-1.5.2/hardware/tools&quot;</span>:<span class="nv">$PATH</span>

<span class="go">Erasing, writing, and verifying FLASH with bossac:</span>

<span class="gp">$ </span>bossac.exe<span class="w"> </span>--port<span class="o">=</span>COM26<span class="w"> </span>--usb-port<span class="o">=</span><span class="nb">false</span><span class="w"> </span>-e<span class="w"> </span>-w<span class="w"> </span>-v<span class="w"> </span>-b<span class="w"> </span>nuttx.bin<span class="w"> </span>-R
<span class="go">Erase flash</span>
<span class="go">Write 86588 bytes to flash</span>
<span class="go">[==============================] 100% (339/339 pages)</span>
<span class="go">Verify 86588 bytes of flash</span>
<span class="go">[==============================] 100% (339/339 pages)</span>
<span class="go">Verify successful</span>
<span class="go">Set boot flash true</span>
<span class="go">CPU reset.</span>
</pre></div>
</div>
<p>Some things that can go wrong:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>bossac.exe<span class="w"> </span>--port<span class="o">=</span>COM26<span class="w"> </span>--usb-port<span class="o">=</span><span class="nb">false</span><span class="w"> </span>-e<span class="w"> </span>-w<span class="w"> </span>-v<span class="w"> </span>-b<span class="w"> </span>nuttx.bin<span class="w"> </span>-R
<span class="go">No device found on COM26</span>
</pre></div>
</div>
<p>This error means that there is code running on the Due already so the bootloader
cannot connect. Press reset and try again:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>bossac.exe<span class="w"> </span>--port<span class="o">=</span>COM26<span class="w"> </span>--usb-port<span class="o">=</span><span class="nb">false</span><span class="w"> </span>-e<span class="w"> </span>-w<span class="w"> </span>-v<span class="w"> </span>-b<span class="w"> </span>nuttx.bin<span class="w"> </span>-R
<span class="go">No device found on COM26</span>
</pre></div>
</div>
<p>Still no connection because Duo does not jump to bootloader after reset. Press
ERASE button and try again:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>bossac.exe<span class="w"> </span>--port<span class="o">=</span>COM26<span class="w"> </span>--usb-port<span class="o">=</span><span class="nb">false</span><span class="w"> </span>-e<span class="w"> </span>-w<span class="w"> </span>-v<span class="w"> </span>-b<span class="w"> </span>nuttx.bin<span class="w"> </span>-R
<span class="go">Erase flash</span>
<span class="go">Write 86588 bytes to flash</span>
<span class="go">[==============================] 100% (339/339 pages)</span>
<span class="go">Verify 86588 bytes of flash</span>
<span class="go">[==============================] 100% (339/339 pages)</span>
<span class="go">Verify successful</span>
<span class="go">Set boot flash true</span>
<span class="go">CPU reset.</span>
</pre></div>
</div>
<p>In Linux shell:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>bossac<span class="w"> </span>-i<span class="w"> </span>--port<span class="o">=</span>ttyACM0<span class="w"> </span>-U<span class="w"> </span><span class="nb">false</span><span class="w"> </span>-e<span class="w"> </span>-w<span class="w"> </span>-v<span class="w"> </span>-b<span class="w"> </span>nuttx.bin<span class="w"> </span>-R
</pre></div>
</div>
<p>Other useful <code class="docutils literal notranslate"><span class="pre">bossac</span></code> operations:</p>
<ol class="loweralpha">
<li><p>Write code to FLASH don’t change boot mode and don’t reset. This lets you
examine the FLASH contents that you just loaded while the bootloader is still
active.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>bossac.exe<span class="w"> </span>--port<span class="o">=</span>COM26<span class="w"> </span>--usb-port<span class="o">=</span><span class="nb">false</span><span class="w"> </span>-e<span class="w"> </span>-w<span class="w"> </span>-v<span class="w"> </span>--boot<span class="o">=</span><span class="m">0</span><span class="w"> </span>nuttx.bin
<span class="go">Write 64628 bytes to flash</span>
<span class="go">[==============================] 100% (253/253 pages)</span>
<span class="go">Verify 64628 bytes of flash</span>
<span class="go">[==============================] 100% (253/253 pages)</span>
<span class="go">Verify successful</span>
</pre></div>
</div>
</li>
<li><p>Verify the FLASH contents (the bootloader must be running)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>bossac.exe<span class="w"> </span>--port<span class="o">=</span>COM26<span class="w"> </span>--usb-port<span class="o">=</span><span class="nb">false</span><span class="w"> </span>-v<span class="w"> </span>nuttx.bin
<span class="go">Verify 64628 bytes of flash</span>
<span class="go">[==============================] 100% (253/253 pages)</span>
<span class="go">Verify successful</span>
</pre></div>
</div>
</li>
<li><p>Read from FLASH to a file  (the bootloader must be running):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>bossac.exe<span class="w"> </span>--port<span class="o">=</span>COM26<span class="w"> </span>--usb-port<span class="o">=</span><span class="nb">false</span><span class="w"> </span>--read<span class="o">=</span><span class="m">4096</span><span class="w"> </span>nuttx.dump
<span class="go">Read 4096 bytes from flash</span>
<span class="go">[==============================] 100% (16/16 pages)</span>
</pre></div>
</div>
</li>
<li><p>Change to boot from FLASH</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>bossac.exe<span class="w"> </span>--port<span class="o">=</span>COM26<span class="w"> </span>--usb-port<span class="o">=</span><span class="nb">false</span><span class="w"> </span>--boot<span class="o">=</span><span class="m">1</span>
<span class="go">Set boot flash true</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="uploading-nuttx-to-the-due-using-jtag">
<h3>Uploading NuttX to the Due Using JTAG<a class="headerlink" href="#uploading-nuttx-to-the-due-using-jtag" title="Permalink to this heading"></a></h3>
<p>The JTAG/SWD signals are brought out to a 10-pin header JTAG connector:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PIN</p></th>
<th class="head"><p>SIGNAL</p></th>
<th class="head"><p>JTAG STANDARD</p></th>
<th class="head"><p>NOTES</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>3.3V</p></td>
<td><p>VTref</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>JTAG_TMS</p></td>
<td><p>SWDIO/TMS</p></td>
<td><p>SAM3X pin 31, Pulled up on board</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>GND</p></td>
<td><p>GND</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>JTAG_TCK</p></td>
<td><p>SWDCLK/TCK</p></td>
<td><p>SAM3X pin 28, Pulled up on board</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>GND</p></td>
<td><p>GND</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>JTAG_TDO</p></td>
<td><p>SWO/EXta/TRACECTL</p></td>
<td><p>SAM3X pin 30, ulled up on board</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>N/C</p></td>
<td><p>Key</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>JTAG_TDI</p></td>
<td><p>NC/EXTb/TDI</p></td>
<td><p>SAM3X pin 29, Pulled up on board</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>GND</p></td>
<td><p>GNDDetect</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>MASTER-RESET</p></td>
<td><p>nReset</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>You should be able to use a 10 to 20-pin adapter to connect a SAM-ICE debugger
to the Arduino Due. I have this Olimex adapter:
<a class="reference external" href="https://www.olimex.com/Products/ARM/JTAG/ARM-JTAG-20-10/">https://www.olimex.com/Products/ARM/JTAG/ARM-JTAG-20-10/</a>. But so far I have been
unable to get the get the SAM-ICE to communicate with the Due.</p>
</section>
</section>
<section id="arduino-due-specific-configuration-options">
<h2>Arduino DUE-specific Configuration Options<a class="headerlink" href="#arduino-due-specific-configuration-options" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH</span></code>: Identifies the <code class="docutils literal notranslate"><span class="pre">arch/</span></code> subdirectory.  This should be set
to:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH=arm</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_family</span></code>: For use in C code:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_ARM=y</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_architecture</span></code>: For use in C code:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CORTEXM3=y</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP</span></code>: Identifies the <code class="docutils literal notranslate"><span class="pre">arch/*/chip</span></code> subdirectory</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP=&quot;sam34&quot;</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP_name</span></code>: For use in C code to identify the exact chip:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP_SAM34</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP_SAM3X</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_CHIP_ATSAM3X8E</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD</span></code>: Identifies the <code class="docutils literal notranslate"><span class="pre">boards/</span></code> subdirectory and hence, the
board that supports the particular chip or SoC.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD=arduino-due</span> <span class="pre">(for</span> <span class="pre">the</span> <span class="pre">Arduino</span> <span class="pre">Due</span> <span class="pre">development</span> <span class="pre">board)</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD_name</span></code>: For use in C code</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_BOARD_ARDUINO_DUE=y</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LOOPSPERMSEC</span></code>: Must be calibrated for correct operation of
delay loops</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_SIZE</span></code>: Describes the installed DRAM (SRAM in this case):</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_SIZE=65536</span> <span class="pre">(64Kb)</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_START</span></code>: The start address of installed DRAM</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAM_START=0x20000000</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LEDS</span></code>: Use LEDs to show state. Unique to boards that have LEDs</p></li>
</ul>
<p>Individual subsystems can be enabled:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_ADC12B</span></code>: 12-bit Analog To Digital Converter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_CAN0</span></code>: CAN Controller 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_CAN1</span></code>: CAN Controller 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_DACC</span></code>: Digital To Analog Converter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_DMAC0</span></code>: DMA Controller</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_EMAC</span></code>: Ethernet MAC</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_HSMCI</span></code>: High Speed Multimedia Card Interface</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_PWM</span></code>: Pulse Width Modulation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_RTC</span></code>: Real Time Clock</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_RTT</span></code>: Real Time Timer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_SDRAMC</span></code>: SDRAM Controller</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_SMC</span></code>: Static Memory Controller</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_SPI0</span></code>: Serial Peripheral Interface 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_SPI1</span></code>: Serial Peripheral Interface 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_SSC</span></code>: Synchronous Serial Controller</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC0</span></code>: Timer Counter 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC1</span></code>: Timer Counter 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC2</span></code>: Timer Counter 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC3</span></code>: Timer Counter 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC4</span></code>: Timer Counter 4</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC5</span></code>: Timer Counter 5</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC6</span></code>: Timer Counter 6</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC7</span></code>: Timer Counter 7</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TC8</span></code>: Timer Counter 8</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TRNG</span></code>: True Random Number Generator</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TWIM</span></code>/<code class="docutils literal notranslate"><span class="pre">S0</span></code>: Two-Wire Interface 0 (master/slave)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_TWIM</span></code>/<code class="docutils literal notranslate"><span class="pre">S1</span></code>: Two-Wire Interface 1 (master/slave)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_UART0</span></code>: UART 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_UOTGHS</span></code>: USB OTG High Speed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USART0</span></code>: USART 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USART1</span></code>: USART 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USART2</span></code>: USART 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USART3</span></code>: USART 3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_WDT</span></code>: Watchdog Timer</p></li>
</ul>
<p>Some subsystems can be configured to operate in different ways. The drivers
need to know how to configure the subsystem.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIOA_IRQ</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIOB_IRQ</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIOC_IRQ</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIOD_IRQ</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIOE_IRQ</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIOF_IRQ</span></code></p></li>
</ul>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this heading"></a></h2>
<p>Each Arduino Due configuration is maintained in a sub-directory and
can be selected as follow:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tools/configure.sh<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>arduino-due:&lt;subdir&gt;
</pre></div>
</div>
<p>Where typical options are <code class="docutils literal notranslate"><span class="pre">-l</span></code> to configure to build on Linux or <code class="docutils literal notranslate"><span class="pre">-c</span></code> to
configure for Cygwin under Linux. <code class="docutils literal notranslate"><span class="pre">tools/configure.sh</span> <span class="pre">-h</span></code> will show you all of
the options.</p>
<p>Before building, make sure the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable includes the
correct path to the directory than holds your toolchain binaries.</p>
<p>And then build NuttX by simply typing the following. At the conclusion of the
make, the nuttx binary will reside in an ELF file called, simply, <code class="docutils literal notranslate"><span class="pre">nuttx</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;subdir&gt;</span></code> that is provided above as an argument to the
<code class="docutils literal notranslate"><span class="pre">tools/configure.sh</span></code> must be one of the following.</p>
<ol class="arabic simple">
<li><p>These configurations use the mconf-based configuration tool.  To
change any of these configurations using that tool, you should:</p></li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Build and install the kconfig-mconf tool.  See nuttx/README.txt
see additional README.txt files in the NuttX tools repository.</p></li>
<li><p>Execute ‘make menuconfig’ in nuttx/ in order to start the
reconfiguration process.</p></li>
</ol>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>Unless stated otherwise, all configurations generate console
output on UART0 which is available both on the USB virtual COM port
and on the PWML connector (see the section “Serial Consoles” above).</p>
<p>However, the pin usage by the ITEAD TFT shield conflict with the pin
usage for UART0.  In this case you need to switch to USART0 by
modifying the configuration as follows:</p>
<p>Board Selection -&gt; Peripheral</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_UART0=n</span></code>: Disable UART0.  Can’t use with this shield</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USART0=y</span></code>: Enable USART0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_SERIALDRIVER=y</span></code></p></li>
</ul>
<p>Device Drivers -&gt; Serial</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_SERIAL_CONSOLE=y</span></code>: Configure the console on USART0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_RXBUFSIZE=256</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_TXBUFSIZE=256</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_BAUD=115200</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_BITS=8</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_PARITY=0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_2STOP=0</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>USART0 TTL levels are available on COMM 5 (TXD0) and COMM 6 (RXD0).</p>
</div>
</li>
<li><p>Unless otherwise stated, the configurations are setup for
Linux (or any other POSIX environment like Cygwin under Windows):</p>
<p>Build Setup:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_HOST_LINUX=y</span></code>: Linux or other POSIX environment</p></li>
</ul>
</li>
<li><p>These configurations use the older, OABI, buildroot toolchain.  But
that is easily reconfigured:</p>
<p>System Type -&gt; Toolchain:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARM_TOOLCHAIN_BUILDROOT=y</span></code>: Buildroot toolchain</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARM_TOOLCHAIN_BUILDROOT_OABI=y</span></code>: Older, OABI toolchain</p></li>
</ul>
<p>If you want to use the Atmel GCC toolchain, here are the steps to
do so:</p>
<p>Build Setup:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_HOST_WINDOWS=y</span></code>: Windows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_HOST_CYGWIN=y</span></code>: Using Cygwin or other POSIX environment</p></li>
</ul>
<p>System Type -&gt; Toolchain:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARM_TOOLCHAIN_GNU_EABI=y</span></code>: General GCC EABI toolchain under windows</p></li>
</ul>
<p>This re-configuration should be done before making NuttX or else the
subsequent <code class="docutils literal notranslate"><span class="pre">make</span></code> will fail. If you have already attempted building
NuttX then you will have to:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">distclean</span></code> to remove the old configuration</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tools/configure.sh</span> <span class="pre">sam3u-ek/ksnh</span></code> to start with a fresh configuration</p></li>
<li><p>Perform the configuration changes above.</p></li>
</ol>
<p>Also, make sure that your <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable has the new path to your
Atmel tools. Try <code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">arm-none-eabi-gcc</span></code> to make sure that you
are selecting the right tool.</p>
</li>
</ol>
<section id="nsh">
<h3>nsh<a class="headerlink" href="#nsh" title="Permalink to this heading"></a></h3>
<p>This configuration directory will build the NuttShell.</p>
<ol class="arabic">
<li><p>NSH built-in applications are supported.  However, there are
no built-in applications built with the default configuration.</p>
<p>Binary Formats:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_BUILTIN=y</span></code>: Enable support for built-in programs</p></li>
</ul>
<p>Application Configuration:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_BUILTIN_APPS=y</span></code>: Enable starting apps from NSH command line</p></li>
</ul>
</li>
<li><p>By default, this configuration uses UART0 and has support LEDs enabled.
UART0 output is available on the USB debugging port or on pins 0-1 of
the PWML connector.</p>
<p>This configuration can be modified to use peripherals on the ITEAD
TFT shield as described below. However, in that case the UART0 and
LED “L” GPIO pins conflict with the pin usage by the ITEAD TFT
Shield. In this case you need to switch to USART0 and disable LEDs
by modifying the configuration as follows:</p>
<p>Board Selection -&gt; Peripheral</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_UART0=n</span></code>: Disable UART0.  Can’t use with this shield</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_USART0=y</span></code>: Enable USART0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_SERIALDRIVER=y</span></code></p></li>
</ul>
<p>Device Drivers -&gt; Serial</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_SERIAL_CONSOLE=y</span></code>: Configure the console on USART0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_RXBUFSIZE=256</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_TXBUFSIZE=256</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_BAUD=115200</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_BITS=8</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_PARITY=0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_USART0_2STOP=0</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>USART0 TTL levels are available on COMM 5 (TXD0) and COMM 6 (RXD0)</p>
</div>
<p>Board Selection -&gt; Board-Specific Options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARCH_LEDS=n</span></code>: Can’t support LEDs with this shield installed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARDUINO_ITHEAD_TFT=y</span></code>: Enable support for the Shield</p></li>
</ul>
</li>
<li><p>If the ITEAD TFT shield is connected to the Arduino Due, then
support for the SD card slot can be enabled by making the following
changes to the configuration:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You cannot use UART0 or LEDs with this ITEAD module. You must switch
to USART0 and disable LED support as described above.</p>
</div>
<p>Board Selection -&gt; Board-Specific Options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARDUINO_ITHEAD_TFT=y</span></code>: Enable support for the Shield</p></li>
</ul>
<p>File Systems:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT=n</span></code>: Mountpoint support is needed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FS_FAT=y</span></code>: Enable the FAT file system</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FAT_LCNAMES=y</span></code>: Enable upper/lower case 8.3 file names (Optional, see below)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FAT_LFN=y</span></code>: Enable long file named (Optional, see below)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FAT_MAXFNAME=32</span></code>: Maximum supported file name length</p></li>
</ul>
<p>There are issues related to patents that Microsoft holds on FAT long file
name technologies. See the top level NOTICE file for further details.</p>
<p>Device Drivers</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI=y</span></code>: Enable SPI support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI_EXCHANGE=y</span></code>: The exchange() method is supported</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI_BITBANG=y</span></code>: Enable SPI bit-bang support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD=y</span></code>: Enable MMC/SD support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_NSLOTS=1</span></code>: Only one MMC/SD card slot</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_MULTIBLOCK_LIMIT=0</span></code>: Should not need to disable multi-block transfers</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_HAVE_CARDDETECT=y</span></code>: I/O1 module as a card detect GPIO</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_SPI=y</span></code>: Use the SPI interface to the MMC/SD card</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_SPICLOCK=20000000</span></code>: This is a guess for the optimal MMC/SD frequency</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MMCSD_SPIMODE=0</span></code>: Mode 0 is required</p></li>
</ul>
<p>Board Selection -&gt; Common Board Options</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ARCHINIT=y</span></code>: Initialize the MMC/SD slot when NSH starts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_MMCSDSLOTNO=0</span></code>: Only one MMC/SD slot, slot 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_MMCSDSPIPORTNO=0</span></code>: (does not really matter in this case)</p></li>
</ul>
<p>Application Configuration -&gt; NSH Library</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ARCHINIT=y</span></code>: Board has architecture-specific initialization</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>2013-7-2: SD card is not responding. All 0’s received on SPI.</p>
</div>
</li>
</ol>
<ol class="arabic" start="3">
<li><p>This configuration has been used for verifying the touchscreen on
on the ITEAD TFT Shield.  With the modifications below, you can
include the touchscreen test program at apps/examples/touchscreen as
an NSH built-in application.  You can enable the touchscreen and test
by modifying the  default configuration in the following ways:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You cannot use UART0 or LEDs with this ITEAD module.  You must switch
to USART0 and disable LED support as described above.</p>
</div>
<p>Board Selection -&gt; Board-Specific Options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ARDUINO_ITHEAD_TFT=y</span></code>: Enable support for the Shield</p></li>
</ul>
<p>Device Drivers</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI=y</span></code>: Enable SPI support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI_EXCHANGE=y</span></code>: The exchange() method is supported</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SPI_BITBANG=y</span></code>: Enable SPI bit-bang support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_INPUT=y</span></code>: Enable support for input devices</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_INPUT_ADS7843E=y</span></code>: Enable support for the XPT2046</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ADS7843E_SPIDEV=0</span></code>: (Doesn’t matter)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ADS7843E_SPIMODE=0</span></code>: Use SPI mode 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ADS7843E_FREQUENCY=1000000</span></code>: SPI BAUD 1MHz</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ADS7843E_SWAPXY=y</span></code>: If landscape orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ADS7843E_THRESHX=51</span></code>: These will probably need to be tuned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_ADS7843E_THRESHY=39</span></code></p></li>
</ul>
<p>System Type:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIO_IRQ=y</span></code>: GPIO interrupt support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SAM34_GPIOC_IRQ=y</span></code>: Enable GPIO interrupts from port C</p></li>
</ul>
<p>Library Support:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_SCHED_WORKQUEUE=y</span></code>: Work queue support required</p></li>
</ul>
<p>Application Configuration:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_EXAMPLES_TOUCHSCREEN=y</span></code>: Enable the touchscreen built-int test</p></li>
</ul>
<p>Defaults should be okay for related touchscreen settings. Touchscreen
debug output on USART0 can be enabled with:</p>
<p>Build Setup:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_DEBUG_FEATURES=y</span></code>: Enable debug features</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_DEBUG_INFO=y</span></code>: Enable verbose debug output</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_DEBUG_INPUT=y</span></code>: Enable debug output from input devices</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>2013-7-2:  TSC is not responding.  All 0’s received on SPI.</p>
</div>
</li>
</ol>
</section>
<section id="nsh-leds">
<h3>nsh-leds<a class="headerlink" href="#nsh-leds" title="Permalink to this heading"></a></h3>
<p>This configuration directory will build the NuttX Shell and enable the user LEDS
(<code class="docutils literal notranslate"><span class="pre">/dev/userleds</span></code>). It will also enable the LED example program (<code class="docutils literal notranslate"><span class="pre">leds</span></code>).
Running the leds command will start up an LED daemon which will light up the L
(user), TX, and RX LEDs in a binary sequence.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../index.html" class="btn btn-neutral float-left" title="Microchip SAM34" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../flipnclick-sam3x/index.html" class="btn btn-neutral float-right" title="Flip&amp;Click SAM3X" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>