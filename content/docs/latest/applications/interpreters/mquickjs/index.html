<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mquickjs MicroQuickJS JavaScript interpreter &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_collapse.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
      <script src="../../../_static/jquery.js"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
      <script src="../../../_static/doctools.js"></script>
      <script src="../../../_static/sphinx_highlight.js"></script>
      <script src="../../../_static/clipboard.min.js"></script>
      <script src="../../../_static/copybutton.js"></script>
      <script src="../../../_static/design-tabs.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Python Python interpreter" href="../python/index.html" />
    <link rel="prev" title="minibasic Mini Basic Interpreter" href="../minibasic/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../12.5.1" >12.5.1</option>
    
    <option value="../../../../12.6.0" >12.6.0</option>
    
    <option value="../../../../12.7.0" >12.7.0</option>
    
    <option value="../../../../12.8.0" >12.8.0</option>
    
    <option value="../../../../12.9.0" >12.9.0</option>
    
    <option value="../../../../12.10.0" >12.10.0</option>
    
    <option value="../../../../12.11.0" >12.11.0</option>
    
    <option value="../../../../12.12.0" >12.12.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../platforms/index.html">Supported Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../components/index.html">OS Components</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../audioutils/index.html">Audio Utility libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../boot/index.html">Bootloader Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../benchmarks/index.html">Benchmark Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../canutils/index.html">CAN Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../crypto/index.html">Cryptography Library Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fsutils/index.html">File System Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../games/index.html">Games</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../graphics/index.html">Graphics Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../industry/index.html">Industrial Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inertial/index.html">Inertial Libraries Support</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Interpreters</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../bas/index.html"><code class="docutils literal notranslate"><span class="pre">bas</span></code> Bas BASIC Interpreter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../duktape/index.html"><code class="docutils literal notranslate"><span class="pre">duktape</span></code> Duktape JavaScript interpreter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ficl/index.html"><code class="docutils literal notranslate"><span class="pre">ficl</span></code> Ficl Forth interpreter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lua/index.html"><code class="docutils literal notranslate"><span class="pre">lua</span></code> Lua interpreter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../luajit/index.html"><code class="docutils literal notranslate"><span class="pre">luajit</span></code> LuaJIT interpreter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../minibasic/index.html"><code class="docutils literal notranslate"><span class="pre">minibasic</span></code> Mini Basic Interpreter</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">mquickjs</span></code> MicroQuickJS JavaScript interpreter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#strict-mode">Strict Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-options">Configuration Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#features">Features</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../python/index.html"><code class="docutils literal notranslate"><span class="pre">Python</span></code> Python interpreter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quickjs/index.html"><code class="docutils literal notranslate"><span class="pre">quickjs</span></code> QuickJS JavaScript interpreter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../toywasm/index.html"><code class="docutils literal notranslate"><span class="pre">toywasm</span></code> Toywasm Webassembly Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="../wamr/index.html"><code class="docutils literal notranslate"><span class="pre">wamr</span></code> Webassembly Micro Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="../wasm3/index.html"><code class="docutils literal notranslate"><span class="pre">wasm3</span></code> WASM3 Webassembly Runtime</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../logging/index.html">Logging Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lte/index.html">LTE Libraries and NSH Add-Ons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../math/index.html">Math Library Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mlearing/index.html">Machine Learning Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../netutils/index.html">Network Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nsh/index.html">NuttShell (NSH)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sdr/index.html">Software Defined Radio Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../system/index.html">System Libraries and NSH Add-Ons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing/index.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/index.html">Host Side Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../wireless/index.html">Wireless Libraries and NSH Add-Ons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../standards/index.html">Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Applications</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Interpreters</a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">mquickjs</span></code> MicroQuickJS JavaScript interpreter</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/apache/nuttx/blob/master/Documentation/applications/interpreters/mquickjs/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mquickjs-microquickjs-javascript-interpreter">
<h1><code class="docutils literal notranslate"><span class="pre">mquickjs</span></code> MicroQuickJS JavaScript interpreter<a class="headerlink" href="#mquickjs-microquickjs-javascript-interpreter" title="Permalink to this heading"></a></h1>
<p>This is a port of <a class="reference external" href="https://github.com/bellard/mquickjs">MicroQuickJS</a>, a lightweight JavaScript
interpreter created by Fabrice Bellard. MicroQuickJS is designed for resource-constrained embedded
systems, offering a minimal footprint while still providing JavaScript language support.</p>
<section id="strict-mode">
<h2>Strict Mode<a class="headerlink" href="#strict-mode" title="Permalink to this heading"></a></h2>
<p>MQuickJS operates in a <strong>stricter mode</strong> where certain error-prone or inefficient JavaScript
features are disabled. Key restrictions include:</p>
<ul class="simple">
<li><p>Only strict mode constructs are supported (no <code class="docutils literal notranslate"><span class="pre">with</span></code> keyword, global variables must use <code class="docutils literal notranslate"><span class="pre">var</span></code>)</p></li>
<li><p>Arrays cannot have holes; out-of-bounds array writes (except at array end) throw TypeError</p></li>
<li><p>Only global <code class="docutils literal notranslate"><span class="pre">eval</span></code> is supported; indirect eval cannot access local variables</p></li>
<li><p>No value boxing (e.g., <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">Number(1)</span></code> is not supported)</p></li>
</ul>
</section>
<section id="configuration-options">
<h2>Configuration Options<a class="headerlink" href="#configuration-options" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">CONFIG_INTERPRETERS_MQJS</span></code></dt><dd><p>Enable the MicroQuickJS JavaScript interpreter (default: n)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CONFIG_INTERPRETERS_MQJS_PRIORITY</span></code></dt><dd><p>Task priority for the interpreter (default: 100)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CONFIG_INTERPRETERS_MQJS_STACKSIZE</span></code></dt><dd><p>Stack size for the interpreter in bytes (default: 8192)</p>
</dd>
</dl>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">mqjs</span></code> command is available in NSH with the following options:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mqjs [options] [file [args]]

Options:
  -h, --help           List options
  -e, --eval EXPR      Evaluate expression
  -i, --interactive    Go to interactive mode
  -I, --include file   Include additional file
  -d, --dump           Dump memory usage stats
  --memory-limit n     Limit memory usage to n bytes
  --no-column          No column number in debug info
  -o FILE              Save bytecode to FILE
  -m32                 Force 32-bit bytecode output
  -b, --allow-bytecode Allow bytecode in input file
</pre></div>
</div>
<p>Examples:</p>
<ul class="simple">
<li><p>Execute a script: <code class="docutils literal notranslate"><span class="pre">mqjs</span> <span class="pre">script.js</span></code></p></li>
<li><p>Interactive REPL: <code class="docutils literal notranslate"><span class="pre">mqjs</span> <span class="pre">-i</span></code></p></li>
<li><p>Run with memory limit: <code class="docutils literal notranslate"><span class="pre">mqjs</span> <span class="pre">--memory-limit</span> <span class="pre">10k</span> <span class="pre">script.js</span></code></p></li>
<li><p>Evaluate expression: <code class="docutils literal notranslate"><span class="pre">mqjs</span> <span class="pre">-e</span> <span class="pre">'print(&quot;Hello&quot;)'</span></code></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Important</strong>: The default memory limit is 16 MB (<code class="docutils literal notranslate"><span class="pre">16</span> <span class="pre">&lt;&lt;</span> <span class="pre">20</span></code> bytes), which is too large
for most embedded systems. <strong>Always set a memory limit</strong> when running mquickjs on NuttX,
typically using <code class="docutils literal notranslate"><span class="pre">--memory-limit</span> <span class="pre">10k</span></code> or similar small value. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nsh&gt; mqjs --memory-limit 10k script.js
</pre></div>
</div>
<p>Without a memory limit, mquickjs may exhaust system memory and cause instability.</p>
</div>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><strong>JavaScript subset</strong>: Implements a strict ES5-compatible subset of JavaScript with stricter mode that disables error-prone or inefficient constructs</p></li>
<li><p><strong>Tracing garbage collector</strong>: Compactive GC for smaller objects and reduced memory fragmentation</p></li>
<li><p><strong>ROM-based standard library</strong>: Standard library resides in ROM, generated at compile time for fast instantiation</p></li>
<li><p><strong>Bytecode compilation</strong>: Can compile to bytecode and save to persistent storage (file or ROM) for embedded systems</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../minibasic/index.html" class="btn btn-neutral float-left" title="minibasic Mini Basic Interpreter" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../python/index.html" class="btn btn-neutral float-right" title="Python Python interpreter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>