<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Teensy-4.x &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="Nordic nRF52" href="../../../nrf52/index.html" />
    <link rel="prev" title="i.MX RT1064 EVK" href="../imxrt1064-evk/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
    
    <img src="../../../../../_static/NuttX.png" class="logo" alt="Logo"/>
  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">ARM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../a64/index.html">Allwinner A64</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">i.MX RT</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../index.html#supported-mcus">Supported MCUs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#data-and-instruction-cache">Data and Instruction Cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#tickless-os">Tickless OS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#peripheral-support">Peripheral Support</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="../imxrt1020-evk/index.html">i.MX RT1020 EVK</a></li>
<li class="toctree-l5"><a class="reference internal" href="../imxrt1050-evk/index.html">i.MX RT1050 EVK</a></li>
<li class="toctree-l5"><a class="reference internal" href="../imxrt1060-evk/index.html">i.MX RT1060 EVK</a></li>
<li class="toctree-l5"><a class="reference internal" href="../imxrt1064-evk/index.html">i.MX RT1064 EVK</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">Teensy-4.x</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/index.html">Nordic nRF52</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp2040/index.html">rp2040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k1xx/index.html">NXP S32K1XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k3xx/index.html">NXP S32K3XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wl5/index.html">STM32WL5</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../xtensa/index.html">Xtensa</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../../index.html">Supported Platforms</a> &raquo;</li>
          <li><a href="../../../index.html">ARM</a> &raquo;</li>
          <li><a href="../../index.html">i.MX RT</a> &raquo;</li>
      <li>Teensy-4.x</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../_sources/platforms/arm/imxrt/boards/teensy-4.x/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="teensy-4-x">
<h1>Teensy-4.x<a class="headerlink" href="#teensy-4-x" title="Permalink to this headline"></a></h1>
<p>The <a class="reference external" href="https://www.pjrc.com/store/teensy40.html">Teensy 4.0</a> and <a class="reference external" href="https://www.pjrc.com/store/teensy41.html">Teensy 4.1</a>
are development boards from PJRC. Both boards use i.MX RT1060 MCU, feature several I/Os pins and on-board LED.</p>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>Processor</dt><dd><ul>
<li><p>MIMXRT1062DVL6A processor</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Memory</dt><dd><ul>
<li><p>1 MB RAM memory</p></li>
<li><p>2 MB Flash (Teensy 4.0)</p></li>
<li><p>8 MB Flash (Teensy 4.1)</p></li>
<li><p>1 SDIO (4 bit) native SD</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Connectivity</dt><dd><ul>
<li><p>Micro USB host</p></li>
<li><p>CAN transceivers</p></li>
<li><p>UART, SPI, I2C</p></li>
<li><p>PWM output pins</p></li>
<li><p>10/100 Mb Ethernet (Teensy 4.1 only)</p></li>
<li><p>Digital audio in/out</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="leds">
<h2>LEDs<a class="headerlink" href="#leds" title="Permalink to this headline"></a></h2>
<p>There are two LED status indicators located on the Teensy-4.x board.
The functions of these LEDs include:</p>
<ul class="simple">
<li><dl class="simple">
<dt>RED LED (loading status)</dt><dd><ul>
<li><p>dim:    ready</p></li>
<li><p>bright: writing</p></li>
<li><p>blink:  no USB</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>USER LED (D3)</p></li>
</ul>
<p>Only a single LED, D3, is under software control.</p>
<p>This LED is not used by the board port unless CONFIG_ARCH_LEDS is
defined. In that case, the usage by the board port is defined in
include/board.h and src/imxrt_autoleds.c. The LED is used to encode
OS-related events as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 52%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SYMBOL</p></th>
<th class="head"><p>Meaning</p></th>
<th class="head"><p>LED</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LED_STARTED</p></td>
<td><p>NuttX has been started</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p>LED_HEAPALLOCATE</p></td>
<td><p>Heap has been allocated</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-even"><td><p>LED_IRQSENABLED</p></td>
<td><p>Interrupts enabled</p></td>
<td><p>OFF</p></td>
</tr>
<tr class="row-odd"><td><p>LED_STACKCREATED</p></td>
<td><p>Idle stack created</p></td>
<td><p>ON</p></td>
</tr>
<tr class="row-even"><td><p>LED_INIRQ</p></td>
<td><p>In an interrupt</p></td>
<td><p>N/C</p></td>
</tr>
<tr class="row-odd"><td><p>LED_SIGNAL</p></td>
<td><p>In a signal handler</p></td>
<td><p>N/C</p></td>
</tr>
<tr class="row-even"><td><p>LED_ASSERTION</p></td>
<td><p>An assertion failed</p></td>
<td><p>N/C</p></td>
</tr>
<tr class="row-odd"><td><p>LED_PANIC</p></td>
<td><p>The system has crashed</p></td>
<td><p>FLASH</p></td>
</tr>
</tbody>
</table>
<p>Thus if the LED is statically on, NuttX has successfully booted and is,
apparently, running normally. If the LED is flashing at approximately
2Hz, then a fatal error has been detected and the system has halted.</p>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this headline"></a></h2>
<section id="nsh-4-0">
<h3>nsh-4.0<a class="headerlink" href="#nsh-4-0" title="Permalink to this headline"></a></h3>
<p>Configures the NuttShell (nsh) located at examples/nsh for Teensy 4.0.
This NSH configuration is focused on low level, command-line driver testing.
Built-in applications are supported, but none are enabled. NutShells then
runs on USB console.</p>
</section>
<section id="nsh-4-1">
<h3>nsh-4.1<a class="headerlink" href="#nsh-4-1" title="Permalink to this headline"></a></h3>
<p>Configures the NuttShell (nsh) located at examples/nsh for Teensy 4.1.
This NSH configuration is focused on low level, command-line driver testing.
Built-in applications are supported, but none are enabled. NutShells then
runs USB console.</p>
</section>
<section id="can-4-1">
<h3>can-4.1<a class="headerlink" href="#can-4-1" title="Permalink to this headline"></a></h3>
<p>This is an nsh configuration (see above) for Teensy-4.x with added support of
CAN driver. All FlexCANs (CAN1, CAN2, CAN3) are chosen as default. FlexCAN3
is FD capable. Please note that device driver name if counted from zero.
That means for CAN1 -&gt; can0, CAN2 -&gt; can1 and CAN3 -&gt; can2</p>
<p>Bitrate and sample point can be also changed at System type peripheral selection,
basic values are 1 MHz for bitrate and 0.80 for sample point. The FlexCAN driver
for imxrt runs at 80 MHz clock frequency.</p>
<p>The configuration also includes CAN utilities as candump and cansend.</p>
<p>This configuration can be easily changed to work with Teensy 4.0 by
selecting <code class="docutils literal notranslate"><span class="pre">CONFIG_TEENSY_40=y</span></code>.</p>
<p>This configuration runs over LPUART1 (pins 24 and 25 on Teensy). Communication
over USB console can be turn on, but it causes problems with FlexCAN.</p>
</section>
<section id="enc-4-1">
<h3>enc-4.1<a class="headerlink" href="#enc-4-1" title="Permalink to this headline"></a></h3>
<p>This is an nsh configuration (see above) with added support of incremental
encoder. Phase A is connected to GPIO_EMC_07 (pin 33), phase B to GPIO_EMC_06
(pin 4) and INDEX to GPIO_B0_12 (pin 32). Only encoder 1 is connected to those
pins.</p>
<p>Function of the encoder can be tested by application “qe”.</p>
</section>
<section id="netnsh-4-1">
<h3>netnsh-4.1<a class="headerlink" href="#netnsh-4-1" title="Permalink to this headline"></a></h3>
<p>This configuration is similar to the nsh configuration except that is
has networking enabled, both IPv4 and IPv6. This NSH configuration is
focused on network-related testing.</p>
<p>This configuration cannot be changed to Teensy 4.0 as this board does
not have Ethernet capability.</p>
</section>
<section id="pikron-bb">
<h3>pikron-bb<a class="headerlink" href="#pikron-bb" title="Permalink to this headline"></a></h3>
<p>This is a configuration that compiles the NuttX for use with
open source/hardware <a class="reference external" href="https://gitlab.com/pikron/projects/imxrt-devel/-/wikis/teensy_bb">Base Board for Teensy 4.1</a>.
It includes CAN drivers, communication over serial port, Ethernet
support, support for 240 x 320 pixels LCD display and configuration
options for using NuttX with pysimCoder. NuttX also runs in
tickless mode with the resolution 10 usec.</p>
<p>This configuration cannot be changed to Teensy 4.0 as base board
is not designed for that.</p>
</section>
<section id="pwm-4-1">
<h3>pwm-4.1<a class="headerlink" href="#pwm-4-1" title="Permalink to this headline"></a></h3>
<p>This configuration is similar to the nsh configuration with enabled
FlexPWM driver. Submodules 1 (pin 4) and 2 (pin 5) of FlexPWM2 are turned
on as well as multiple channel PWM output. Functionality can be tested
with example application “pwm”. Each channel runs different duty cycle.</p>
<p>This configuration can be easily changed to work with Teensy 4.0 by
selecting <code class="docutils literal notranslate"><span class="pre">CONFIG_TEENSY_40=y</span></code>.</p>
</section>
<section id="sd-4-1">
<h3>sd-4.1<a class="headerlink" href="#sd-4-1" title="Permalink to this headline"></a></h3>
<p>This is an nsh configuration (see above) for Teensy-4.x with added support of
connecting micro SD card.</p>
<p>You can mount micro SD card by:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mount -t vfat /dev/mmcsd0 /mnt
</pre></div>
</div>
<p>This configuration cannot be changed to Teensy 4.0 as this board does
not have micro SD card slot.</p>
</section>
<section id="lcd-4-1">
<h3>lcd-4.1<a class="headerlink" href="#lcd-4-1" title="Permalink to this headline"></a></h3>
<p>This is an nsh configuration (see above) for Teensy-4.x with added support of
connecting LCD TFT display with ST7789 controller. You can run framebuffer demo
by starting “fb” in console. The LCD display is connected via SPI4.</p>
<p>This configuration can be easily changed to work with Teensy 4.0 by
selecting <code class="docutils literal notranslate"><span class="pre">CONFIG_TEENSY_40=y</span></code>.</p>
</section>
</section>
<section id="flash">
<h2>Flash<a class="headerlink" href="#flash" title="Permalink to this headline"></a></h2>
<p>Teensy 4.x boards does not have debugger therefore external firmware has to be used to load NuttX.
<a class="reference external" href="https://www.pjrc.com/teensy/loader_cli.html">Teensy Loader</a> can be installed and then NuttX can be loaded by:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>teensy_loader_cli --mcu<span class="o">=</span>TEENSY41 -v -w nuttx.hex
</pre></div>
</div>
<p>For Teensy 4.0 board, switch <code class="docutils literal notranslate"><span class="pre">--mcu=TEENSY41</span></code> to <code class="docutils literal notranslate"><span class="pre">--mcu=TEENSY40</span></code>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../imxrt1064-evk/index.html" class="btn btn-neutral float-left" title="i.MX RT1064 EVK" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../nrf52/index.html" class="btn btn-neutral float-right" title="Nordic nRF52" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>