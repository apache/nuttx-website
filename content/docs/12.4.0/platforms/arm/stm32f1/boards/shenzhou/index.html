<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shenzhou IV &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/sphinx_highlight.js"></script>
        <script src="../../../../../_static/clipboard.min.js"></script>
        <script src="../../../../../_static/copybutton.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="ST STM3210E-EVAL" href="../stm3210e-eval/index.html" />
    <link rel="prev" title="olimexino-stm32" href="../olimexino-stm32/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../../../12.5.1" >12.5.1</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">ARM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../a1x/index.html">Allwinner A10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../am335x/index.html">TI/Sitara AM335x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../at32/index.html">Artery AT32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bcm2708/index.html">Broadcom BCM2708 (removed)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../c5471/index.html">TI TMS320-C5471</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../cxd56xx/index.html">Sony CXD56xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../dm320/index.html">TI TMS320-DM320</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../efm32/index.html">SiLabs EFM32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../eoss3/index.html">EOSS3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fvp-v8r-aarch32/index.html">FVP ARMv8-R Virt Chip</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../gd32f4/index.html">GD32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../goldfish/index.html">GOLDFISH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx1/index.html">NXP/Freescale i.MX1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx6/index.html">NXP/Freescale i.MX6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imxrt/index.html">NXP i.MX RT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kinetis/index.html">NXP/FreeScale Kinetis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../kl/index.html">NXP/FreeScale KLxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lc823450/index.html">ON Semiconductor LC823450</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc17xx/index.html">NXP LPC17xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc214x/index.html">NXP LPC214x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc2378/index.html">NXP LPC2378</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc31xx/index.html">NXP LPC31xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc40xx/index.html">NXP LPC40xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc43xx/index.html">NXP LPC43xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lpc54xx/index.html">NXP LPC54xx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../max326xx/index.html">Maxim Integrated MAX32660</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../moxart/index.html">Moxa NP51x0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf52/index.html">Nordic nRF52</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf53/index.html">Nordic nRF53</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nrf91/index.html">Nordic nRF91</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nuc1xx/index.html">nuvoTon NUC120</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../phy62xx/index.html">PHY+ PHY62</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../qemu/index.html">QEMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rp2040/index.html">RaspberryPi rp2040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k1xx/index.html">NXP S32K1XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../s32k3xx/index.html">NXP S32K3XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sam34/index.html">Microchip SAM34</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sama5/index.html">Microchip SAMA5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd2l2/index.html">Microchip SAMD2x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samd5e5/index.html">Microchip samd5e5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../samv7/index.html">Microchip SAM V7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f0/index.html">ST STM32F0</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">ST STM32F1</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../index.html#supported-mcus">Supported MCUs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html#peripheral-support">Peripheral Support</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="../cloudctrl/index.html">CloudController</a></li>
<li class="toctree-l5"><a class="reference internal" href="../et-stm32-stamp/index.html">ET-STM32 Stamp</a></li>
<li class="toctree-l5"><a class="reference internal" href="../fire-stm32v2/index.html">fire-stm2v2</a></li>
<li class="toctree-l5"><a class="reference internal" href="../hymini-stm32/index.html">HY-MiniSTM32V</a></li>
<li class="toctree-l5"><a class="reference internal" href="../maple/index.html">maple</a></li>
<li class="toctree-l5"><a class="reference internal" href="../nucleo-f103rb/index.html">ST Nucleo F103RB</a></li>
<li class="toctree-l5"><a class="reference internal" href="../olimexino-stm32/index.html">olimexino-stm32</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">Shenzhou IV</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm3210e-eval/index.html">ST STM3210E-EVAL</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32_tiny/index.html">STM32 Tiny</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32butterfly2/index.html">STM32BUTTERFLY2</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32f103-minimum/index.html">stm32f103-minimum</a></li>
<li class="toctree-l5"><a class="reference internal" href="../stm32vldiscovery/index.html">ST STM32VLDiscovery</a></li>
<li class="toctree-l5"><a class="reference internal" href="../viewtool-stm32f107/index.html">ViewTool STM32F103/F107</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f2/index.html">ST STM32F2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f3/index.html">ST STM32F3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f4/index.html">ST STM32F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32f7/index.html">ST STM32F7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g0/index.html">ST STM32G0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32g4/index.html">ST STM32G4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32h7/index.html">ST STM32H7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l0/index.html">ST STM32L0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l1/index.html">ST STM32L1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l4/index.html">ST STM32L4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32l5/index.html">ST STM32L5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32u5/index.html">ST STM32U5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wb/index.html">ST STM32WB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../stm32wl5/index.html">ST STM32WL5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../str71x/index.html">ST STR71</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tiva/index.html">TI/Stellaris Tiva</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tms570/index.html">TI/Hercules TMS570xxx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../xmc4/index.html">Infineon XMC4000</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../arm64/index.html">ARM64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../avr/index.html">Microchip AVR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../xtensa/index.html">Xtensa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">ARM</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">ST STM32F1</a></li>
      <li class="breadcrumb-item active">Shenzhou IV</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../_sources/platforms/arm/stm32f1/boards/shenzhou/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="shenzhou-iv">
<h1>Shenzhou IV<a class="headerlink" href="#shenzhou-iv" title="Permalink to this heading"></a></h1>
<p>This page discusses issues unique to NuttX configurations for the Shenzhou
IV development board from www.armjishu.com featuring the STMicro STM32F107VCT
MCU.  As of this writing, there are five models of the Shenzhou board:</p>
<ol class="arabic simple">
<li><p>Shenzhou I (STM32F103RB)</p></li>
<li><p>Shenzhou II (STM32F103VC)</p></li>
<li><p>Shenzhou III (STM32F103ZE)</p></li>
<li><p>Shenzhou IV (STM32F107VC)</p></li>
<li><p>Shenzhou king ((STM32F103ZG, core board + IO expansion board)).</p></li>
</ol>
<p>Support is currently provided for the Shenzhou IV only.  Features of the
Shenzhou IV board include:</p>
<ul class="simple">
<li><p>STM32F107VCT</p></li>
<li><p>10/100M PHY (DM9161AEP)</p></li>
<li><p>TFT LCD Connector</p></li>
<li><p>USB OTG</p></li>
<li><p>CAN (CAN1=2)</p></li>
<li><p>USART connectos (USART1-2)</p></li>
<li><p>RS-485</p></li>
<li><p>SD card slot</p></li>
<li><p>Audio DAC (PCM1770)</p></li>
<li><p>SPI Flash (W25X16)</p></li>
<li><ol class="arabic simple" start="4">
<li><p>LEDs (LED1-4)</p></li>
</ol>
</li>
<li><p>2.4G Wireless (NRF24L01 SPI module)</p></li>
<li><p>315MHz Wireless (module)</p></li>
<li><ol class="arabic simple" start="4">
<li><p>Buttons (KEY1-4, USERKEY2, USERKEY, TEMPER, WAKEUP)</p></li>
</ol>
</li>
<li><p>VBUS/external +4V select</p></li>
<li><p>5V/3.3V power conversion</p></li>
<li><p>Extension connector</p></li>
<li><p>JTAG</p></li>
</ul>
<section id="stm32f107vct-pin-usage">
<h2>STM32F107VCT Pin Usage<a class="headerlink" href="#stm32f107vct-pin-usage" title="Permalink to this heading"></a></h2>
</section>
<section id="leds">
<h2>LEDs<a class="headerlink" href="#leds" title="Permalink to this heading"></a></h2>
<p>The Shenzhou board has four LEDs labeled LED1, LED2, LED3 and LED4 on the
board. These LEDs are not used by the board port unless CONFIG_ARCH_LEDS is
defined.  In that case, the usage by the board port is defined in
include/board.h and src/up_leds.c. The LEDs are used to encode OS-related
events as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SYMBOL               Meaning                 LED1*   LED2    LED3    LED4****
-------------------  ----------------------- ------- ------- ------- ------
LED_STARTED          NuttX has been started  ON      OFF     OFF     OFF
LED_HEAPALLOCATE     Heap has been allocated OFF     ON      OFF     OFF
LED_IRQSENABLED      Interrupts enabled      ON      ON      OFF     OFF
LED_STACKCREATED     Idle stack created      OFF     OFF     ON      OFF
LED_INIRQ            In an interrupt**       ON      N/C     N/C     OFF
LED_SIGNAL           In a signal handler***  N/C     ON      N/C     OFF
LED_ASSERTION        An assertion failed     ON      ON      N/C     OFF
LED_PANIC            The system has crashed  N/C     N/C     N/C     ON
LED_IDLE             STM32 is is sleep mode  (Optional, not used)

* If LED1, LED2, LED3 are statically on, then NuttX probably failed to boot
and these LEDs will give you some indication of where the failure was
** The normal state is LED1 ON and LED1 faintly glowing.  This faint glow
is because of timer interrupts that result in the LED being illuminated
on a small proportion of the time.
*** LED2 may also flicker normally if signals are processed.
**** LED4 may not be available if RS-485 is also used. For RS-485, it will
then indicate the RS-485 direction.
</pre></div>
</div>
</section>
<section id="shenzhou-specific-configuration-options">
<h2>Shenzhou-specific Configuration Options<a class="headerlink" href="#shenzhou-specific-configuration-options" title="Permalink to this heading"></a></h2>
</section>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this heading"></a></h2>
<p>Each Shenzhou configuration is maintained in a sub-directory and
can be selected as follow:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tools/configure.sh shenzhou:&lt;subdir&gt;
</pre></div>
</div>
<p>Where &lt;subdir&gt; is one of the following:</p>
<section id="nsh">
<h3>nsh<a class="headerlink" href="#nsh" title="Permalink to this heading"></a></h3>
<p>Configures the NuttShell (nsh) located at apps/examples/nsh.  The
Configuration enables both the serial and telnet NSH interfaces.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_ARM_TOOLCHAIN_GNU_EABI=y        : GNU EABI toolchain for Windows
CONFIG_NSH_DHCPC=n                        : DHCP is disabled
CONFIG_NSH_IPADDR=0x0a000002              : Target IP address 10.0.0.2
CONFIG_NSH_DRIPADDR=0x0a000001            : Host IP address 10.0.0.1
</pre></div>
</div>
<p>NOTES:</p>
<ol class="arabic">
<li><p>This example assumes that a network is connected.  During its
initialization, it will try to negotiate the link speed.  If you have
no network connected when you reset the board, there will be a long
delay (maybe 30 seconds?) before anything happens.  That is the timeout
before the networking finally gives up and decides that no network is
available.</p></li>
<li><p>Enabling the ADC example:</p>
<p>The only internal signal for ADC testing is the potentiometer input:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ADC1_IN10(PC0) Potentiometer
</pre></div>
</div>
<p>External signals are also available on CON5 CN14:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ADC_IN8 (PB0) CON5 CN14 Pin2
ADC_IN9 (PB1) CON5 CN14 Pin1
</pre></div>
</div>
<p>The signal selection is hard-coded in boards/arm/stm32/shenzhou/src/up_adc.c:  The
potentiometer input (only) is selected.</p>
<p>These selections will enable sampling the potentiometer input at 100Hz using
Timer 1:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_ANALOG=y                        : Enable analog device support
CONFIG_ADC=y                           : Enable generic ADC driver support
CONFIG_ADC_DMA=n                       : ADC DMA is not supported
CONFIG_STM32_ADC1=y                    : Enable ADC 1
CONFIG_STM32_TIM1=y                    : Enable Timer 1
CONFIG_STM32_TIM1_ADC=y                : Use Timer 1 for ADC
CONFIG_STM32_TIM1_ADC1=y               : Allocate Timer 1 to ADC 1
CONFIG_STM32_ADC1_SAMPLE_FREQUENCY=100 : Set sampling frequency to 100Hz
CONFIG_STM32_ADC1_TIMTRIG=0            : Trigger on timer output 0
CONFIG_STM32_FORCEPOWER=y              : Apply power to TIM1 a boot up time
CONFIG_EXAMPLES_ADC=y                  : Enable the apps/examples/adc built-in
</pre></div>
</div>
</li>
</ol>
</section>
<section id="nxwm">
<h3>nxwm<a class="headerlink" href="#nxwm" title="Permalink to this heading"></a></h3>
<p>This is a special configuration setup for the NxWM window manager
UnitTest.  The NxWM window manager can be found here:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>apps/graphics/NxWidgets/nxwm
</pre></div>
</div>
<p>The NxWM unit test can be found at:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>apps/graphics/NxWidgets/UnitTests/nxwm
</pre></div>
</div>
<p>NOTE:  JP6 selects between the touchscreen interrupt and the MII
interrupt.  It should be positioned 1-2 to enable the touchscreen
interrupt.</p>
<p>NOTE: Reading from the LCD is not currently supported by this
configuration.  The hardware will support reading from the LCD
and drivers/lcd/ssd1289.c also supports reading from the LCD.
This limits some graphics capabilities.</p>
<p>Reading from the LCD is not supported only because it has not
been tested.  If you get inspired to test this feature, you can
turn the LCD read functionality on by setting:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-CONFIG_LCD_NOGETRUN=y
+# CONFIG_LCD_NOGETRUN is not set

-CONFIG_NX_WRITEONLY=y
+# CONFIG_NX_WRITEONLY is not set
</pre></div>
</div>
</section>
<section id="thttpd">
<h3>thttpd<a class="headerlink" href="#thttpd" title="Permalink to this heading"></a></h3>
<p>This builds the THTTPD web server example using the THTTPD and
the apps/examples/thttpd application.</p>
<p>NOTE: This example can only be built using the older toolchains
due to incompatibilities introduced in later GCC releases.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../olimexino-stm32/index.html" class="btn btn-neutral float-left" title="olimexino-stm32" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../stm3210e-eval/index.html" class="btn btn-neutral float-right" title="ST STM3210E-EVAL" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>