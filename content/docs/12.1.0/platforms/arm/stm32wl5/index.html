<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>STM32WL5 &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Nucleo-WL55JC" href="boards/nucleo-wl55jc/index.html" />
    <link rel="prev" title="SAM V7" href="../samv7/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../12.1.0" >12.1.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">ARM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../a64/index.html">Allwinner A64</a></li>
<li class="toctree-l3"><a class="reference internal" href="../imxrt/index.html">i.MX RT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nrf52/index.html">Nordic nRF52</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rp2040/index.html">rp2040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../s32k1xx/index.html">NXP S32K1XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../s32k3xx/index.html">NXP S32K3XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../samv7/index.html">SAM V7</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">STM32WL5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supported-mcus">Supported MCUs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#peripheral-support">Peripheral Support</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#pll">PLL</a></li>
<li class="toctree-l5"><a class="reference internal" href="#lse">LSE</a></li>
<li class="toctree-l5"><a class="reference internal" href="#hsi">HSI</a></li>
<li class="toctree-l5"><a class="reference internal" href="#msi">MSI</a></li>
<li class="toctree-l5"><a class="reference internal" href="#hse">HSE</a></li>
<li class="toctree-l5"><a class="reference internal" href="#rcc">RCC</a></li>
<li class="toctree-l5"><a class="reference internal" href="#syscfg">SYSCFG</a></li>
<li class="toctree-l5"><a class="reference internal" href="#gpio">GPIO</a></li>
<li class="toctree-l5"><a class="reference internal" href="#uart">UART</a></li>
<li class="toctree-l5"><a class="reference internal" href="#ipcc">IPCC</a></li>
<li class="toctree-l5"><a class="reference internal" href="#exti">EXTI</a></li>
<li class="toctree-l5"><a class="reference internal" href="#flash">FLASH</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#supported-boards">Supported Boards</a><ul>
<li class="toctree-l5"><a class="reference internal" href="boards/nucleo-wl55jc/index.html">Nucleo-WL55JC</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../avr/index.html">AVR8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../xtensa/index.html">Xtensa</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../index.html">ARM</a></li>
      <li class="breadcrumb-item active">STM32WL5</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/platforms/arm/stm32wl5/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="stm32wl5">
<h1>STM32WL5<a class="headerlink" href="#stm32wl5" title="Permalink to this heading"></a></h1>
<p>The STM32WL5 is a dual CPU (not core!) chip based on ARM Cortex-M4 and
Cortex-M0 with integrated sub-GHz radio for LoRa (G)FSK, (G)MSK and BPSK
modulations.</p>
<p>Only Cortex-M0 has access to radio peripheral. Pipe between CPUs exists
so that radio packets can be exchanged between CPUs. Chip was designed
so that Cortex-M0 cpu handles radio traffic while Cortex-M4 cpu handles
actions based on traffic received. All other peripherals are shared
(like uart, spi, i2c) and both CPUs can initiate them, but it’s required
to be done only by one of them.</p>
<section id="supported-mcus">
<h2>Supported MCUs<a class="headerlink" href="#supported-mcus" title="Permalink to this heading"></a></h2>
<p>STM32WL5 has only two chips in family. STM32WL55 and STM32WL54. Only
difference between them is that STM32WL55 has support for LoRa while
Stm32WL54 does not.</p>
</section>
<section id="peripheral-support">
<h2>Peripheral Support<a class="headerlink" href="#peripheral-support" title="Permalink to this heading"></a></h2>
<p>The following list indicates peripherals supported in NuttX:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Peripheral</p></th>
<th class="head"><p>Support</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>IRQs</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>GPIO</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EXTI</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>HSE</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PLL</p></td>
<td><p>Yes</p></td>
<td><p>Tested &#64; 48MHz</p></td>
</tr>
<tr class="row-odd"><td><p>HSI</p></td>
<td><p>Yes</p></td>
<td><p>Not tested</p></td>
</tr>
<tr class="row-even"><td><p>MSI</p></td>
<td><p>Yes</p></td>
<td><p>Not tested</p></td>
</tr>
<tr class="row-odd"><td><p>LSE</p></td>
<td><p>Yes</p></td>
<td><p>Not tested</p></td>
</tr>
<tr class="row-even"><td><p>RCC</p></td>
<td><p>Yes</p></td>
<td><p>All registers defined, not all peripherals enabled</p></td>
</tr>
<tr class="row-odd"><td><p>SYSCFG</p></td>
<td><p>Yes</p></td>
<td><p>All registers defined, GPIO EXTI works, remapping not tested</p></td>
</tr>
<tr class="row-even"><td><p>USART</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>LPUART</p></td>
<td><p>Yes</p></td>
<td><p>full speed with HSE works, low power mode with LSE not implemented</p></td>
</tr>
<tr class="row-even"><td><p>FLASH</p></td>
<td><p>Yes</p></td>
<td><p>Progmem implementation - mtd filesystems like smartfs or nxffs work</p></td>
</tr>
<tr class="row-odd"><td><p>DMA</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>SRAM2</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>SPI</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>I2C</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>RTC</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Timers</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PM</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>AES</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>RNG</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CRC</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>WWDG</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>IWDG</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>ADC</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>DAC</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>IPCC</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="mailto:Radio&#37;&#52;&#48;CPU0">Radio<span>&#64;</span>CPU0</a></p></td>
<td><p>No</p></td>
<td></td>
</tr>
</tbody>
</table>
<section id="pll">
<h3>PLL<a class="headerlink" href="#pll" title="Permalink to this heading"></a></h3>
<p>PLL is a module that allows MCU to generate higher (or lower) clocks than
provided by the source. For example it can be used to drive system clock
with 48MHz when 8MHz HSE crystal is installed.</p>
</section>
<section id="lse">
<h3>LSE<a class="headerlink" href="#lse" title="Permalink to this heading"></a></h3>
<p>Low speed external crystal. Can be used to clock RTC and/or independent
watchdog (IWDG). LSE is usually 32768Hz high precision crystal.</p>
</section>
<section id="hsi">
<h3>HSI<a class="headerlink" href="#hsi" title="Permalink to this heading"></a></h3>
<p>High speed internal clock. Can be used as a source for sysclk and
internal buses (APB, AHB). This clock source is not as precise or
as stable as HSE, but it cuts down costs by avoiding external
hardware (crystal and capacitors) and is usually good enough if
operating temperatures are stable. It’s clock is fixed at 16MHz.</p>
</section>
<section id="msi">
<h3>MSI<a class="headerlink" href="#msi" title="Permalink to this heading"></a></h3>
<p>Adjustable internal clock. Can be adjusted by software, but it’s
accuracy and stability is even lower than HSI.</p>
</section>
<section id="hse">
<h3>HSE<a class="headerlink" href="#hse" title="Permalink to this heading"></a></h3>
<p>High speed external crystal. Can be used to clock sysclk and internal
buses (APB, AHB). External crystal is more precise and more stable
than HSI.</p>
</section>
<section id="rcc">
<h3>RCC<a class="headerlink" href="#rcc" title="Permalink to this heading"></a></h3>
<p>Reset and clock control. Enables or disables specific peripherals.</p>
</section>
<section id="syscfg">
<h3>SYSCFG<a class="headerlink" href="#syscfg" title="Permalink to this heading"></a></h3>
<p>System configuration controller. Can be used to remap memory or
manage GPIO multiplexer for EXTI.</p>
</section>
<section id="gpio">
<h3>GPIO<a class="headerlink" href="#gpio" title="Permalink to this heading"></a></h3>
<p>Pins can be configured using <code class="xref c c-func docutils literal notranslate"><span class="pre">stm32wl5_configgpio()</span></code> function. Writing
to pins is done by <code class="xref c c-func docutils literal notranslate"><span class="pre">stm32wl5_gpiowrite()</span></code> function and reading is done
by <code class="xref c c-func docutils literal notranslate"><span class="pre">stm32wl5_gpioread()</span></code>.</p>
</section>
<section id="uart">
<h3>UART<a class="headerlink" href="#uart" title="Permalink to this heading"></a></h3>
<p>Universal Asynchronous Receiver/Transmitter module. UART is initialized
automatically during MCU boot.</p>
</section>
<section id="ipcc">
<h3>IPCC<a class="headerlink" href="#ipcc" title="Permalink to this heading"></a></h3>
<p>Inter-processor communication controller. IPCC is used to exchange data
between Cortex-M4 and Cortex-M0 CPUs.</p>
</section>
<section id="exti">
<h3>EXTI<a class="headerlink" href="#exti" title="Permalink to this heading"></a></h3>
<p>Extended interrupts and event controller. Extends interrupts not provided
by NVIC. For example, there is only one interrupt for GPIO5..9 in NVIC,
but thanks to EXTI we can differentiate which GPIO caused interrupt. Such
interrupt first goes through EXTI and is then forwarded to main NVIC.</p>
<p>EXTI for gpio can be enabled via <cite>stm32wl5_gpiosetevent</cite> function.</p>
</section>
<section id="flash">
<h3>FLASH<a class="headerlink" href="#flash" title="Permalink to this heading"></a></h3>
<p>Place where program code lives. Part of flash can also be used to create
small filesystems like nxffs or smartfs to hold persistent data between
reboots without the need of attaching external flash or mmc card. Since
flash has limited number of erases (writes) it’s best to hold there only
data that is no frequently updated (so, configuration is ok, logs are not).</p>
</section>
</section>
<section id="supported-boards">
<h2>Supported Boards<a class="headerlink" href="#supported-boards" title="Permalink to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="boards/nucleo-wl55jc/index.html">Nucleo-WL55JC</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../samv7/index.html" class="btn btn-neutral float-left" title="SAM V7" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="boards/nucleo-wl55jc/index.html" class="btn btn-neutral float-right" title="Nucleo-WL55JC" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>