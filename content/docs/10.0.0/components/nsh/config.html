<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configuration Settings &mdash; NuttX latest documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Customizing the NuttShell" href="customizing.html" />
    <link rel="prev" title="Commands" href="commands.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
  
    <a href="../../index.html" class="icon icon-home"> NuttX
  

  
    
    <img src="../../_static/NuttX.png" class="logo" alt="Logo"/>
  
  </a>
  
  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->
       
  <div class="version-selector">
    <select>
    
      <option value="latest" selected="selected">latest</option>
    
    </select>
  </div>
  
  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">OS Components</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">NuttShell (NSH)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="nsh.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Configuration Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-dependencies-on-configuration-settings">Command Dependencies on Configuration Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#built-in-command-dependencies-on-configuration-settings">Built-In Command Dependencies on Configuration Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nsh-specific-configuration-settings">NSH-Specific Configuration Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="customizing.html">Customizing the NuttShell</a></li>
<li class="toctree-l3"><a class="reference internal" href="builtin.html">NSH “Built-In” Applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html">Customizing NSH Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="login.html">Shell Login</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../power.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../socketcan.html">SocketCAN Device Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syslog.html">SYSLOG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../binfmt.html">Binary Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drivers/index.html">Device Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem.html">NuttX File System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nxflat.html">NXFLAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nxgraphics/index.html">NX Graphics Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nxwidgets.html">NxWidgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../paging.html">On-Demand Paging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/index.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">NuttX</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">OS Components</a> &raquo;</li>
        
          <li><a href="index.html">NuttShell (NSH)</a> &raquo;</li>
        
      <li>Configuration Settings</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/components/nsh/config.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuration-settings">
<h1>Configuration Settings<a class="headerlink" href="#configuration-settings" title="Permalink to this headline">¶</a></h1>
<p>The availability of the above commands depends upon features that may or
may not be enabled in the NuttX configuration file. The following
<a class="reference external" href="#cmddependencies">table</a> indicates the dependency of each command on
NuttX configuration settings. General configuration settings are
discussed in the <a class="reference external" href="NuttxPortingGuide.html">NuttX Porting Guide.</a>
Configuration settings specific to NSH as discussed at the
<a class="reference external" href="#nshconfiguration">bottom</a> of this document.</p>
<p>Note that in addition to general NuttX configuration settings, each NSH
command can be individually disabled via the settings in the rightmost
column. All of these settings make the configuration of NSH potentially
complex but also allow it to squeeze into very small memory footprints.</p>
<div class="section" id="command-dependencies-on-configuration-settings">
<h2>Command Dependencies on Configuration Settings<a class="headerlink" href="#command-dependencies-on-configuration-settings" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 44%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Depends on Configuration</p></th>
<th class="head"><p>Can Be Disabled with</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLESCRIPT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_TEST</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">addroute</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NET_ROUTE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_ADDROUTE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">arp</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NET_ARP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_ARP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">base64dec</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NETUTILS_CODECS</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_CODECS_BASE64</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_BASE64DEC</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">base64enc</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NETUTILS_CODECS</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_CODECS_BASE64</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_BASE64ENC</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">basename</span></code></p></td>
<td><p>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_BASENAME</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">break</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLESCRIPT</span></code> &amp;&amp;
! <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_LOOPS</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cat</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_CAT</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cd</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_ENVIRON</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_CD</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cmp</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_CMP</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cp</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_CP</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_DATE</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dd</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_DD</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">delroute</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NET_ROUTE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_DELROUTE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">df</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_DF</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dirname</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_DIRNAME</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dmesg</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RAMLOG_SYSLOG</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_DMESG</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">echo</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_ECHO</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">env</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS</span></code> &amp;&amp;
! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_ENVIRON</span></code> &amp;&amp; <br/>
! <code class="docutils literal notranslate"><span class="pre">CONFIG_PROCFS_EXCLUDE_ENVIRON</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_ENV</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">exec</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_EXEC</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">exit</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_EXIT</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">export</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_VARS</span></code> &amp;&amp;
! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_ENVIRON</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_EXPORT</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">free</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_FREE</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">get</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NET_UDP</span></code> &amp;&amp;
<em>MTU</em> &gt;= 58<a class="footnote-reference brackets" href="#id5" id="id1">4</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_GET</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">help</span></code> <a class="footnote-reference brackets" href="#id7" id="id2">6</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_HELP</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">hexdump</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_HEXDUMP</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ifconfig</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS</span></code> &amp;&amp;
! <code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS_EXCLUDE_NET</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_IFCONFIG</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ifdown</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS</span></code> &amp;&amp;
! <code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS_EXCLUDE_NET</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_IFUPDOWN</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ifup</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS</span></code> &amp;&amp;
! <code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS_EXCLUDE_NET</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_IFUPDOWN</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">insmod</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MODULE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MODCMDS</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">irqinfo</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS</span></code> &amp;&amp; <br/>
<code class="docutils literal notranslate"><span class="pre">CONFIG_SCHED_IRQMONITOR</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">kill</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_KILL</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">losetup</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_DEV_LOOP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_LOSETUP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ln</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_PSEUDOFS_SOFTLINKS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_LN</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ls</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_LS</span></code></p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lsmod</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MODULE</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS</span></code>
&amp;&amp; <br/>
! <code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS_EXCLUDE_MODULE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MODCMDS</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">md5</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NETUTILS_CODECS</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_CODECS_HASH_MD5</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MD5</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mb,mh,mw</span></code></p></td>
<td><p>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MB</span></code>, <br/>
<code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MH</span></code>, <br/>
<code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MW</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mkdir</span></code></p></td>
<td><p>(! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> ||
! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_PSEUDOFS_OPERATIONS</span></code>)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MKDIR</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mkfatfs</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_FSUTILS_MKFATFS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MKFATFS</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mkfifo</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_PIPES</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_DEV_FIFO_SIZE</span></code> &gt; 0</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MKFIFO</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mkrd</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MKRD</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mount</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MOUNT</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mv</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> ||
! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_PSEUDOFS_OPERATIONS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MV</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">nfsmount</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NFS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_NFSMOUNT</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nslookup</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LIBC_NETDB</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_NETDB_DNSCLIENT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_NSLOOKUP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">passwd</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_LOGIN_PASSWD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_PASSWD</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pmconfig</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_PM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_PMCONFIG</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">poweroff</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_BOARDCTL_POWEROFF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_POWEROFF</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ps</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS</span></code> &amp;&amp;
! <code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS_EXCLUDE_PROC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_PS</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">put</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NET_UDP</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">MTU</span> <span class="pre">&gt;=</span> <span class="pre">558</span></code> <a class="footnote-reference brackets" href="#id5" id="id3">4</a>, <a class="footnote-reference brackets" href="#id6" id="id4">5</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_PUT</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pwd</span></code></p></td>
<td><p>!  <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_ENVIRON</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_PWD</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">readlink</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_PSEUDOFS_SOFTLINKS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_READLINK</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">reboot</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_BOARD_RESET</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_REBOOT</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rm</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> ||
! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_PSEUDOFS_OPERATIONS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_RM</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rmdir</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> |! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_PSEUDOFS_OPERATIONS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_RMDIR</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rmmod</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_MODULE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_MODCMDS</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">route</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS_EXCLUDE_NET</span></code> &amp;&amp; <br/>
! <code class="docutils literal notranslate"><span class="pre">CONFIG_FS_PROCFS_EXCLUDE_ROUTE</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_NET_ROUTE</span></code> &amp;&amp; <br/>
! <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_ROUTE</span></code> &amp;&amp; <br/>
(<code class="docutils literal notranslate"><span class="pre">CONFIG_NET_IPv4</span></code> |<code class="docutils literal notranslate"><span class="pre">CONFIG_NET_IPv6</span></code>)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_ROUTE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rptun</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_RPTUN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_RPTUN</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">set</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_VARS</span></code> ||
! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_ENVIRON</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_SET</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">shutdown</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_BOARDCTL_POWEROFF</span></code> ||
<code class="docutils literal notranslate"><span class="pre">CONFIG_BOARD_RESET</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_SHUTDOWN</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sleep</span></code></p></td>
<td><p>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_SLEEP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">source</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_FILE_STREAM</span></code> &amp;&amp;
! <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLESCRIPT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_SOURCE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telnetd</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_TELNET</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_TELNETD</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">test</span></code></p></td>
<td><p>!  <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLESCRIPT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_TEST</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">time</span></code></p></td>
<td><p>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_TIME</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">truncate</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_TRUNCATE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">umount</span></code></p></td>
<td><p>!  <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_UMOUNT</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">uname</span></code></p></td>
<td><p>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_UNAME</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unset</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_VARS</span></code> ||
!  <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_ENVIRON</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_UNSET</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">urldecode</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_NETUTILS_CODECS</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_CODECS_URLCODE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_URLDECODE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">urlencode</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_NETUTILS_CODECS</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_CODECS_URLCODE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_URLENCODE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">useradd</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_LOGIN_PASSWD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_USERADD</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">userdel</span></code></p></td>
<td><p>! <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_MOUNTPOINT</span></code> &amp;&amp;
<code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_LOGIN_PASSWD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_USERDEL</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">usleep</span></code></p></td>
<td><p>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_USLEEP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">wget</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NET_TCP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_WGET</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">xd</span></code></p></td>
<td><p>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_XD</span></code></p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="id5"><span class="brackets">4</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id3">2</a>)</span></dt>
<dd><p>Because of hardware padding, the actual required packet size may be larger</p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id4">5</a></span></dt>
<dd><p>Special TFTP server start-up options will probably be required to permit creation of files for the correct operation of the <code class="docutils literal notranslate"><span class="pre">put</span></code> command.</p>
</dd>
<dt class="label" id="id7"><span class="brackets"><a class="fn-backref" href="#id2">6</a></span></dt>
<dd><p>Verbose help output can be suppressed by defining <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_HELP_TERSE</span></code>. In that case, the help command is still available but will be slightly smaller.</p>
</dd>
</dl>
</div>
<div class="section" id="built-in-command-dependencies-on-configuration-settings">
<h2>Built-In Command Dependencies on Configuration Settings<a class="headerlink" href="#built-in-command-dependencies-on-configuration-settings" title="Permalink to this headline">¶</a></h2>
<p>All built-in applications require that support for NSH built-in
applications has been enabled. This support is enabled with
<code class="docutils literal notranslate"><span class="pre">CONFIG_BUILTIN=y</span></code> and <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_BUILTIN_APPS=y</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Depends on Configuration</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ping</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NET_ICMP</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NET_ICMP_SOCKET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_SYSTEM_PING</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ping6</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NET_ICMPv6</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_NET_ICMPv6_SOCKET</span></code> &amp;&amp; <code class="docutils literal notranslate"><span class="pre">CONFIG_SYSTEM_PING6</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="nsh-specific-configuration-settings">
<h2>NSH-Specific Configuration Settings<a class="headerlink" href="#nsh-specific-configuration-settings" title="Permalink to this headline">¶</a></h2>
<p>The behavior of NSH can be modified with the following settings in the
<code class="docutils literal notranslate"><span class="pre">boards/&lt;arch&gt;/&lt;chip&gt;/&lt;board&gt;/defconfig</span></code> file:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_READLINE</span></code></p></td>
<td><p>Selects the minimal implementation of <code class="docutils literal notranslate"><span class="pre">readline()</span></code>.
This minimal implementation provides on backspace for command
line editing. It expects some minimal VT100 command support from the terminal.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_CLE</span></code></p></td>
<td><p>Selects the more extensive, EMACS-like command line editor.
Select this option only if (1) you don’t mind a modest increase
in the FLASH footprint, and (2) you work with a terminal that
supports extensive VT100 editing commands. Selecting this option
will add probably 1.5-2KB to the FLASH footprint.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_BUILTIN_APPS</span></code></p></td>
<td><p>Support external registered, “builtin” applications that can
be executed from the NSH command line (see apps/README.txt for
more information). This required <code class="docutils literal notranslate"><span class="pre">CONFIG_BUILTIN</span></code> to enable
NuttX support for “builtin” applications.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_FILEIOSIZE</span></code></p></td>
<td><p>Size of a static I/O buffer used for file access (ignored if there
is no file system). Default is 1024.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_STRERROR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">strerror(errno)</span></code> makes more readable output but
<code class="docutils literal notranslate"><span class="pre">strerror()</span></code> is very large and will not be used unless this
setting is <em>y</em>. This setting depends upon the <code class="docutils literal notranslate"><span class="pre">strerror()</span></code>
having been enabled with <code class="docutils literal notranslate"><span class="pre">CONFIG_LIBC_STRERROR</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_LINELEN</span></code></p></td>
<td><p>The maximum length of one command line and of one output line.
Default: 80</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_SEMICOLON</span></code></p></td>
<td><p>By default, you can enter multiple NSH commands on a line
with each command separated by a semicolon. You can disable this
feature to save a little memory on FLASH challenged platforms.
Default: n</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_CMDPARMS</span></code></p></td>
<td><p>If selected, then the output from commands, from file applications,
and from NSH built-in commands can be used as arguments to other
commands. The entity to be executed is identified by
enclosing the command line in back quotes. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set FOO `myprogram $BAR`
</pre></div>
</div>
<p>will execute the program named <code class="docutils literal notranslate"><span class="pre">myprogram</span></code> passing it the
value of the environment variable <code class="docutils literal notranslate"><span class="pre">BAR</span></code>. The value of the
environment variable <code class="docutils literal notranslate"><span class="pre">FOO</span></code> is then set output of <code class="docutils literal notranslate"><span class="pre">myprogram</span></code>
on <code class="docutils literal notranslate"><span class="pre">stdout</span></code>. Because this feature commits significant
resources, it is disabled by default. The <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_CMDPARMS</span></code> interim
output will be retained in a temporary file. Full path to a
directory where temporary files can be created is taken from
<code class="docutils literal notranslate"><span class="pre">CONFIG_LIBC_TMPDIR</span></code> and it defaults to <code class="docutils literal notranslate"><span class="pre">/tmp</span></code> if
<code class="docutils literal notranslate"><span class="pre">CONFIG_LIBC_TMPDIR</span></code> is not set.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_MAXARGUMENTS</span></code></p></td>
<td><p>The maximum number of NSH command arguments. Default: 6</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ARGCAT</span></code></p></td>
<td><p>Support concatenation of strings with environment variables or
command output. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set FOO XYZ
set BAR 123
set FOOBAR ABC_${FOO}_${BAR}
</pre></div>
</div>
<p>would set the environment variable <code class="docutils literal notranslate"><span class="pre">FOO</span></code> to <code class="docutils literal notranslate"><span class="pre">XYZ</span></code>,
<code class="docutils literal notranslate"><span class="pre">BAR</span></code> to <code class="docutils literal notranslate"><span class="pre">123</span></code> and <code class="docutils literal notranslate"><span class="pre">FOOBAR</span></code> to <code class="docutils literal notranslate"><span class="pre">ABC_XYZ_123</span></code>. If
<code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ARGCAT</span></code> is not selected, then a slightly small
FLASH footprint results but then also only simple environment
variables like <code class="docutils literal notranslate"><span class="pre">$FOO</span></code> can be used on the command line.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_VARS</span></code></p></td>
<td><p>By default, there are no internal NSH variables. NSH will use OS
environment variables for all variable storage. If this option,
NSH will also support local NSH variables. These variables are,
for the most part, transparent and work just like the OS
environment variables. The difference is that when you
create new tasks, all of environment variables are
inherited by the created tasks. NSH local variables are not.
If this option is enabled (and <code class="docutils literal notranslate"><span class="pre">CONFIG_DISABLE_ENVIRON</span></code> is not),
then a new command called ‘export’ is enabled. The export
command works very must like the set command except that is
operates on environment variables. When CONFIG_NSH_VARS
is enabled, there are changes in the behavior of certain commands.
See following <a class="reference internal" href="#nsh-vars-table"><span class="std std-ref">table</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_QUOTE</span></code></p></td>
<td><p>Enables back-slash quoting of certain characters within the
command. This option is useful for the case where an NSH script
is used to dynamically generate a new NSH script. In that case,
commands must be treated as simple text strings without
interpretation of any special characters. Special characters
such as <code class="docutils literal notranslate"><span class="pre">$</span></code>, <code class="docutils literal notranslate"><span class="pre">`</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>, and others must be
retained intact as part of the test string. This option is
currently only available is <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ARGCAT</span></code> is also
selected.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_NESTDEPTH</span></code></p></td>
<td><p>The maximum number of nested <code class="docutils literal notranslate"><span class="pre">if-then[-else]-fi</span></code> &lt;#conditional&gt;`__
sequences that are permissible. Default: 3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLESCRIPT</span></code></p></td>
<td><p>This can be set to <em>y</em> to suppress support for scripting.
This setting disables the <code class="docutils literal notranslate"><span class="pre">`sh</span></code> &lt;#cmdsh&gt;`__,
<code class="docutils literal notranslate"><span class="pre">`test</span></code> &lt;#cmdtest&gt;`__, and <code class="docutils literal notranslate"><span class="pre">`[</span></code> &lt;#cmtest&gt;`__ commands and
the <code class="docutils literal notranslate"><span class="pre">`if-then[-else]-fi</span></code> &lt;#conditional&gt;`__
construct. This would only be set on systems where a minimal
footprint is a necessity and scripting is not.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_ITEF</span></code></p></td>
<td><p>If scripting is enabled, then then this option can be selected
to suppress support for <code class="docutils literal notranslate"><span class="pre">if-then-else-fi</span></code> sequences in
scripts. This would only be set on systems where some minimal
scripting is required but <code class="docutils literal notranslate"><span class="pre">if-then-else-fi</span></code> is not.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLE_LOOPS</span></code></p></td>
<td><p>If scripting is enabled, then then this option can be selected
suppress support <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">while-do-done</span></code> and
<code class="docutils literal notranslate"><span class="pre">until-do-done</span></code> sequences in scripts. This would only be set
on systems where some minimal scripting is required but looping
is not.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DISABLEBG</span></code></p></td>
<td><p>This can be set to <em>y</em> to suppress support for background
commands. This setting disables the <code class="docutils literal notranslate"><span class="pre">`nice</span></code> &lt;#cmdoverview&gt;`__
command prefix and the <code class="docutils literal notranslate"><span class="pre">`&amp;</span></code> &lt;#cmdoverview&gt;`__ command
suffix. This would only be set on systems where a minimal footprint
is a necessity and background command execution is not.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_MMCSDMINOR</span></code></p></td>
<td><p>If the architecture supports an MMC/SD slot and if the NSH
architecture specific logic is present, this option will provide
the MMC/SD minor number, i.e., the MMC/SD block driver will be
registered as <code class="docutils literal notranslate"><span class="pre">/dev/mmcsd</span></code><em>N</em> where <em>N</em> is the minor number.
Default is zero.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ROMFSETC</span></code></p></td>
<td><p>Mount a ROMFS file system at <code class="docutils literal notranslate"><span class="pre">/etc</span></code> and provide a startup
script at <code class="docutils literal notranslate"><span class="pre">/etc/init.d/rcS</span></code>.
The default startup script will mount a FAT FS RAMDISK at
<code class="docutils literal notranslate"><span class="pre">/tmp</span></code> but the logic is <a class="reference external" href="#startupscript">easily extensible</a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_CONSOLE</span></code></p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_CONSOLE</span></code> is set to <em>y</em>, then a serial console
front-end is selected.</p>
<p>Normally, the serial console device is a UART and RS-232
interface. However, if <code class="docutils literal notranslate"><span class="pre">CONFIG_USBDEV</span></code> is defined,
then a USB serial device may, instead, be used if the one of
the following are defined:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_PL2303</span></code> and <code class="docutils literal notranslate"><span class="pre">CONFIG_PL2303_CONSOLE</span></code>.
Sets up the Prolifics PL2303 emulation as a console device
at <code class="docutils literal notranslate"><span class="pre">/dev/console</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_CDCACM</span></code> and <code class="docutils literal notranslate"><span class="pre">CONFIG_CDCACM_CONSOLE</span></code>.
Sets up the CDC/ACM serial device as a console device at
<code class="docutils literal notranslate"><span class="pre">/dev/console</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBCONSOLE</span></code>. If defined, then an arbitrary USB
device may be used to as the NSH console. In this case,
<code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBCONDEV</span></code> must be defined to indicate which
USB device to use as the console. The advantage of
using a device other that <code class="docutils literal notranslate"><span class="pre">/dev/console</span></code> is that
normal debug output can then use <code class="docutils literal notranslate"><span class="pre">/dev/console</span></code> while NSH
uses <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBCONDEV</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBCONDEV</span></code>. If <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBCONSOLE</span></code> is
set to ‘y’, then <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBCONDEV</span></code> must also be set to select the USB
device used to support the NSH console. This should be set to
the quoted name of a readable/write-able USB driver
such as: <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBCONDEV=&quot;/dev/ttyACM0&quot;</span></code>.</p>
</li>
</ul>
<p>If there are more than one USB slots, then a USB device minor
number may also need to be provided:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_UBSDEV_MINOR</span></code>: The minor device number of the USB device. Default: 0</p></li>
</ul>
<p>If USB tracing is enabled (<code class="docutils literal notranslate"><span class="pre">CONFIG_USBDEV_TRACE</span></code>), then
NSH will initialize USB tracing as requested by the following.
Default: Only USB errors are traced.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBDEV_TRACEINIT</span></code>: Show initialization events</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBDEV_TRACECLASS</span></code>: Show class driver events</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBDEV_TRACETRANSFERS</span></code>: Show data transfer events</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBDEV_TRACECONTROLLER</span></code>: Show controller events</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_USBDEV_TRACEINTERRUPTS</span></code>: Show interrupt-related events.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ALTCONDEV</span></code> and</p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_CONSOLE</span></code> is set <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_CONDEV</span></code>
to <em>y</em>, then <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ALTCONDEV</span></code> may also
be selected to enable use of an alternate character device to
support the NSH console. If <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ALTCONDEV</span></code> is
selected, then <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_CONDEV</span></code> holds the
quoted name of a readable/write-able character
driver such as: <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_CONDEV=&quot;/dev/ttyS1&quot;</span></code>.
This is useful, for example, to separate the NSH command line
from the system console when the system console is used to provide
debug output. Default: <code class="docutils literal notranslate"><span class="pre">stdin</span></code> and <code class="docutils literal notranslate"><span class="pre">stdout</span></code> (probably
“<code class="docutils literal notranslate"><span class="pre">/dev/console</span></code>”)</p>
<ul class="simple">
<li><p><strong>NOTE 1:</strong> When any other device other than
<code class="docutils literal notranslate"><span class="pre">/dev/console</span></code> is used for a user interface, (1) linefeeds
(<code class="docutils literal notranslate"><span class="pre">\n</span></code>) will not be expanded to carriage return / linefeeds
(<code class="docutils literal notranslate"><span class="pre">\r\n</span></code>). You will need to configure your terminal
program to account for this.
And (2) input is not automatically echoed so you
will have to turn local echo on.</p></li>
<li><p><strong>NOTE 2:</strong> This option forces the console of all sessions to
use NSH_CONDEV. Hence, this option only makes sense for a
system that supports only a single session. This option
is, in particular, incompatible with Telnet
sessions because each Telnet session must use a different
console device.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_TELNET</span></code></p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_TELNET</span></code> is set to <em>y</em>, then a TELNET server
front-end is selected. When this option is provided, you may log
into NuttX remotely using telnet in order to access NSH.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ARCHINIT</span></code></p></td>
<td><p>Set <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ARCHINIT</span></code> if your board provides architecture
specific initialization via the board-specific function
<code class="docutils literal notranslate"><span class="pre">board_app_initialize()</span></code>. This function will be called early in
NSH initialization to allow board logic to do such things as
configure MMC/SD slots.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="nsh-vars-table">
<colgroup>
<col style="width: 13%" />
<col style="width: 26%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>CMD</p></th>
<th class="head"><p>w/o <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_VARS</span></code></p></th>
<th class="head"><p>w/<code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_VARS</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">&lt;a&gt;</span> <span class="pre">&lt;b&gt;</span></code></p></td>
<td><p>Set environment variable &lt;a&gt; to &lt;b&gt;</p></td>
<td><p>Set NSH variable &lt;a&gt; to &lt;b&gt; (Unless the NSH variable has been <em>promoted</em> via
<code class="docutils literal notranslate"><span class="pre">export</span></code>, in which case the env ironment variable of the same name is set to &lt;b&gt;).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">set</span></code></p></td>
<td><p>Causes an error.</p></td>
<td><p>Lists all NSH variables.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unset</span> <span class="pre">&lt;a&gt;</span></code></p></td>
<td><p>Unsets environment variable &lt;a&gt;</p></td>
<td><p>Unsets both environment variable <em>and</em> NSH variable with and name &lt;a&gt;</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">&lt;a&gt;</span> <span class="pre">&lt;b&gt;</span></code></p></td>
<td><p>Causes an error,</p></td>
<td><p>Unsets NSH variable &lt;a&gt;. Sets environment variable &lt;a&gt; to &lt;b&gt;.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">&lt;a&gt;</span></code></p></td>
<td><p>Causes an error.</p></td>
<td><p>Sets environment variable &lt;a&gt; to the value of NSH variable &lt;a&gt; (or “” if the
NSH variable has not been set). Unsets NSH local variable &lt;a&gt;.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">env</span></code></p></td>
<td><p>Lists all environment variables</p></td>
<td><p>Lists all environment variables (<em>only</em>)</p></td>
</tr>
</tbody>
</table>
<p>If Telnet is selected for the NSH console, then we must configure the
resources used by the Telnet daemon and by the Telnet clients.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_TELNETD_PORT</span></code></p></td>
<td><p>The telnet daemon will listen on this TCP port number for connections. Default: 23</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_TELNETD_DAEMONPRIO</span></code></p></td>
<td><p>Priority of the Telnet daemon. Default: <code class="docutils literal notranslate"><span class="pre">SCHED_PRIORITY_DEFAULT</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_TELNETD_DAEMONSTACKSIZE</span></code></p></td>
<td><p>Stack size allocated for the Telnet daemon. Default: 2048</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_TELNETD_CLIENTPRIO</span></code></p></td>
<td><p>Priority of the Telnet client. Default: <code class="docutils literal notranslate"><span class="pre">SCHED_PRIORITY_DEFAULT</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_TELNETD_CLIENTSTACKSIZE</span></code></p></td>
<td><p>Stack size allocated for the Telnet client. Default: 2048</p></td>
</tr>
</tbody>
</table>
<p>One or both of <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_CONSOLE</span></code> and <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_TELNET</span></code> must be
defined. If <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_TELNET</span></code> is selected, then there some other
configuration settings that apply:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET=y</span></code></p></td>
<td><p>Of course, networking must be enabled.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSOCKET_DESCRIPTORS</span></code></p></td>
<td><p>And, of course, you must allocate some socket descriptors.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET_TCP=y</span></code></p></td>
<td><p>TCP/IP support is required for telnet (as well as various other
TCP-related configuration settings).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_IOBUFFER_SIZE</span></code></p></td>
<td><p>Determines the size of the I/O buffer to use for sending/ receiving
TELNET commands/responses</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DHCPC</span></code></p></td>
<td><p>Obtain the IP address via DHCP.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_IPADDR</span></code></p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DHCPC</span></code> is NOT set, then the static IP address must be
provided.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_DRIPADDR</span></code></p></td>
<td><p>Default router IP address</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_NETMASK</span></code></p></td>
<td><p>Network mask</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_NOMAC</span></code></p></td>
<td><p>Set if your Ethernet hardware has no built-in MAC address. If set, a
bogus MAC will be assigned.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_MAX_ROUNDTRIP</span></code></p></td>
<td><p>This is the maximum round trip for a response to a ICMP ECHO request. It
is in units of deciseconds. The default is 20 (2 seconds).</p></td>
</tr>
</tbody>
</table>
<p>If you use DHCPC, then some special configuration network options are
required. These include:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 42%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET=y</span></code></p></td>
<td><p>Of course, networking must be enabled.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSOCKET_DESCRIPTORS</span></code></p></td>
<td><p>And, of course, you must allocate some socket descriptors.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET_UDP=y</span></code></p></td>
<td><p>UDP support is required for DHCP (as well as various other
UDP-related configuration settings).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET_BROADCAST=y</span></code></p></td>
<td><p>UDP broadcast support is needed.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NET_ETH_PKTSIZE=650</span></code> (or larger)</p></td>
<td><p>Per RFC2131 (p. 9), the DHCP client must be prepared to receive
DHCP messages of up to 576 bytes (excluding Ethernet, IP, or
UDP headers and FCS). NOTE: Note that the actual MTU setting
will depend upon the specific link protocol. Here Ethernet
is indicated.</p></td>
</tr>
</tbody>
</table>
<p>If <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ROMFSETC</span></code> is selected, then the following additional
configuration setting apply:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ARCHROMFS</span></code></p></td>
<td><p>May be defined to specify an alternative ROMFS image
that can be found at <code class="docutils literal notranslate"><span class="pre">boards/&lt;arch&gt;/&lt;chip&gt;/&lt;board&gt;/include/nsh_romfsimg.h</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ROMFSMOUNTPT</span></code></p></td>
<td><p>The default mountpoint for the ROMFS volume is <code class="docutils literal notranslate"><span class="pre">&quot;/etc&quot;</span></code>,
but that can be changed with this setting. This must be a
absolute path beginning with ‘<code class="docutils literal notranslate"><span class="pre">/</span></code>’ and enclosed in quotes.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_INITSCRIPT</span></code></p></td>
<td><p>This is the relative path to the startup script within the
mountpoint. The default is <code class="docutils literal notranslate"><span class="pre">&quot;init.d/rcS&quot;</span></code>. This is a relative
path and must not start with ‘<code class="docutils literal notranslate"><span class="pre">/</span></code>’ but must be enclosed in quotes.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ROMFSDEVNO</span></code></p></td>
<td><p>This is the minor number of the ROMFS block device.
The default is ‘<code class="docutils literal notranslate"><span class="pre">0</span></code>’ corresponding to <code class="docutils literal notranslate"><span class="pre">/dev/ram0</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ROMFSSECTSIZE</span></code></p></td>
<td><p>This is the sector size to use with the ROMFS volume. Since the
default volume is very small, this defaults to 64 but should
be increased if the ROMFS volume were to be become large.
Any value selected must be a power of 2.</p></td>
</tr>
</tbody>
</table>
<p>When the default <code class="docutils literal notranslate"><span class="pre">rcS</span></code> file used when <code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_ROMFSETC</span></code> is
selected, it will mount a FAT FS under <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>. The following
selections describe that FAT FS.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_FATDEVNO</span></code></p></td>
<td><p>This is the minor number of the FAT FS block device.
The default is ‘<code class="docutils literal notranslate"><span class="pre">1</span></code>’ corresponding to <code class="docutils literal notranslate"><span class="pre">/dev/ram1</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIG_NSH_FATSECTSIZE</span></code></p></td>
<td><p>This is the sector size use with the FAT FS. Default is 512.</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, The Apache Software Foundation

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>