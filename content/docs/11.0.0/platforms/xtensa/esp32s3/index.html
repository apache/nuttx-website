<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Espressif ESP32-S3 &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ESP32S3-DevKit" href="boards/esp32s3-devkit/index.html" />
    <link rel="prev" title="ESP-WROVER-KIT" href="../esp32/boards/esp32-wrover-kit/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../index.html" class="icon icon-home"> NuttX
  

  
    
    <img src="../../../_static/NuttX.png" class="logo" alt="Logo"/>
  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../11.0.0" >11.0.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../arm/index.html">ARM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sim/index.html">Simulators</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Xtensa</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../esp32/index.html">Espressif ESP32</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Espressif ESP32-S3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#toolchain">Toolchain</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#building-from-source">Building from source</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#flashing">Flashing</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#bootloader-and-partitions">Bootloader and partitions</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#peripheral-support">Peripheral Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memory-map">Memory Map</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#address-mapping">Address Mapping</a></li>
<li class="toctree-l5"><a class="reference internal" href="#embedded-memory">Embedded Memory</a></li>
<li class="toctree-l5"><a class="reference internal" href="#boundary-address-embedded">Boundary Address (Embedded)</a></li>
<li class="toctree-l5"><a class="reference internal" href="#external-memory">External Memory</a></li>
<li class="toctree-l5"><a class="reference internal" href="#boundary-address-external">Boundary Address (External)</a></li>
<li class="toctree-l5"><a class="reference internal" href="#linker-segments">Linker Segments</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#supported-boards">Supported Boards</a><ul>
<li class="toctree-l5"><a class="reference internal" href="boards/esp32s3-devkit/index.html">ESP32S3-DevKit</a></li>
<li class="toctree-l5"><a class="reference internal" href="boards/esp32s3-eye/index.html">ESP32-S3-EYE</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Supported Platforms</a> &raquo;</li>
          <li><a href="../index.html">Xtensa</a> &raquo;</li>
      <li>Espressif ESP32-S3</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/platforms/xtensa/esp32s3/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="espressif-esp32-s3">
<h1>Espressif ESP32-S3<a class="headerlink" href="#espressif-esp32-s3" title="Permalink to this headline"></a></h1>
<p>The ESP32-S3 is a series of single and dual-core SoCs from Espressif
based on Harvard architecture Xtensa LX7 CPUs and with on-chip support
for Bluetooth and Wi-Fi.</p>
<p>All embedded memory, external memory and peripherals are located on the
data bus and/or the instruction bus of these CPUs. With some minor
exceptions, the address mapping of two CPUs is symmetric, meaning they
use the same addresses to access the same memory. Multiple peripherals in
the system can access embedded memory via DMA.</p>
<p>On dual-core SoCs, the two CPUs are typically named “PRO_CPU” and “APP_CPU”
(for “protocol” and “application”), however for most purposes the
two CPUs are interchangeable.</p>
<section id="toolchain">
<h2>Toolchain<a class="headerlink" href="#toolchain" title="Permalink to this headline"></a></h2>
<p>You can use the prebuilt <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32s3/api-guides/tools/idf-tools.html#xtensa-esp32s3-elf">toolchain</a>
for Xtensa architecture and <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32s3/api-guides/tools/idf-tools.html#openocd-esp32">OpenOCD</a>
for ESP32-S3 by Espressif.</p>
<p>For flashing firmware, you will need to install <code class="docutils literal notranslate"><span class="pre">esptool.py</span></code> by running:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ pip install esptool
</pre></div>
</div>
<section id="building-from-source">
<h3>Building from source<a class="headerlink" href="#building-from-source" title="Permalink to this headline"></a></h3>
<p>You can also build the toolchain yourself. The steps to
build the toolchain with crosstool-NG on Linux are as follows</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git clone https://github.com/espressif/crosstool-NG.git
<span class="gp">$ </span><span class="nb">cd</span> crosstool-NG
<span class="gp">$ </span>git submodule update --init

<span class="gp">$ </span>./bootstrap <span class="o">&amp;&amp;</span> ./configure --enable-local <span class="o">&amp;&amp;</span> make

<span class="gp">$ </span>./ct-ng xtensa-esp32s3-elf
<span class="gp">$ </span>./ct-ng build

<span class="gp">$ </span>chmod -R u+w builds/xtensa-esp32s3-elf

<span class="gp">$ </span><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;crosstool-NG/builds/xtensa-esp32-elf/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>These steps are given in the setup guide in
<a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/get-started/linux-setup-scratch.html">ESP-IDF documentation</a>.</p>
</section>
</section>
<section id="flashing">
<h2>Flashing<a class="headerlink" href="#flashing" title="Permalink to this headline"></a></h2>
<p>Firmware for ESP32-S3 is flashed via the USB/UART or internal USB DEVICE JTAG interface using the
<code class="docutils literal notranslate"><span class="pre">esptool.py</span></code> tool.
It’s a two step process where the first converts the ELF file into a ESP32-S3 compatible binary
and the second flashes it to the board.  These steps are included into the build system and you can
flash your NuttX firmware simply by running:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ make flash ESPTOOL_PORT=&lt;port&gt;
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;port&gt;</span></code> is typically <code class="docutils literal notranslate"><span class="pre">/dev/ttyUSB0</span></code> or similar. You can change the baudrate by passing <code class="docutils literal notranslate"><span class="pre">ESPTOOL_BAUD</span></code>.</p>
<section id="bootloader-and-partitions">
<h3>Bootloader and partitions<a class="headerlink" href="#bootloader-and-partitions" title="Permalink to this headline"></a></h3>
<p>ESP32-S3 requires a bootloader to be flashed as well as a set of FLASH partitions. This is only needed the first time
(or any time you which to modify either of these). An easy way is to use prebuilt binaries for NuttX <a class="reference external" href="https://github.com/espressif/esp-nuttx-bootloader">from here</a>. In there you will find instructions to rebuild these if necessary.
Once you downloaded both binaries, you can flash them by adding an <code class="docutils literal notranslate"><span class="pre">ESPTOOL_BINDIR</span></code> parameter, pointing to the directory where these binaries were downloaded:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make flash <span class="nv">ESPTOOL_PORT</span><span class="o">=</span>&lt;port&gt; <span class="nv">ESPTOOL_BINDIR</span><span class="o">=</span>&lt;dir&gt;
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended that if this is the first time you are using the board with NuttX that you perform a complete SPI FLASH erase.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>esptool.py erase_flash
</pre></div>
</div>
</div>
</section>
</section>
<section id="peripheral-support">
<h2>Peripheral Support<a class="headerlink" href="#peripheral-support" title="Permalink to this headline"></a></h2>
<p>The following list indicates the state of peripherals’ support in NuttX:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 45%" />
<col style="width: 32%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Peripheral</p></th>
<th class="head"><p>Support</p></th>
<th class="head"><p>NOTES</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GPIO</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>UART</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>SPI</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>I2C</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CAN/TWAI</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>DMA</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Wifi</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>SPIFLASH</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>SPIRAM</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Timers</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Watchdog</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>RTC</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>RNG</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>AES</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>eFuse</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>ADC</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Bluetooth</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>SDIO</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>SD/MMC</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>I2S</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>LCD</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CAMERA</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>LED_PWM</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>RMT</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>MCPWM</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Pulse_CNT</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>SHA</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>RSA</p></td>
<td><p>No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>USB SERIAL</p></td>
<td><p>Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>USB OTG</p></td>
<td><p>No</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="memory-map">
<h2>Memory Map<a class="headerlink" href="#memory-map" title="Permalink to this headline"></a></h2>
<section id="address-mapping">
<h3>Address Mapping<a class="headerlink" href="#address-mapping" title="Permalink to this headline"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 22%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>BUS TYPE</p></th>
<th class="head"><p>START</p></th>
<th class="head"><p>LAST</p></th>
<th class="head"><p>DESCRIPTION</p></th>
<th class="head"><p>NOTES</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>To be added</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="embedded-memory">
<h3>Embedded Memory<a class="headerlink" href="#embedded-memory" title="Permalink to this headline"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>BUS TYPE</p></th>
<th class="head"><p>START</p></th>
<th class="head"><p>LAST</p></th>
<th class="head"><p>DESCRIPTION</p></th>
<th class="head"><p>NOTES</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>To be added</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="boundary-address-embedded">
<h3>Boundary Address (Embedded)<a class="headerlink" href="#boundary-address-embedded" title="Permalink to this headline"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 21%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>BUS TYPE</p></th>
<th class="head"><p>START</p></th>
<th class="head"><p>LAST</p></th>
<th class="head"><p>DESCRIPTION</p></th>
<th class="head"><p>NOTES</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>To be added</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="external-memory">
<h3>External Memory<a class="headerlink" href="#external-memory" title="Permalink to this headline"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>BUS TYPE</p></th>
<th class="head"><p>START</p></th>
<th class="head"><p>LAST</p></th>
<th class="head"><p>DESCRIPTION</p></th>
<th class="head"><p>NOTES</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>To be added</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="boundary-address-external">
<h3>Boundary Address (External)<a class="headerlink" href="#boundary-address-external" title="Permalink to this headline"></a></h3>
<p>To be added</p>
</section>
<section id="linker-segments">
<h3>Linker Segments<a class="headerlink" href="#linker-segments" title="Permalink to this headline"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 7%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>DESCRIPTION</p></th>
<th class="head"><p>START</p></th>
<th class="head"><p>END</p></th>
<th class="head"><p>ATTR</p></th>
<th class="head"><p>LINKER SEGMENT NAME</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>To be added</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="supported-boards">
<h2>Supported Boards<a class="headerlink" href="#supported-boards" title="Permalink to this headline"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="boards/esp32s3-devkit/index.html">ESP32S3-DevKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="boards/esp32s3-eye/index.html">ESP32-S3-EYE</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../esp32/boards/esp32-wrover-kit/index.html" class="btn btn-neutral float-left" title="ESP-WROVER-KIT" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="boards/esp32s3-devkit/index.html" class="btn btn-neutral float-right" title="ESP32S3-DevKit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>