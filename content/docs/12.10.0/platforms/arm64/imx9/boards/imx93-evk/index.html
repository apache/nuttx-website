<!--
 Documentation/_templates/layout.html

 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.  The
 ASF licenses this file to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance with the
 License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations
 under the License.
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>i.MX93 Evaluation Kit &mdash; NuttX latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
      <script src="../../../../../_static/jquery.js"></script>
      <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
      <script src="../../../../../_static/doctools.js"></script>
      <script src="../../../../../_static/sphinx_highlight.js"></script>
      <script src="../../../../../_static/clipboard.min.js"></script>
      <script src="../../../../../_static/copybutton.js"></script>
      <script src="../../../../../_static/design-tabs.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="qemu" href="../../../qemu/index.html" />
    <link rel="prev" title="NXP i.MX9" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  
    <a href="../../../../../index.html" class="icon icon-home"> NuttX
  

  
  </a>

  <!-- this version selector is quite ugly, should be probably replaced by something
       more modern -->

  <div class="version-selector">
    <select onchange="javascript:location.href = this.value;">
    
    <option value="../../../../../../latest" selected="selected">latest</option>
    
    <option value="../../../../../../10.0.0" >10.0.0</option>
    
    <option value="../../../../../../10.0.1" >10.0.1</option>
    
    <option value="../../../../../../10.1.0" >10.1.0</option>
    
    <option value="../../../../../../10.2.0" >10.2.0</option>
    
    <option value="../../../../../../10.3.0" >10.3.0</option>
    
    <option value="../../../../../../11.0.0" >11.0.0</option>
    
    <option value="../../../../../../12.0.0" >12.0.0</option>
    
    <option value="../../../../../../12.1.0" >12.1.0</option>
    
    <option value="../../../../../../12.2.0" >12.2.0</option>
    
    <option value="../../../../../../12.2.1" >12.2.1</option>
    
    <option value="../../../../../../12.3.0" >12.3.0</option>
    
    <option value="../../../../../../12.4.0" >12.4.0</option>
    
    <option value="../../../../../../12.5.0" >12.5.0</option>
    
    <option value="../../../../../../12.5.1" >12.5.1</option>
    
    <option value="../../../../../../12.6.0" >12.6.0</option>
    
    <option value="../../../../../../12.7.0" >12.7.0</option>
    
    <option value="../../../../../../12.8.0" >12.8.0</option>
    
    <option value="../../../../../../12.9.0" >12.9.0</option>
    
    <option value="../../../../../../12.10.0" >12.10.0</option>
    
    <option value="../../../../../../12.11.0" >12.11.0</option>
    
    </select>
  </div>

  
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/inviolables.html">The Inviolable Principles of NuttX</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Supported Platforms</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../arm/index.html">ARM</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">ARM64</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../a527/index.html">Allwinner A527</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../a64/index.html">Allwinner A64</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../bcm2711/index.html">BCM2711</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fvp-v8r/index.html">fvp-v8r</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../imx8/index.html">NXP i.MX8</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">NXP i.MX9</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../../index.html#supported-boards">Supported Boards</a><ul class="current">
<li class="toctree-l5 current"><a class="current reference internal" href="#">i.MX93 Evaluation Kit</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../qemu/index.html">qemu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../rk3399/index.html">Rockchip rk3399</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../zynq-mpsoc/index.html">Zynq UltraScale+ MPSoC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../avr/index.html">Microchip AVR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ceva/index.html">CEVA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../hc/index.html">HC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../mips/index.html">MIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../misco/index.html">Misoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../or1k/index.html">OpenRISC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../renesas/index.html">Renesas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../risc-v/index.html">RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/index.html">Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_linux.html">Network Support on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sim/network_vpnkit.html">Network support with VPNKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../sparc/index.html">SPARC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../tricore/index.html">TriCore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86/index.html">Intel 80x86</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../x86_64/index.html">Intel 80x86_64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../xtensa/index.html">Xtensa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z16/index.html">Z16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../z80/index.html">Z80</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../components/index.html">OS Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../applications/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../implementation/index.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../logos/index.html">NuttX Logos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../_tags/tagsindex.html">Tags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">NuttX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Supported Platforms</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">ARM64</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">NXP i.MX9</a></li>
      <li class="breadcrumb-item active">i.MX93 Evaluation Kit</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/apache/nuttx/blob/master/Documentation/platforms/arm64/imx9/boards/imx93-evk/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="i-mx93-evaluation-kit">
<h1>i.MX93 Evaluation Kit<a class="headerlink" href="#i-mx93-evaluation-kit" title="Permalink to this heading"></a></h1>
<p class="tags"><span>Tags: </span><a class="sd-sphinx-override sd-badge sd-bg-secondary sd-bg-text-secondary reference internal" href="../../../../../_tags/chip-imx93.html"><span class="doc">chip:imx93</span></a><span> </span><a class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary reference internal" href="../../../../../_tags/arch-arm64.html"><span class="doc">arch:arm64</span></a></p>
<p>The kit i.MX93 Evaluation Kit has a pre-installed Linux image which contains
u-boot and the i.MX93 reference Linux installation.</p>
<p>NuttX may work as the bootloader, replacing u-boot completely. Currently it
doesn’t initialize the DDR memory yet. In other words, DDR training is still
missing.</p>
<p>Below is a set of instructions on how to run NuttX on the i.MX93 EVK, on top
of the u-boot. Also, instructions on running NuttX as the bootloader will
follow.</p>
<section id="pre-requisites">
<h2>Pre-requisites<a class="headerlink" href="#pre-requisites" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">imx93_ca55.JLinkScript</span></code> which is a custom file, put it wherever you want</p></li>
</ul>
</section>
<section id="u-boot-configuration">
<h2>U-Boot configuration<a class="headerlink" href="#u-boot-configuration" title="Permalink to this heading"></a></h2>
<p>Two things need to be configured on u-boot before NuttX can be loaded:</p>
<ul class="simple">
<li><p>u-boot data cache must be turned off</p></li>
<li><p>u-boot must stop to the u-boot console, i.e. the Linux payload must not be
loaded</p></li>
</ul>
<section id="manual-option">
<h3>Manual option:<a class="headerlink" href="#manual-option" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Disable u-boot autostart (needs to be done only once):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Hit any key to stop autoboot:  0</span>
<span class="go">u-boot=&gt; setenv bootdelay -1</span>
<span class="go">u-boot=&gt; saveenv</span>
<span class="go">Saving Environment to MMC... Writing to MMC(0)... OK</span>
<span class="go">u-boot=&gt; reset</span>
</pre></div>
</div>
</li>
<li><p>On every boot, the data cache must be disabled for options 2 and 3 to work</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">u-boot=&gt; dcache off</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="automated-option">
<h3>Automated option:<a class="headerlink" href="#automated-option" title="Permalink to this heading"></a></h3>
<p>Replace the default bootcmd to disable dcache automatically:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">u-boot=&gt; setenv bootdelay 0</span>
<span class="go">u-boot=&gt; setenv bootcmd dcache off</span>
<span class="go">u-boot=&gt; saveenv</span>
<span class="go">Saving Environment to MMC... Writing to MMC(0)... OK</span>
<span class="go">u-boot=&gt; reset</span>
</pre></div>
</div>
<p>To restore the default bootcmd which starts Linux automatically:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">u-boot=&gt; setenv bootcmd run distro_bootcmd;run bsp_bootcmd</span>
<span class="go">u-boot=&gt; saveenv</span>
<span class="go">Saving Environment to MMC... Writing to MMC(0)... OK</span>
<span class="go">u-boot=&gt; reset</span>
</pre></div>
</div>
<p>The default bootcmd is:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">u-boot=&gt; env print bootcmd</span>
<span class="go">bootcmd=run distro_bootcmd;run bsp_bootcmd</span>
</pre></div>
</div>
<section id="loading-and-running-the-nuttx-image">
<h4>Loading and running the NuttX image<a class="headerlink" href="#loading-and-running-the-nuttx-image" title="Permalink to this heading"></a></h4>
<p>You have four options:</p>
<ol class="arabic simple">
<li><p>Load via u-boot from SD-card</p></li>
<li><p>Load via gdb</p></li>
<li><p>Load via JLink</p></li>
<li><p>Run from SD-card, without u-boot</p></li>
<li><p>Kernel build, via AHAB boot</p></li>
</ol>
</section>
</section>
</section>
<section id="option-1-load-via-u-boot-from-sd-card">
<h2>Option 1: load via u-boot from SD-card:<a class="headerlink" href="#option-1-load-via-u-boot-from-sd-card" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Build nuttx, and move <code class="docutils literal notranslate"><span class="pre">nuttx.bin</span></code> to SD-card</p></li>
<li><p>Load from SD-card and start nuttx payload</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">u-boot=&gt; dcache off; fatload mmc 1 0x80000000 nuttx.bin; go 0x80000000</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="option-2-start-via-gdb">
<h2>Option 2: start via <code class="docutils literal notranslate"><span class="pre">gdb</span></code>:<a class="headerlink" href="#option-2-start-via-gdb" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Start JLinkGDBServer</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>JLinkGDBServer<span class="w"> </span>-device<span class="w"> </span>CORTEX-A55<span class="w"> </span>-JLinkScriptFile<span class="w"> </span>&lt;path_to&gt;/imx93_ca55.JLinkScript
</pre></div>
</div>
</li>
<li><p>Start gdb</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>aarch64-none-elf-gdb
</pre></div>
</div>
<ol class="loweralpha simple">
<li><p>Attach and load nuttx</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">target remote localhost:2331</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">set mem inaccessible-by-default off</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">load &lt;path_to&gt;/nuttx</span>
<span class="gp gp-VirtualEnv">(gdb)</span> <span class="go">monitor go</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="option-3-load-with-jlink">
<h2>Option 3: load with JLink:<a class="headerlink" href="#option-3-load-with-jlink" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Start JLink</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>JLinkExe<span class="w"> </span>-device<span class="w"> </span>CORTEX-A55<span class="w"> </span>-if<span class="w"> </span>JTAG<span class="w"> </span>-jtagconf<span class="w"> </span>-1,-1<span class="w"> </span>-speed<span class="w"> </span><span class="m">4000</span><span class="w"> </span>-JLinkScriptFile<span class="w"> </span>&lt;path_to&gt;/imx93_ca55.JLinkScript
</pre></div>
</div>
<ol class="loweralpha">
<li><p>Add -AutoConnect 1 to connect automatically</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>JLinkExe<span class="w"> </span>-device<span class="w"> </span>CORTEX-A55<span class="w"> </span>-if<span class="w"> </span>JTAG<span class="w"> </span>-jtagconf<span class="w"> </span>-1,-1<span class="w"> </span>-speed<span class="w"> </span><span class="m">4000</span><span class="w"> </span>-JLinkScriptFile<span class="w"> </span>&lt;path_to&gt;/imx93_ca55.JLinkScript<span class="w"> </span>-AutoConnect<span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p>Connect JLink</p>
<ol class="loweralpha">
<li><p>Connect to the debugger</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Type &quot;connect&quot; to establish a target connection, &#39;?&#39; for help</span>
<span class="go">J-Link&gt;connect</span>
</pre></div>
</div>
<p>You should now have a JLink prompt.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Cortex-A55 identified.</span>
<span class="go">J-Link&gt;</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p>Load nuttx. Note that JLink expects the .elf extension, the default build
output of nuttx is just “nuttx” without the extension, so it must be added to
the file…</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">J-Link&gt;LoadFile &lt;path_to&gt;/nuttx.elf</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="option-4-run-from-sd-card-without-u-boot">
<h2>Option 4: Run from SD-card, without u-boot<a class="headerlink" href="#option-4-run-from-sd-card-without-u-boot" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Make sure <code class="docutils literal notranslate"><span class="pre">CONFIG_IMX9_BOOTLOADER</span></code> is set and system is configured properly
for bootloader operation:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tools/configure.sh<span class="w"> </span>imx93-evk:bootloader
</pre></div>
</div>
</li>
<li><p>The build outputs a file <code class="docutils literal notranslate"><span class="pre">imx9-sdimage.img</span></code>. This image also contains the
Ahab container. It’s required to grant Trusted Resource Domain Controller
(TRDC) permissions. Flash it to an SD-card, where sdX may be sda or something
else; verify the block device name properly (eg. <code class="docutils literal notranslate"><span class="pre">/dev/sda</span></code>, <code class="docutils literal notranslate"><span class="pre">/dev/sdb</span></code> etc):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>imx9-sdimage.img<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/sdX<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1k<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sync
</pre></div>
</div>
</li>
<li><p>Insert the SD-card into the imx93-evk, make sure BMODE switch is [1,2,3,4] =
[Off, On, Off, Off] so that it boots from the SD-card. This should boot into
NuttShell in EL3 level.</p></li>
</ol>
</section>
<section id="option-5-kernel-build-via-ahab-boot">
<h2>Option 5: Kernel build, via AHAB boot<a class="headerlink" href="#option-5-kernel-build-via-ahab-boot" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Follow the instructions at:
<a class="reference external" href="https://spsdk.readthedocs.io/en/latest/examples/ahab/imx93/imx93_ahab_uboot.html">https://spsdk.readthedocs.io/en/latest/examples/ahab/imx93/imx93_ahab_uboot.html</a>
to create an eMMC-bootable image (latest version of instructions tested is
v2.6.1). We will be replacing the u-boot binary in step 2.3 with NuttX.</p></li>
<li><p>Clone both NuttX and NuttX-Apps in same level directories <cite>nuttx</cite> and <cite>apps</cite>
respectively.</p></li>
<li><p>Configure and build NuttX:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>nuttx
<span class="gp">$ </span>tools/configure.sh<span class="w"> </span>imx93-evk:knsh
<span class="gp">$ </span>make
<span class="gp">$ </span>make<span class="w"> </span><span class="nb">export</span>
</pre></div>
</div>
</li>
<li><p>Build NuttX apps and prepare the <code class="docutils literal notranslate"><span class="pre">/bin</span></code> ROMFS image:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">pushd</span><span class="w"> </span>../apps
<span class="gp">$ </span>tools/mkimport.sh<span class="w"> </span>-z<span class="w"> </span>-x<span class="w"> </span>../nuttx/nuttx-export-*.tar.gz
<span class="gp">$ </span>make<span class="w"> </span>import
<span class="gp">$ </span>tools/mkromfsimg.sh
<span class="gp">$ </span>mv<span class="w"> </span>boot_romfsimg.h<span class="w"> </span>../nuttx/boards/arm64/imx9/imx93-evk/include/bin_romfsimg.h
<span class="gp">$ </span><span class="nb">popd</span>
</pre></div>
</div>
</li>
<li><p>Re-build NuttX embedding the generated /bin ROMFS image:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make<span class="w"> </span>clean<span class="w"> </span>clean_context
<span class="gp">$ </span>make
</pre></div>
</div>
</li>
<li><p>Replace the value of the <cite>u-boot:</cite> entry in <code class="docutils literal notranslate"><span class="pre">workspace/ahab_template.yaml</span></code>
created in step 1 above with the path to <code class="docutils literal notranslate"><span class="pre">nuttx.bin</span></code>.</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../index.html" class="btn btn-neutral float-left" title="NXP i.MX9" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../qemu/index.html" class="btn btn-neutral float-right" title="qemu" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The Apache Software Foundation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>